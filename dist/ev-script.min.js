!function(e,t){"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widgets/dialog","jquery-ui/ui/widgets/accordion","jquery-ui/ui/widgets/tabs"],t):e.EV=t(e.$)}(this,function($){var requirejs,require,define;return function(e){function t(e,t){return y.call(e,t)}function n(e,t){var n,r,i,o,s,a,l,u,c,d,h,p,f=t&&t.split("/"),m=g.map,v=m&&m["*"]||{};if(e){for(e=e.split("/"),s=e.length-1,g.nodeIdCompat&&b.test(e[s])&&(e[s]=e[s].replace(b,"")),"."===e[0].charAt(0)&&f&&(p=f.slice(0,f.length-1),e=p.concat(e)),c=0;c<e.length;c++)if("."===(h=e[c]))e.splice(c,1),c-=1;else if(".."===h){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((f||v)&&m){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),f)for(d=f.length;d>0;d-=1)if((i=m[f.slice(0,d).join("/")])&&(i=i[r])){o=i,a=c;break}if(o)break;!l&&v&&v[r]&&(l=v[r],u=c)}!o&&l&&(o=l,a=u),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function r(t,n){return function(){var r=_.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),d.apply(e,r.concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function o(e){return function(t){f[e]=t}}function s(n){if(t(m,n)){var r=m[n];delete m[n],v[n]=!0,c.apply(e,r)}if(!t(f,n)&&!t(v,n))throw new Error("No "+n);return f[n]}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return e?a(e):[]}function u(e){return function(){return g&&g.config&&g.config[e]||{}}}var c,d,h,p,f={},m={},g={},v={},y=Object.prototype.hasOwnProperty,_=[].slice,b=/\.js$/;h=function(e,t){var r,o=a(e),l=o[0],u=t[1];return e=o[1],l&&(l=n(l,u),r=s(l)),l?e=r&&r.normalize?r.normalize(e,i(u)):n(e,u):(e=n(e,u),o=a(e),l=o[0],e=o[1],l&&(r=s(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:r}},p={require:function(e){return r(e)},exports:function(e){var t=f[e];return void 0!==t?t:f[e]={}},module:function(e){return{id:e,uri:"",exports:f[e],config:u(e)}}},c=function(n,i,a,u){var c,d,g,y,_,b,w,k=[],L=typeof a;if(u=u||n,b=l(u),"undefined"===L||"function"===L){for(i=!i.length&&a.length?["require","exports","module"]:i,_=0;_<i.length;_+=1)if(y=h(i[_],b),"require"===(d=y.f))k[_]=p.require(n);else if("exports"===d)k[_]=p.exports(n),w=!0;else if("module"===d)c=k[_]=p.module(n);else if(t(f,d)||t(m,d)||t(v,d))k[_]=s(d);else{if(!y.p)throw new Error(n+" missing "+d);y.p.load(y.n,r(u,!0),o(d),{}),k[_]=f[d]}g=a?a.apply(f[n],k):void 0,n&&(c&&c.exports!==e&&c.exports!==f[n]?f[n]=c.exports:g===e&&w||(f[n]=g))}else n&&(f[n]=a)},requirejs=require=d=function(t,n,r,i,o){if("string"==typeof t)return p[t]?p[t](n):s(h(t,l(n)).f);if(!t.splice){if(g=t,g.deps&&d(g.deps,g.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?c(e,t,n,r):setTimeout(function(){c(e,t,n,r)},4),d},d.config=function(e){return d(e)},requirejs._defined=f,define=function(e,n,r){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(r=n,n=[]),t(f,e)||t(m,e)||(m[e]=[e,n,r])},define.amd={jQuery:!0}}(),define("node_modules/almond/almond",function(){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("underscore",t):(e=e||self,function(){var n=e._,r=e._=t();r.noConflict=function(){return e._=n,r}}())}(this,function(){function e(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){return null===e}function r(e){return void 0===e}function i(e){return!0===e||!1===e||"[object Boolean]"===tt.call(e)}function o(e){return!(!e||1!==e.nodeType)}function s(e){return function(t){return tt.call(t)==="[object "+e+"]"}}function a(e,t){return null!=e&&nt.call(e,t)}function l(e){return!yt(e)&&ut(e)&&!isNaN(parseFloat(e))}function u(e){return ft(e)&&lt(e)}function c(e){return function(){return e}}function d(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=ht}}function h(e){return function(t){return null==t?void 0:t[e]}}function p(e){return at?at(e)&&!Mt(e):Pt(e)&&Ct.test(tt.call(e))}function f(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}function m(e,t){t=f(t);var n=dt.length,r=e.constructor,i=Dt(r)&&r.prototype||Je,o="constructor";for(a(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=dt[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function g(e){if(!t(e))return[];if(ot)return ot(e);var n=[];for(var r in e)a(e,r)&&n.push(r);return ct&&m(e,n),n}function v(e){return null==e||(Ot(e)&&(St(e)||pt(e)||At(e))?0===e.length:0===g(e).length)}function y(e,t){var n=g(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function _(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)}function b(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&w(e,t,n,r)}function w(e,t,n,r){e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var i=tt.call(e);if(i!==tt.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return Xe.valueOf.call(e)===Xe.valueOf.call(t);case"[object ArrayBuffer]":return w(new DataView(e),new DataView(t),n,r);case"[object DataView]":var o=Et(e);if(o!==Et(t))return!1;for(;o--;)if(e.getUint8(o)!==t.getUint8(o))return!1;return!0}if(Yt(e))return w(new DataView(e.buffer),new DataView(t.buffer),n,r);var s="[object Array]"===i;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(Dt(l)&&l instanceof l&&Dt(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!b(e[c],t[c],n,r))return!1}else{var d,h=g(e);if(c=h.length,g(t).length!==c)return!1;for(;c--;)if(d=h[c],!a(t,d)||!b(e[d],t[d],n,r))return!1}return n.pop(),r.pop(),!0}function k(e,t){return b(e,t)}function L(e){if(!t(e))return[];var n=[];for(var r in e)n.push(r);return ct&&m(e,n),n}function M(e){for(var t=g(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function S(e){for(var t=g(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function x(e){for(var t={},n=g(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function T(e){var t=[];for(var n in e)Dt(e[n])&&t.push(n);return t.sort()}function D(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}}function F(){return function(){}}function A(e){if(!t(e))return{};if(st)return st(e);var n=F();n.prototype=e;var r=new n;return n.prototype=null,r}function E(e,t){var n=A(e);return t&&It(n,t),n}function P(e){return t(e)?St(e)?e.slice():Rt({},e):e}function C(e,t){return t(e),e}function Y(e,t){if(!St(t))return a(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!nt.call(e,i))return!1;e=e[i]}return!!n}function j(e){return e}function O(e){return e=It({},e),function(t){return y(t,e)}}function R(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function I(e){return St(e)?function(t){return R(t,e)}:h(e)}function U(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function H(e,n,r){return null==e?j:Dt(e)?U(e,n,r):t(e)&&!St(e)?O(e):I(e)}function N(e,t){return H(e,t,1/0)}function z(e,t,n){return _.iteratee!==N?_.iteratee(e,t):H(e,t,n)}function B(e,t,n){t=z(t,n);for(var r=g(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o}function Z(){}function q(e){return null==e?function(){}:function(t){return St(t)?R(e,t):e[t]}}function W(e,t,n){var r=Array(Math.max(0,e));t=U(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function V(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}function $(e){var t=function(t){return e[t]},n="(?:"+g(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}function K(e){return"\\"+Vt[e]}function G(e,t,n){!t&&n&&(t=n),t=Ut({},t,_.templateSettings);var r=RegExp([(t.escape||Wt).source,(t.interpolate||Wt).source,(t.evaluate||Wt).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace($t,K),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,_)};return a.source="function("+(t.variable||"obj")+"){\n"+o+"}",a}function J(e,t,n){St(t)||(t=[t]);var r=t.length;if(!r)return Dt(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=Dt(o)?o.call(e):o}return e}function X(e){var t=++Kt+"";return e?e+t:t}function Q(e){var t=_(e);return t._chain=!0,t}function ee(e,n,r,i,o){if(!(i instanceof n))return e.apply(r,o);var s=A(e.prototype),a=e.apply(s,o);return t(a)?a:s}function te(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,s=jt(e);o<s;o++){var a=e[o];if(Ot(a)&&(St(a)||At(a)))if(t>1)te(a,t-1,n,r),i=r.length;else for(var l=0,u=a.length;l<u;)r[i++]=a[l++];else n||(r[i++]=a)}return r}function ne(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return a(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}function re(e,t,n){var r,i,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Ht(),r=null,s=e.apply(i,o),r||(i=o=null)},u=function(){var u=Ht();a||!1!==n.leading||(a=u);var c=t-(u-a);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),a=u,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u}function ie(t,n,r){var i,o,s=function(e,n){i=null,n&&(o=t.apply(e,n))},a=e(function(e){if(i&&clearTimeout(i),r){var a=!i;i=setTimeout(s,n),a&&(o=t.apply(this,e))}else i=Qt(s,n,this,e);return o});return a.cancel=function(){clearTimeout(i),i=null},a}function oe(e,t){return Gt(t,e)}function se(e){return function(){return!e.apply(this,arguments)}}function ae(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function le(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function ue(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}function ce(e,t,n){t=z(t,n);for(var r,i=g(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r}function de(e){return function(t,n,r){n=z(n,r);for(var i=jt(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function he(e,t,n,r){n=z(n,r,1);for(var i=n(t),o=0,s=jt(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}function pe(e,t,n){return function(r,i,o){var s=0,a=jt(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(et.call(r,s,a),u),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}function fe(e,t,n){var r=Ot(e)?nn:ce,i=r(e,t,n);if(void 0!==i&&-1!==i)return e[i]}function me(e,t){return fe(e,O(t))}function ge(e,t,n){t=U(t,n);var r,i;if(Ot(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=g(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function ve(e,t,n){t=z(t,n);for(var r=!Ot(e)&&g(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}function ye(e){var t=function(t,n,r,i){var o=!Ot(t)&&g(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;r=n(r,t[l],l,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,U(n,i,4),r,o)}}function _e(e,t,n){var r=[];return t=z(t,n),ge(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function be(e,t,n){return _e(e,se(z(t)),n)}function we(e,t,n){t=z(t,n);for(var r=!Ot(e)&&g(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}function ke(e,t,n){t=z(t,n);for(var r=!Ot(e)&&g(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}function Le(e,t,n,r){return Ot(e)||(e=M(e)),("number"!=typeof n||r)&&(n=0),on(e,t,n)>=0}function Me(e,t){return ve(e,I(t))}function Se(e,t){return _e(e,O(t))}function xe(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=Ot(e)?e:M(e);for(var a=0,l=e.length;a<l;a++)null!=(r=e[a])&&r>o&&(o=r)}else t=z(t,n),ge(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o}function Te(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=Ot(e)?e:M(e);for(var a=0,l=e.length;a<l;a++)null!=(r=e[a])&&r<o&&(o=r)}else t=z(t,n),ge(e,function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o}function De(e,t,n){if(null==t||n)return Ot(e)||(e=M(e)),e[V(e.length-1)];var r=Ot(e)?P(e):M(e),i=jt(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=V(s,o),l=r[s];r[s]=r[a],r[a]=l}return r.slice(0,t)}function Fe(e){return De(e,1/0)}function Ae(e,t,n){var r=0;return t=z(t,n),Me(ve(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")}function Ee(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=z(r,i),ge(n,function(t,i){var s=r(t,i,n);e(o,t,s)}),o}}function Pe(e){return e?St(e)?et.call(e):pt(e)?e.match(fn):Ot(e)?ve(e,j):M(e):[]}function Ce(e){return null==e?0:Ot(e)?e.length:g(e).length}function Ye(e,t,n){return t in n}function je(e,t,n){return et.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Oe(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:je(e,e.length-t)}function Re(e,t,n){return et.call(e,null==t||n?1:t)}function Ie(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Re(e,Math.max(0,e.length-t))}function Ue(e){return _e(e,Boolean)}function He(e,t){return te(e,t,!1)}function Ne(e,t,n,r){i(t)||(r=n,n=t,t=!1),null!=n&&(n=z(n,r));for(var o=[],s=[],a=0,l=jt(e);a<l;a++){var u=e[a],c=n?n(u,a,e):u;t&&!n?(a&&s===c||o.push(u),s=c):n?Le(s,c)||(s.push(c),o.push(u)):Le(o,u)||o.push(u)}return o}function ze(e){for(var t=[],n=arguments.length,r=0,i=jt(e);r<i;r++){var o=e[r];if(!Le(t,o)){var s;for(s=1;s<n&&Le(arguments[s],o);s++);s===n&&t.push(o)}}return t}function Be(e){for(var t=e&&xe(e,jt).length||0,n=Array(t),r=0;r<t;r++)n[r]=Me(e,r);return n}function Ze(e,t){for(var n={},r=0,i=jt(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function qe(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function We(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(et.call(e,r,r+=t));return n}function Ve(e,t){return e._chain?_(t).chain():t}function $e(e){return ge(T(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return Qe.apply(e,arguments),Ve(this,n.apply(_,e))}}),_}var Ke="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Ge=Array.prototype,Je=Object.prototype,Xe="undefined"!=typeof Symbol?Symbol.prototype:null,Qe=Ge.push,et=Ge.slice,tt=Je.toString,nt=Je.hasOwnProperty,rt="undefined"!=typeof ArrayBuffer,it=Array.isArray,ot=Object.keys,st=Object.create,at=rt&&ArrayBuffer.isView,lt=isNaN,ut=isFinite,ct=!{toString:null}.propertyIsEnumerable("toString"),dt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ht=Math.pow(2,53)-1,pt=s("String"),ft=s("Number"),mt=s("Date"),gt=s("RegExp"),vt=s("Error"),yt=s("Symbol"),_t=s("Map"),bt=s("WeakMap"),wt=s("Set"),kt=s("WeakSet"),Lt=s("ArrayBuffer"),Mt=s("DataView"),St=it||s("Array"),xt=s("Function"),Tt=Ke.document&&Ke.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Tt&&(xt=function(e){return"function"==typeof e||!1});var Dt=xt,Ft=s("Arguments");!function(){Ft(arguments)||(Ft=function(e){return a(e,"callee")})}();var At=Ft,Et=h("byteLength"),Pt=d(Et),Ct=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Yt=rt?p:c(!1),jt=h("length"),Ot=d(jt);_.VERSION="1.11.0",_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)};var Rt=D(L),It=D(g),Ut=D(L,!0);_.iteratee=N;var Ht=Date.now||function(){return(new Date).getTime()},Nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},zt=$(Nt),Bt=x(Nt),Zt=$(Bt),qt=_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Wt=/(.)^/,Vt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$t=/\\|'|\r|\n|\u2028|\u2029/g,Kt=0,Gt=e(function(e,t){var n=Gt.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return ee(e,r,this,this,s)};return r});Gt.placeholder=_;var Jt=e(function(t,n,r){if(!Dt(t))throw new TypeError("Bind must be called on a function");var i=e(function(e){return ee(t,i,n,this,r.concat(e))});return i}),Xt=e(function(e,t){t=te(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Jt(e[r],e)}return e}),Qt=e(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),en=Gt(Qt,_,1),tn=Gt(ue,2),nn=de(1),rn=de(-1),on=pe(1,nn,he),sn=pe(-1,rn),an=ye(1),ln=ye(-1),un=e(function(e,t,n){var r,i;return Dt(t)?i=t:St(t)&&(r=t.slice(0,-1),t=t[t.length-1]),ve(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=R(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),cn=Ee(function(e,t,n){a(e,n)?e[n].push(t):e[n]=[t]}),dn=Ee(function(e,t,n){e[n]=t}),hn=Ee(function(e,t,n){a(e,n)?e[n]++:e[n]=1}),pn=Ee(function(e,t,n){e[n?0:1].push(t)},!0),fn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,mn=e(function(e,t){var n={},r=t[0];if(null==e)return n;Dt(r)?(t.length>1&&(r=U(r,t[1])),t=L(e)):(r=Ye,t=te(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n}),gn=e(function(e,t){var n,r=t[0];return Dt(r)?(r=se(r),t.length>1&&(n=t[1])):(t=ve(te(t,!1,!1),String),r=function(e,n){return!Le(t,n)}),mn(e,r,n)}),vn=e(function(e,t){return t=te(t,!0,!0),_e(e,function(e){return!Le(t,e)})}),yn=e(function(e,t){return vn(e,t)}),_n=e(function(e){return Ne(te(e,!0,!0))}),bn=e(Be);ge(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Ge[e];_.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Ve(this,n)}}),ge(["concat","join","slice"],function(e){var t=Ge[e];_.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Ve(this,e)}});var wn={__proto__:null,VERSION:"1.11.0",restArguments:e,isObject:t,isNull:n,isUndefined:r,isBoolean:i,isElement:o,isString:pt,isNumber:ft,isDate:mt,isRegExp:gt,isError:vt,isSymbol:yt,isMap:_t,isWeakMap:bt,isSet:wt,isWeakSet:kt,isArrayBuffer:Lt,isDataView:Mt,isArray:St,isFunction:Dt,isArguments:At,isFinite:l,isNaN:u,isTypedArray:Yt,isEmpty:v,isMatch:y,isEqual:k,keys:g,allKeys:L,values:M,pairs:S,invert:x,functions:T,methods:T,extend:Rt,extendOwn:It,assign:It,defaults:Ut,create:E,clone:P,tap:C,has:Y,mapObject:B,identity:j,constant:c,noop:Z,property:I,propertyOf:q,matcher:O,matches:O,times:W,random:V,now:Ht,escape:zt,unescape:Zt,templateSettings:qt,template:G,result:J,uniqueId:X,chain:Q,iteratee:N,partial:Gt,bind:Jt,bindAll:Xt,memoize:ne,delay:Qt,defer:en,throttle:re,debounce:ie,wrap:oe,negate:se,compose:ae,after:le,before:ue,once:tn,findKey:ce,findIndex:nn,findLastIndex:rn,sortedIndex:he,indexOf:on,lastIndexOf:sn,find:fe,detect:fe,findWhere:me,each:ge,forEach:ge,map:ve,collect:ve,reduce:an,foldl:an,inject:an,reduceRight:ln,foldr:ln,filter:_e,select:_e,reject:be,every:we,all:we,some:ke,any:ke,contains:Le,includes:Le,include:Le,invoke:un,pluck:Me,where:Se,max:xe,min:Te,shuffle:Fe,sample:De,sortBy:Ae,groupBy:cn,indexBy:dn,countBy:hn,partition:pn,toArray:Pe,size:Ce,pick:mn,omit:gn,first:Oe,head:Oe,take:Oe,initial:je,last:Ie,rest:Re,tail:Re,drop:Re,compact:Ue,flatten:He,without:yn,uniq:Ne,unique:Ne,union:_n,intersection:ze,difference:vn,unzip:Be,transpose:Be,zip:bn,object:Ze,range:qe,chunk:We,mixin:$e,default:_},kn=$e(wn);return kn._=kn,kn}),function(e){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(e){}e(t,exports,r,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.0",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s,a=t.Events={},l=/\s+/,u=function(e,t,r,i,o){var s,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(s=n.keys(r);a<s.length;a++)t=u(e,t,s[a],r[s[a]],o)}else if(r&&l.test(r))for(s=r.split(l);a<s.length;a++)t=e(t,s[a],i,o);else t=e(t,r,i,o);return t};a.on=function(e,t,n){if(this._events=u(c,this._events||{},e,t,{context:n,ctx:this,listening:s}),s){(this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1}return this},a.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=s=o[i];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=o[i]=new g(this,e));var l=d(e,t,r,this);if(s=void 0,l)throw l;return a.interop&&a.on(t,r),this};var c=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return e},d=function(e,t,n,r){try{e.on(t,n,r)}catch(e){return e}};a.off=function(e,t,n){return this._events?(this._events=u(h,this._events,e,t,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(t,r,this),a.interop&&a.off(t,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var h=function(e,t,r,i){if(e){var o,s=i.context,a=i.listeners,l=0;if(t||s||r){for(o=t?[t]:n.keys(e);l<o.length;l++){t=o[l];var u=e[t];if(!u)break;for(var c=[],d=0;d<u.length;d++){var h=u[d];if(r&&r!==h.callback&&r!==h.callback._callback||s&&s!==h.context)c.push(h);else{var p=h.listening;p&&p.off(t,r)}}c.length?e[t]=c:delete e[t]}return e}for(o=n.keys(a);l<o.length;l++)a[o[l]].cleanup()}};a.once=function(e,t,n){var r=u(p,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(r,t,n)},a.listenToOnce=function(e,t,n){var r=u(p,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,r)};var p=function(e,t,r,i){if(r){var o=e[t]=n.once(function(){i(t,o),r.apply(this,arguments)});o._callback=r}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return u(f,this._events,e,void 0,n),this};var f=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&m(i,r),o&&m(o,[t].concat(r))}return e},m=function(e,t){var n,r=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},g=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=a.on,g.prototype.off=function(e,t){var n;this.interop?(this._events=u(h,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(t,a);var v=t.Model=function(e,t){var r=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in i)t=i[h],n.isEqual(u[h],t)||a.push(h),n.isEqual(d[h],t)?delete c[h]:c[h]=t,o?delete u[h]:u[h]=t;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=r);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,u[a[p]],r)}if(l)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in e){var s=e[o];n.isEqual(r[o],s)||(i[o]=s,t=!0)}return!!t&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},$(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,l=this.attributes;r.success=function(e){s.attributes=l;var t=r.parse?s.parse(e,r):e;if(o&&(t=n.extend({},i,t)),t&&!s.set(t,r))return!1;a&&a.call(r.context,s,e,r),s.trigger("sync",s,e,r)},$(this,r),i&&o&&(this.attributes=n.extend({},l,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var c=this.sync(u,this,r);return this.attributes=l,c},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):($(this,e),s=this.sync("delete",this,e)),i||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||V();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}});var y=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},_={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},w=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,i=Array(e.length-n),o=t.length;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<o;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+o+n]=i[r]};n.extend(y.prototype,a,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,b))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(null!=e){t=n.extend({},_,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,s,a=[],l=[],u=[],c=[],d={},h=t.add,p=t.merge,f=t.remove,m=!1,g=this.comparator&&null==i&&!1!==t.sort,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){o=e[s];var y=this.get(o);if(y){if(p&&o!==y){var b=this._isModel(o)?o.attributes:o;t.parse&&(b=y.parse(b,t)),y.set(b,t),u.push(y),g&&!m&&(m=y.hasChanged(v))}d[y.cid]||(d[y.cid]=!0,a.push(y)),e[s]=y}else h&&(o=e[s]=this._prepareModel(o,t))&&(l.push(o),this._addReference(o,t),d[o.cid]=!0,a.push(o))}if(f){for(s=0;s<this.length;s++)o=this.models[s],d[o.cid]||c.push(o);c.length&&this._removeModels(c,t)}var k=!1,L=!g&&h&&f;if(a.length&&L?(k=this.length!==a.length||n.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,w(this.models,a,0),this.length=this.models.length):l.length&&(g&&(m=!0),w(this.models,l,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(s=0;s<l.length;s++)null!=i&&(t.index=i+s),o=l[s],o.trigger("add",o,this,t);(m||k)&&this.trigger("sort",this,t),(l.length||c.length||u.length)&&(t.changes={added:l,removed:c,merged:u},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{}
;for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},$(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new L(this,M)},keys:function(){return new L(this,S)},entries:function(){return new L(this,x)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var s=this.modelId(i.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}});var k="function"==typeof Symbol&&Symbol.iterator;k&&(y.prototype[k]=y.prototype.values);var L=function(e,t){this._collection=e,this._kind=t,this._index=0},M=1,S=2,x=3;k&&(L.prototype[k]=function(){return this}),L.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e=this._collection.at(this._index);this._index++;var t;if(this._kind===M)t=e;else{var n=this._collection.modelId(e.attributes);t=this._kind===S?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var T=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,F)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,F=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(D);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var A=function(e,t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,i){return e[n](this[r],P(t,this),i)};case 4:return function(t,i,o){return e[n](this[r],P(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),e[n].apply(e,t)}}},E=function(e,t,r,i){n.each(r,function(n,r){t[r]&&(e.prototype[r]=A(t,n,r,i))})},P=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?C(e):n.isString(e)?function(t){return t.get(e)}:e},C=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},Y={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},j={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,Y,"models"],[v,j,"attributes"]],function(e){var t=e[0],r=e[1],i=e[2];t.mixin=function(e){var r=n.reduce(n.functions(e),function(e,t){return e[t]=0,e},{});E(t,e,r,i)},E(t,n,r,i)}),t.sync=function(e,r,i){var o=O[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||V()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var u=i.xhr=t.ajax(n.extend(s,i));return r.trigger("request",r,u,i),u};var O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var R=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,U=/(\(\?)?:\w+/g,H=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(R.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),t.history.trigger("route",o,r,s))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(I,"(?:$1)?").replace(U,function(e,t){return t?e:"([^/?]+)"}).replace(H,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var z=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,Z=/^\/+|\/+$/g,q=/#.*$/;z.started=!1,n.extend(z.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(B,"")},start:function(e){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Z,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!z.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(q,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new z;var W=function(e,t){var r,i=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t),r.prototype=n.create(i.prototype,e),r.prototype.constructor=r,r.__super__=i.prototype,r};v.extend=y.extend=R.extend=T.extend=z.extend=W;var V=function(){throw new Error('A "url" property or function must be specified')},$=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("loglevel",t):"object"==typeof module&&module.exports?module.exports=t():e.log=t()}(this,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function n(n){return"debug"===n&&(n="log"),typeof console!==l&&("trace"===n&&u?t:void 0!==console[n]?e(console,n):void 0!==console.log?e(console,"log"):a)}function r(e,t){for(var n=0;n<c.length;n++){var r=c[n];this[r]=n<e?a:this.methodFactory(r,e,t)}this.log=this.debug}function i(e,t,n){return function(){typeof console!==l&&(r.call(this,t,n),this[e].apply(this,arguments))}}function o(e,t,r){return n(e)||i.apply(this,arguments)}function s(e,t,n){function i(e){var t=(c[e]||"silent").toUpperCase();if(typeof window!==l&&d){try{return void(window.localStorage[d]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+t+";"}catch(e){}}}function s(){var e;if(typeof window!==l&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===l)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(d)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}var a,u=this,d="loglevel";"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=n||o,u.getLevel=function(){return a},u.setLevel=function(t,n){if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(a=t,!1!==n&&i(t),r.call(u,t,e),typeof console===l&&t<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(e){s()||u.setLevel(e,!1)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)};var h=s();null==h&&(h=null==t?"WARN":t),u.setLevel(h,!1)}var a=function(){},l="undefined",u=typeof window!==l&&typeof window.navigator!==l&&/Trident\/|MSIE /.test(window.navigator.userAgent),c=["trace","debug","info","warn","error"],d=new s,h={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new s(e,d.getLevel(),d.methodFactory)),t};var p=typeof window!==l?window.log:void 0;return d.noConflict=function(){return typeof window!==l&&window.log===d&&(window.log=p),d},d.getLoggers=function(){return h},d.default=d,d}),function(e,t){"function"==typeof define&&define.amd?define("cldr",t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.Cldr=t()}(this,function(){var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(t,n){if(e(t)&&(t=t.join("/")),"string"!=typeof t)throw new Error('invalid path "'+t+'"');return t=t.replace(/^\//,"").replace(/^cldr\//,""),t=t.replace(/{[a-zA-Z]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),n[e]}),t.split("/")},n=function(e,t){var n,r;if(e.some)return e.some(t);for(n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return!0;return!1},r=function(e,t,r,i){var o,s,a=r[0],l=r[1],u=e.localeSep,c=r[2],d=r.slice(3,4);return i=i||{},"und"!==a&&"Zzzz"!==l&&"ZZ"!==c?[a,l,c].concat(d):void 0!==t.get("supplemental/likelySubtags")?(s=n([[a,l,c],[a,c],[a,l],[a],["und",l]],function(e){return o=!/\b(Zzzz|ZZ)\b/.test(e.join(u))&&t.get(["supplemental/likelySubtags",e.join(u)])}),s?(o=o.split(u),["und"!==a?a:o[0],"Zzzz"!==l?l:o[1],"ZZ"!==c?c:o[2]].concat(d)):i.force?t.get("supplemental/likelySubtags/und").split(u):void 0):void 0},o=function(e,t,i){var o,s,a=i[0],l=i[1],u=i[2],c=i[3];return s=n([[[a,"Zzzz","ZZ"],[a]],[[a,"Zzzz",u],[a,u]],[[a,l,"ZZ"],[a,l]]],function(n){var s=r(e,t,n[0]);return o=n[1],s&&s[0]===i[0]&&s[1]===i[1]&&s[2]===i[2]}),s?(c&&o.push(c),o):i},s=function(e){var t,n,r=[];return e=e.replace(/_/,"-"),t=e.split("-u-"),t[1]&&(t[1]=t[1].split("-t-"),e=t[0]+(t[1][1]?"-t-"+t[1][1]:""),r[4]=t[1][0]),n=e.split("-t-")[0],null===(t=n.match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/))?["und","Zzzz","ZZ"]:(r[0]=t[10]||t[2]||"und",r[1]=t[4]||"Zzzz",r[2]=t[6]||"ZZ",t[7]&&t[7].length&&(r[3]=t[7].slice(1)),r)},a=function(e,t){var n,r;if(e.forEach)return e.forEach(t);for(n=0,r=e.length;n<r;n++)t(e[n],n,e)},l=function(e,t,n){var l=e._availableBundleMap,u=e._availableBundleMapQueue;return u.length&&(a(u,function(n){var a,c,d,h;if(h=s(n),void 0===(c=r(e,t,h)))throw u.splice(i,1),new Error("Could not find likelySubtags for "+n);d=o(e,t,c),d=d.join(e.localeSep),(a=l[d])&&a.length<n.length||(l[d]=n)}),e._availableBundleMapQueue=[]),l[n]||null},u=function(e){var t,n=[];if(Object.keys)return Object.keys(e);for(t in e)n.push(t);return n},c=function(e,t){var n,r;return r=e+(t&&JSON?": "+JSON.stringify(t):""),n=new Error(r),n.code=e,a(u(t),function(e){n[e]=t[e]}),n},d=function(e,t,n){if(!t)throw c(e,n)},h=function(e,t){d("E_MISSING_PARAMETER",void 0!==e,{name:t})},p=function(e,t,n,r){d("E_INVALID_PAR_TYPE",n,{expected:r,name:t,value:e})},f=function(t,n){p(t,n,"string"==typeof t||e(t),"String or Array")},m=function(e){return null!==e&&""+e=="[object Object]"},g=function(e,t){p(e,t,void 0===e||m(e),"Plain Object")},v=function(e,t){p(e,t,"string"==typeof e,"a string")},y=function(e,t){var n,r=e,i=t.length;for(n=0;n<i-1;n++)if(!(r=r[t[n]]))return;return r[t[n]]},_=function(e,t){var n,r=e._availableBundleMapQueue,i=y(t,["main"]);if(i)for(n in i)i.hasOwnProperty(n)&&"root"!==n&&-1===r.indexOf(n)&&r.push(n)},b=function(t){return e(t)?t:[t]},w=function(){var t=function(){var n={},r=[].slice.call(arguments,0);return a(r,function(r){var i;for(i in r)i in n&&"object"==typeof n[i]&&!e(n[i])?n[i]=t(n[i],r[i]):n[i]=r[i]}),n};return t}(),k=function(e,t,n){var r,i,o;for(h(n[0],"json"),r=0;r<n.length;r++)for(o=b(n[r]),i=0;i<o.length;i++)g(o[i],"json"),t=w(t,o[i]),_(e,o[i]);return t},L=function(e,n,r){var i=t(n,r);return y(e._resolved,i)},M=function(e){this.init(e)};return M._alwaysArray=b,M._coreLoad=k,M._createError=c,M._itemGetResolved=L,M._jsonMerge=w,M._pathNormalize=t,M._resourceGet=y,M._validatePresence=h,M._validateType=p,M._validateTypePath=f,M._validateTypePlainObject=g,M._availableBundleMap={},M._availableBundleMapQueue=[],M._resolved={},M.localeSep="-",M.load=function(){M._resolved=k(M,M._resolved,arguments)},M.prototype.init=function(e){var t,n,i,a,u,c,d,p,f,m=M.localeSep,g="";h(e,"locale"),v(e,"locale"),c=s(e),5===c.length&&(p=c.pop(),g=m+"u"+m+p,c[3]||c.pop()),f=c[3],i=r(M,this,c,{force:!0})||c,n=i[0],u=i[1],d=i[2],a=o(M,this,i).join(m),this.attributes=t={bundle:l(M,this,a),minLanguageId:a+g,maxLanguageId:i.join(m)+g,language:n,script:u,territory:d,region:d,variant:f},p&&("-"+p).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,n,r){n?t["u"+n]=r:t["u"+e]=!0}),this.locale=e},M.prototype.get=function(e){return h(e,"path"),f(e,"path"),L(M,e,this.attributes)},M.prototype.main=function(e){return h(e,"path"),f(e,"path"),d("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=b(e),this.get(["main/{bundle}"].concat(e))},M}),function(e){"function"==typeof define&&define.amd?define("cldr/event",["../cldr"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("../cldr")):e(Cldr)}(function(e){function t(e,t){c(e,t,"string"==typeof e||e instanceof RegExp,"String or RegExp")}function n(e,n){return function(r,i){return u(r,"event"),t(r,"event"),u(i,"listener"),p(i,"listener"),n[e].apply(n,arguments)}}function r(e){return n("off",e)}function i(e){return n("on",e)}function o(e){return n("once",e)}function s(){d=e.prototype.get,e.prototype.get=function(e){var t=d.apply(this,arguments);return e=l(e,this.attributes).join("/"),f.trigger("get",[e,t]),this.ee.trigger("get",[e,t]),t}}var a,l=e._pathNormalize,u=e._validatePresence,c=e._validateType;a=function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i={};return r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),o="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(o?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(r=t(o[i],n))&&o[i].splice(r,1);return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):s.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],!0===n.once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=originalGlobalValue,e},e}();var d,h,p=function(e,t){c(e,t,void 0===e||"function"==typeof e,"Function")},f=new a;return e.off=r(f),e.on=i(f),e.once=o(f),h=e.prototype.init,e.prototype.init=function(){var e;this.ee=e=new a,this.off=r(e),this.on=i(e),this.once=o(e),h.apply(this,arguments)},e._eventInit=s,s(),e}),function(e,t){"function"==typeof define&&define.amd?define("globalize",["cldr","cldr/event"],t):"object"==typeof exports?module.exports=t(require("cldrjs")):e.Globalize=t(e.Cldr)}(this,function(e){function t(e){e.once("get",v),e.get("supplemental/likelySubtags")}function n(e){if(!(this instanceof n))return new n(e);_(e,"locale"),k(e,"locale"),this.cldr=S(e),t(this.cldr)}var r=function(e){return"string"==typeof e?e:"number"==typeof e?""+e:JSON.stringify(e)},i=function(e,t){return e=e.replace(/{[0-9a-zA-Z-_. ]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),r(t[e])})},o=function(){var e=arguments[0];return[].slice.call(arguments,1).forEach(function(t){var n;for(n in t)e[n]=t[n]}),e},s=function(e,t,n){var r;return t=e+(t?": "+i(t,n):""),r=new Error(t),r.code=e,o(r,n),r},a=function(e,t,n){if(e.length&&e[e.length-1].type===t)return void(e[e.length-1].value+=n);e.push({type:t,value:n})},l=function(e,t){var n=0,r=[];return e.replace(/{[0-9a-zA-Z-_. ]+}/g,function(i,o){var s=i.slice(1,-1);a(r,"literal",e.slice(n,o)),a(r,"variable",t[s]),r[r.length-1].name=s,n+=o+i.length}),r.filter(function(e){return""!==e.value})},u=function(e){return e.map(function(e){return e.value}).join("")},c=function(e){return JSON.stringify(e,function(e,t){return t&&t.runtimeKey?t.runtimeKey:t})},d=function(e){return[].reduce.call(e,function(e,t){return 0|(e=(e<<5)-e+t.charCodeAt(0))},0)},h=function(e,t,n,r){var i;return r=r||c(n),i=d(e+t+r),i>0?"a"+i:"b"+Math.abs(i)},p=function(e){if(void 0!==e.name)return e.name;var t=/^function\s+([\w\$]+)\s*\(/.exec(e.toString());return t&&t.length>0?t[1]:void 0},f=function(e,t,n,r){var i=c(e),o=p(n),s=t.locale;return o?(n.runtimeKey=h(o,s,null,i),n.generatorString=function(){return'Globalize("'+s+'").'+o+"("+i.slice(1,-1)+")"},n.runtimeArgs=r,n):n},m=function(e,t,n,r){if(!n)throw s(e,t,r)},g=function(e){return Array.isArray(e)?e:e?[e]:[]},v=function(e,t,n){var r;n=n||{},r=g(n.skip).some(function(t){return t.test(e)}),m("E_MISSING_CLDR","Missing required CLDR content `{path}`.",t||r,{path:e})},y=function(e){m("E_DEFAULT_LOCALE_NOT_DEFINED","Default locale has not been defined.",void 0!==e,{})},_=function(e,t){m("E_MISSING_PARAMETER","Missing required parameter `{name}`.",void 0!==e,{name:t})},b=function(e,t,n,r){m("E_PAR_OUT_OF_RANGE","Parameter `{name}` has value `{value}` out of range [{minimum}, {maximum}].",void 0===e||e>=n&&e<=r,{maximum:r,minimum:n,name:t,value:e})},w=function(e,t,n,r){m("E_INVALID_PAR_TYPE","Invalid `{name}` parameter ({value}). {expected} expected.",n,{expected:r,name:t,value:e})},k=function(t,n){w(t,n,void 0===t||"string"==typeof t||t instanceof e,"String or Cldr instance")},L=function(e){return null!==e&&""+e=="[object Object]"},M=function(e,t){w(e,t,void 0===e||L(e),"Plain Object")},S=function(t){return t instanceof e?t:new e(t)},x=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},T=function(e,t,n){var r;for("string"!=typeof e&&(e=String(e)),r=e.length;r<t;r+=1)e=n?e+"0":"0"+e;return e};return n.load=function(){e.load.apply(e,arguments)},n.locale=function(e){return k(e,"locale"),arguments.length&&(this.cldr=S(e),t(this.cldr)),this.cldr},n._alwaysArray=g,n._createError=s,n._formatMessage=i,n._formatMessageToParts=l,n._isPlainObject=L,n._objectExtend=o,n._partsJoin=u,n._partsPush=a,n._regexpEscape=x,n._runtimeBind=f,n._stringPad=T,n._validate=m,n._validateCldr=v,n._validateDefaultLocale=y,n._validateParameterPresence=_,n._validateParameterRange=b,n._validateParameterTypePlainObject=M,n._validateParameterType=w,n}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return to.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(r(e,t))return!1;return!0}function o(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return Mt(e,t,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=d()),e._pf}function p(e){if(null==e._isValid){var t=h(e),n=no.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function f(e){var t=c(NaN);return null!=e?u(h(t),e):h(t).userInvalidated=!0,t}function m(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=h(t)),o(t._locale)||(e._locale=t._locale),ro.length>0)for(n=0;n<ro.length;n++)r=ro[n],i=t[r],o(i)||(e[r]=i);return e}function g(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===io&&(io=!0,e.updateOffset(this),io=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function y(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,n){var i=!0;return u(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){var o,s,a,l=[];for(s=0;s<arguments.length;s++){if(o="","object"==typeof arguments[s]){o+="\n["+s+"] ";for(a in arguments[0])r(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[s];l.push(o)}y(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function b(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),oo[t]||(y(n),oo[t]=!0)}function w(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e){var t,n;for(n in e)r(e,n)&&(t=e[n],w(t)?this[n]=t:this["_"+n]=t);this._config=e,
this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L(e,t){var i,o=u({},e);for(i in t)r(t,i)&&(n(e[i])&&n(t[i])?(o[i]={},u(o[i],e[i]),u(o[i],t[i])):null!=t[i]?o[i]=t[i]:delete o[i]);for(i in e)r(e,i)&&!r(t,i)&&n(e[i])&&(o[i]=u({},o[i]));return o}function M(e){null!=e&&this.set(e)}function S(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return w(r)?r.call(t,n):r}function x(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function T(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(po[e]=i),t&&(po[t[0]]=function(){return x(i.apply(this,arguments),t[1],t[2])}),n&&(po[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function D(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function F(e){var t,n,r=e.match(uo);for(t=0,n=r.length;t<n;t++)po[r[t]]?r[t]=po[r[t]]:r[t]=D(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=w(r[i])?r[i].call(t,e):r[i];return o}}function A(e,t){return e.isValid()?(t=E(t,e.localeData()),ho[t]=ho[t]||F(t),ho[t](e)):e.localeData().invalidDate()}function E(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(co.lastIndex=0;r>=0&&co.test(e);)e=e.replace(co,n),co.lastIndex=0,r-=1;return e}function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(uo).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}function C(){return this._invalidDate}function Y(e){return this._ordinal.replace("%d",e)}function j(e,t,n,r){var i=this._relativeTime[n];return w(i)?i(e,t,n,r):i.replace(/%d/i,e)}function O(e,t){var n=this._relativeTime[e>0?"future":"past"];return w(n)?n(t):n.replace(/%s/i,t)}function R(e,t){var n=e.toLowerCase();vo[n]=vo[n+"s"]=vo[t]=e}function I(e){return"string"==typeof e?vo[e]||vo[e.toLowerCase()]:void 0}function U(e){var t,n,i={};for(n in e)r(e,n)&&(t=I(n))&&(i[t]=e[n]);return i}function H(e,t){yo[e]=t}function N(e){var t,n=[];for(t in e)r(e,t)&&n.push({unit:t,priority:yo[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}function z(e){return e%4==0&&e%100!=0||e%400==0}function B(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Z(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=B(t)),n}function q(t,n){return function(r){return null!=r?(V(this,t,r),e.updateOffset(this,n),this):W(this,t)}}function W(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&z(e.year())&&1===e.month()&&29===e.date()?(n=Z(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ie(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function $(e){return e=I(e),w(this[e])?this[e]():this}function K(e,t){if("object"==typeof e){e=U(e);var n,r=N(e);for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(e=I(e),w(this[e]))return this[e](t);return this}function G(e,t,n){ao[e]=w(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return r(ao,e)?ao[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=Z(e)}),n=0;n<e.length;n++)Ro[e[n]]=r}function te(e,t){ee(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ne(e,t,n){null!=t&&r(Ro,e)&&Ro[e](t,n._a,n,e)}function re(e,t){return(e%t+t)%t}function ie(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=re(t,12);return e+=(t-n)/12,1===n?z(e)?29:28:31-n%7%2}function oe(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ko).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function se(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ko.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=Oo.call(this._shortMonthsParse,s),-1!==i?i:null):(i=Oo.call(this._longMonthsParse,s),-1!==i?i:null):"MMM"===t?-1!==(i=Oo.call(this._shortMonthsParse,s))?i:(i=Oo.call(this._longMonthsParse,s),-1!==i?i:null):-1!==(i=Oo.call(this._longMonthsParse,s))?i:(i=Oo.call(this._shortMonthsParse,s),-1!==i?i:null)}function le(e,t,n){var r,i,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Z(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(t){return null!=t?(ue(this,t),e.updateOffset(this,!0),this):W(this,"Month")}function de(){return ie(this.year(),this.month())}function he(e){return this._monthsParseExact?(r(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=Go),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(r(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=Jo),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Q(r[t]),i[t]=Q(i[t]);for(t=0;t<24;t++)o[t]=Q(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function me(e){return z(e)?366:365}function ge(){return z(this.year())}function ve(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function ye(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _e(e,t,n){var r=7+t-n;return-(7+ye(e,0,r).getUTCDay()-t)%7+r-1}function be(e,t,n,r,i){var o,s,a=(7+n-r)%7,l=_e(e,r,i),u=1+7*(t-1)+a+l;return u<=0?(o=e-1,s=me(o)+u):u>me(e)?(o=e+1,s=u-me(e)):(o=e,s=u),{year:o,dayOfYear:s}}function we(e,t,n){var r,i,o=_e(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(i=e.year()-1,r=s+ke(i,t,n)):s>ke(e.year(),t,n)?(r=s-ke(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function ke(e,t,n){var r=_e(e,t,n),i=_e(e+1,t,n);return(me(e)-r+i)/7}function Le(e){return we(e,this._week.dow,this._week.doy).week}function Me(){return this._week.dow}function Se(){return this._week.doy}function xe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Te(e){var t=we(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function De(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Fe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ae(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Ee(e,n){var r=t(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(n)?"format":"standalone"];return!0===e?Ae(r,this._week.dow):e?r[e.day()]:r}function Pe(e){return!0===e?Ae(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ce(e){return!0===e?Ae(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ye(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=Oo.call(this._weekdaysParse,s),-1!==i?i:null):"ddd"===t?(i=Oo.call(this._shortWeekdaysParse,s),-1!==i?i:null):(i=Oo.call(this._minWeekdaysParse,s),-1!==i?i:null):"dddd"===t?-1!==(i=Oo.call(this._weekdaysParse,s))?i:-1!==(i=Oo.call(this._shortWeekdaysParse,s))?i:(i=Oo.call(this._minWeekdaysParse,s),-1!==i?i:null):"ddd"===t?-1!==(i=Oo.call(this._shortWeekdaysParse,s))?i:-1!==(i=Oo.call(this._weekdaysParse,s))?i:(i=Oo.call(this._minWeekdaysParse,s),-1!==i?i:null):-1!==(i=Oo.call(this._minWeekdaysParse,s))?i:-1!==(i=Oo.call(this._weekdaysParse,s))?i:(i=Oo.call(this._shortWeekdaysParse,s),-1!==i?i:null)}function je(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ye.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Oe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=De(e,this.localeData()),this.add(e-t,"d")):t}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ie(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Fe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ue(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=rs),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function He(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=is),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ne(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=os),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ze(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],u=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=Q(this.weekdaysMin(n,"")),i=Q(this.weekdaysShort(n,"")),o=Q(this.weekdays(n,"")),s.push(r),a.push(i),l.push(o),u.push(r),u.push(i),u.push(o);s.sort(e),a.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Be(){return this.hours()%12||12}function Ze(){return this.hours()||24}function qe(e,t){T(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function Ve(e){return"p"===(e+"").toLowerCase().charAt(0)}function $e(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ke(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ge(e[o]).split("-"),t=i.length,n=Ge(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Xe(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&Ke(i,n)>=t-1)break;t--}o++}return ss}function Xe(e){var t,n=null;if(void 0===cs[e]&&"undefined"!=typeof module&&module&&module.exports)try{n=ss._abbr,t=require,t("./locale/"+e),Qe(n)}catch(t){cs[e]=null}return cs[e]}function Qe(e,t){var n;return e&&(n=o(t)?nt(e):et(e,t),n?ss=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ss._abbr}function et(e,t){if(null!==t){var n,r=us;if(t.abbr=e,null!=cs[e])b("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cs[e]._config;else if(null!=t.parentLocale)if(null!=cs[t.parentLocale])r=cs[t.parentLocale]._config;else{if(null==(n=Xe(t.parentLocale)))return ds[t.parentLocale]||(ds[t.parentLocale]=[]),ds[t.parentLocale].push({name:e,config:t}),null;r=n._config}return cs[e]=new M(L(r,t)),ds[e]&&ds[e].forEach(function(e){et(e.name,e.config)}),Qe(e),cs[e]}return delete cs[e],null}function tt(e,t){if(null!=t){var n,r,i=us;null!=cs[e]&&null!=cs[e].parentLocale?cs[e].set(L(cs[e]._config,t)):(r=Xe(e),null!=r&&(i=r._config),t=L(i,t),null==r&&(t.abbr=e),n=new M(t),n.parentLocale=cs[e],cs[e]=n),Qe(e)}else null!=cs[e]&&(null!=cs[e].parentLocale?(cs[e]=cs[e].parentLocale,e===Qe()&&Qe(e)):null!=cs[e]&&delete cs[e]);return cs[e]}function nt(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ss;if(!t(e)){if(n=Xe(e))return n;e=[e]}return Je(e)}function rt(){return so(cs)}function it(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[Uo]<0||n[Uo]>11?Uo:n[Ho]<1||n[Ho]>ie(n[Io],n[Uo])?Ho:n[No]<0||n[No]>24||24===n[No]&&(0!==n[zo]||0!==n[Bo]||0!==n[Zo])?No:n[zo]<0||n[zo]>59?zo:n[Bo]<0||n[Bo]>59?Bo:n[Zo]<0||n[Zo]>999?Zo:-1,h(e)._overflowDayOfYear&&(t<Io||t>Ho)&&(t=Ho),h(e)._overflowWeeks&&-1===t&&(t=qo),h(e)._overflowWeekday&&-1===t&&(t=Wo),h(e).overflow=t),e}function ot(e){var t,n,r,i,o,s,a=e._i,l=hs.exec(a)||ps.exec(a);if(l){for(h(e).iso=!0,t=0,n=ms.length;t<n;t++)if(ms[t][1].exec(l[1])){i=ms[t][0],r=!1!==ms[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=gs.length;t<n;t++)if(gs[t][1].exec(l[3])){o=(l[2]||" ")+gs[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!fs.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),vt(e)}else e._isValid=!1}function st(e,t,n,r,i,o){var s=[at(e),$o.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function at(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function lt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ut(e,t,n){if(e){if(ts.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return h(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ct(e,t,n){if(e)return _s[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function dt(e){var t,n=ys.exec(lt(e._i));if(n){if(t=st(n[4],n[3],n[2],n[5],n[6],n[7]),!ut(n[1],t,e))return;e._a=t,e._tzm=ct(n[8],n[9],n[10]),e._d=ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function ht(t){var n=vs.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ot(t),!1===t._isValid&&(delete t._isValid,dt(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:e.createFromInputFallback(t)))}function pt(e,t,n){return null!=e?e:null!=t?t:n}function ft(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function mt(e){var t,n,r,i,o,s=[];if(!e._d){for(r=ft(e),e._w&&null==e._a[Ho]&&null==e._a[Uo]&&gt(e),null!=e._dayOfYear&&(o=pt(e._a[Io],r[Io]),(e._dayOfYear>me(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=ye(o,0,e._dayOfYear),e._a[Uo]=n.getUTCMonth(),e._a[Ho]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[No]&&0===e._a[zo]&&0===e._a[Bo]&&0===e._a[Zo]&&(e._nextDay=!0,e._a[No]=0),e._d=(e._useUTC?ye:ve).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[No]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(h(e).weekdayMismatch=!0)}}function gt(e){var t,n,r,i,o,s,a,l,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=pt(t.GG,e._a[Io],we(St(),1,4).year),r=pt(t.W,1),((i=pt(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,u=we(St(),o,s),n=pt(t.gg,e._a[Io],u.year),r=pt(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>ke(n,o,s)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(a=be(n,r,i,o,s),e._a[Io]=a.year,e._dayOfYear=a.dayOfYear)}function vt(t){if(t._f===e.ISO_8601)return void ot(t);if(t._f===e.RFC_2822)return void dt(t);t._a=[],h(t).empty=!0;var n,r,i,o,s,a,l=""+t._i,u=l.length,c=0;for(i=E(t._f,t._locale).match(uo)||[],n=0;n<i.length;n++)o=i[n],r=(l.match(J(o,t))||[])[0],r&&(s=l.substr(0,l.indexOf(r)),s.length>0&&h(t).unusedInput.push(s),l=l.slice(l.indexOf(r)+r.length),c+=r.length),po[o]?(r?h(t).empty=!1:h(t).unusedTokens.push(o),ne(o,r,t)):t._strict&&!r&&h(t).unusedTokens.push(o);h(t).charsLeftOver=u-c,l.length>0&&h(t).unusedInput.push(l),t._a[No]<=12&&!0===h(t).bigHour&&t._a[No]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[No]=yt(t._locale,t._a[No],t._meridiem),a=h(t).era,null!==a&&(t._a[Io]=t._locale.erasConvertYear(a,t._a[Io])),mt(t),it(t)}function yt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function _t(e){var t,n,r,i,o,s,a=!1;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,s=!1,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],vt(t),p(t)&&(s=!0),o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));u(e,n||t)}function bt(e){if(!e._d){var t=U(e._i),n=void 0===t.day?t.date:t.day;e._a=l([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),mt(e)}}function wt(e){var t=new g(it(kt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function kt(e){var n=e._i,r=e._f;return e._locale=e._locale||nt(e._l),null===n||void 0===r&&""===n?f({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),v(n)?new g(it(n)):(a(n)?e._d=n:t(r)?_t(e):r?vt(e):Lt(e),p(e)||(e._d=null),e))}function Lt(r){var i=r._i;o(i)?r._d=new Date(e.now()):a(i)?r._d=new Date(i.valueOf()):"string"==typeof i?ht(r):t(i)?(r._a=l(i.slice(0),function(e){return parseInt(e,10)}),mt(r)):n(i)?bt(r):s(i)?r._d=new Date(i):e.createFromInputFallback(r)}function Mt(e,r,o,s,a){var l={};return!0!==r&&!1!==r||(s=r,r=void 0),!0!==o&&!1!==o||(s=o,o=void 0),(n(e)&&i(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=o,l._i=e,l._f=r,l._strict=s,wt(l)}function St(e,t,n,r){return Mt(e,t,n,r,!1)}function xt(e,n){var r,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return St();for(r=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](r)||(r=n[i]);return r}function Tt(){return xt("isBefore",[].slice.call(arguments,0))}function Dt(){return xt("isAfter",[].slice.call(arguments,0))}function Ft(e){var t,n,i=!1;for(t in e)if(r(e,t)&&(-1===Oo.call(Ls,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Ls.length;++n)if(e[Ls[n]]){if(i)return!1;parseFloat(e[Ls[n]])!==Z(e[Ls[n]])&&(i=!0)}return!0}function At(){return this._isValid}function Et(){return Jt(NaN)}function Pt(e){var t=U(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Ft(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=nt(),this._bubble()}function Ct(e){return e instanceof Pt}function Yt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Z(e[r])!==Z(t[r]))&&s++;return s+o}function Ot(e,t){T(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+x(~~(e/60),2)+t+x(~~e%60,2)})}function Rt(e,t){var n,r,i,o=(t||"").match(e);return null===o?null:(n=o[o.length-1]||[],r=(n+"").match(Ms)||["-",0,0],i=60*r[1]+Z(r[2]),0===i?0:"+"===r[0]?i:-i)}function It(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(v(t)||a(t)?t.valueOf():St(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):St(t).local()}function Ut(e){return-Math.round(e._d.getTimezoneOffset())}function Ht(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Rt(Co,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=Ut(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?nn(this,Jt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ut(this)}function Nt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function zt(e){return this.utcOffset(0,e)}function Bt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ut(this),"m")),this}function Zt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(Po,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function qt(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Wt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e,t={};return m(t,this),t=kt(t),t._a?(e=t._isUTC?c(t._a):St(t._a),this._isDSTShifted=this.isValid()&&jt(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function $t(){return!!this.isValid()&&!this._isUTC}function Kt(){return!!this.isValid()&&this._isUTC}function Gt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Jt(e,t){var n,i,o,a=e,l=null;return Ct(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:s(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(l=Ss.exec(e))?(n="-"===l[1]?-1:1,a={y:0,d:Z(l[Ho])*n,h:Z(l[No])*n,m:Z(l[zo])*n,s:Z(l[Bo])*n,ms:Z(Yt(1e3*l[Zo]))*n}):(l=xs.exec(e))?(n="-"===l[1]?-1:1,a={y:Xt(l[2],n),M:Xt(l[3],n),w:Xt(l[4],n),d:Xt(l[5],n),h:Xt(l[6],n),m:Xt(l[7],n),s:Xt(l[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=en(St(a.from),St(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),i=new Pt(a),Ct(e)&&r(e,"_locale")&&(i._locale=e._locale),Ct(e)&&r(e,"_isValid")&&(i._isValid=e._isValid),i}function Xt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Qt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function en(e,t){var n;return e.isValid()&&t.isValid()?(t=It(t,e),e.isBefore(t)?n=Qt(e,t):(n=Qt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(b(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Jt(n,r),nn(this,i,e),this}}function nn(t,n,r,i){var o=n._milliseconds,s=Yt(n._days),a=Yt(n._months);t.isValid()&&(i=null==i||i,a&&ue(t,W(t,"Month")+a*r),s&&V(t,"Date",W(t,"Date")+s*r),o&&t._d.setTime(t._d.valueOf()+o*r),i&&e.updateOffset(t,s||a))}function rn(e){return"string"==typeof e||e instanceof String}function on(e){return v(e)||a(e)||rn(e)||s(e)||an(e)||sn(e)||null===e||void 0===e}function sn(e){var t,o,s=n(e)&&!i(e),a=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<l.length;t+=1)o=l[t],a=a||r(e,o);return s&&a}function an(e){var n=t(e),r=!1;return n&&(r=0===e.filter(function(t){return!s(t)&&rn(e)}).length),n&&r}function ln(e){var t,o,s=n(e)&&!i(e),a=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<l.length;t+=1)o=l[t],a=a||r(e,o);return s&&a}function un(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function cn(t,n){1===arguments.length&&(arguments[0]?on(arguments[0])?(t=arguments[0],n=void 0):ln(arguments[0])&&(n=arguments[0],t=void 0):(t=void 0,n=void 0));var r=t||St(),i=It(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",s=n&&(w(n[o])?n[o].call(this,r):n[o]);return this.format(s||this.localeData().calendar(o,this,St(r)))}function dn(){return new g(this)}function hn(e,t){var n=v(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&(t=I(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function pn(e,t){var n=v(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&(t=I(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function fn(e,t,n,r){var i=v(e)?e:St(e),o=v(t)?t:St(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(r=r||"()",("("===r[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))}function mn(e,t){var n,r=v(e)?e:St(e);return!(!this.isValid()||!r.isValid())&&(t=I(t)||"millisecond","millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function gn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function yn(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=It(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":o=_n(this,r)/12;break;case"month":o=_n(this,r);break;case"quarter":o=_n(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:B(o)}function _n(e,t){if(e.date()<t.date())return-_n(t,e);var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function bn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function wn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?A(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",A(n,"Z")):A(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function kn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function Ln(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=A(this,t);return this.localeData().postformat(n)}function Mn(e,t){return this.isValid()&&(v(e)&&e.isValid()||St(e).isValid())?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Sn(e){return this.from(St(),e)}function xn(e,t){return this.isValid()&&(v(e)&&e.isValid()||St(e).isValid())?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tn(e){return this.to(St(),e)}function Dn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function Fn(){return this._locale}function An(e,t){return(e%t+t)%t}function En(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Cs:new Date(e,t,n).valueOf()}function Pn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Cs:Date.UTC(e,t,n)}function Cn(t){var n,r;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?Pn:En,t){case"year":n=r(this.year(),0,1);break;case"quarter":n=r(this.year(),this.month()-this.month()%3,1);break;case"month":n=r(this.year(),this.month(),1);break;case"week":n=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=r(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=An(n+(this._isUTC?0:this.utcOffset()*Es),Ps);break;case"minute":n=this._d.valueOf(),n-=An(n,Es);break;case"second":n=this._d.valueOf(),n-=An(n,As)}return this._d.setTime(n),e.updateOffset(this,!0),this}function Yn(t){var n,r;if(void 0===(t=I(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?Pn:En,t){case"year":n=r(this.year()+1,0,1)-1;break;case"quarter":n=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=r(this.year(),this.month()+1,1)-1;break;case"week":n=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=Ps-An(n+(this._isUTC?0:this.utcOffset()*Es),Ps)-1;break;case"minute":n=this._d.valueOf(),n+=Es-An(n,Es)-1;break;case"second":n=this._d.valueOf(),n+=As-An(n,As)-1}return this._d.setTime(n),e.updateOffset(this,!0),this}function jn(){return this._d.valueOf()-6e4*(this._offset||0)}function On(){return Math.floor(this.valueOf()/1e3)}function Rn(){return new Date(this.valueOf())}function In(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Un(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),
seconds:e.seconds(),milliseconds:e.milliseconds()}}function Hn(){return this.isValid()?this.toISOString():null}function Nn(){return p(this)}function zn(){return u({},h(this))}function Bn(){return h(this).overflow}function Zn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function qn(t,n){var r,i,o,s=this._eras||nt("en")._eras;for(r=0,i=s.length;r<i;++r){switch(typeof s[r].since){case"string":o=e(s[r].since).startOf("day"),s[r].since=o.valueOf()}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":o=e(s[r].until).startOf("day").valueOf(),s[r].until=o.valueOf()}}return s}function Wn(e,t,n){var r,i,o,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([o,s,a].indexOf(e)>=0)return l[r]}function Vn(t,n){var r=t.since<=t.until?1:-1;return void 0===n?e(t.since).year():e(t.since).year()+(n-t.offset)*r}function $n(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Kn(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Gn(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Jn(){var t,n,r,i,o=this.localeData().eras();for(t=0,n=o.length;t<n;++t)if(r=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-e(o[t].since).year())*r+o[t].offset;return this.year()}function Xn(e){return r(this,"_erasNameRegex")||or.call(this),e?this._erasNameRegex:this._erasRegex}function Qn(e){return r(this,"_erasAbbrRegex")||or.call(this),e?this._erasAbbrRegex:this._erasRegex}function er(e){return r(this,"_erasNarrowRegex")||or.call(this),e?this._erasNarrowRegex:this._erasRegex}function tr(e,t){return t.erasAbbrRegex(e)}function nr(e,t){return t.erasNameRegex(e)}function rr(e,t){return t.erasNarrowRegex(e)}function ir(e,t){return t._eraYearOrdinalRegex||Ao}function or(){var e,t,n=[],r=[],i=[],o=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(Q(s[e].name)),n.push(Q(s[e].abbr)),i.push(Q(s[e].narrow)),o.push(Q(s[e].name)),o.push(Q(s[e].abbr)),o.push(Q(s[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function sr(e,t){T(0,[e,e.length],0,t)}function ar(e){return pr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function lr(e){return pr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function ur(){return ke(this.year(),1,4)}function cr(){return ke(this.isoWeekYear(),1,4)}function dr(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function hr(){var e=this.localeData()._week;return ke(this.weekYear(),e.dow,e.doy)}function pr(e,t,n,r,i){var o;return null==e?we(this,r,i).year:(o=ke(e,r,i),t>o&&(t=o),fr.call(this,e,t,n,r,i))}function fr(e,t,n,r,i){var o=be(e,t,n,r,i),s=ye(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function mr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function gr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function vr(e,t){t[Zo]=Z(1e3*("0."+e))}function yr(){return this._isUTC?"UTC":""}function _r(){return this._isUTC?"Coordinated Universal Time":""}function br(e){return St(1e3*e)}function wr(){return St.apply(null,arguments).parseZone()}function kr(e){return e}function Lr(e,t,n,r){var i=nt(),o=c().set(r,t);return i[n](o,e)}function Mr(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return Lr(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Lr(e,r,n,"month");return i}function Sr(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i,o=nt(),a=e?o._week.dow:0,l=[];if(null!=n)return Lr(t,(n+a)%7,r,"day");for(i=0;i<7;i++)l[i]=Lr(t,(i+a)%7,r,"day");return l}function xr(e,t){return Mr(e,t,"months")}function Tr(e,t){return Mr(e,t,"monthsShort")}function Dr(e,t,n){return Sr(e,t,n,"weekdays")}function Fr(e,t,n){return Sr(e,t,n,"weekdaysShort")}function Ar(e,t,n){return Sr(e,t,n,"weekdaysMin")}function Er(){var e=this._data;return this._milliseconds=Ns(this._milliseconds),this._days=Ns(this._days),this._months=Ns(this._months),e.milliseconds=Ns(e.milliseconds),e.seconds=Ns(e.seconds),e.minutes=Ns(e.minutes),e.hours=Ns(e.hours),e.months=Ns(e.months),e.years=Ns(e.years),this}function Pr(e,t,n,r){var i=Jt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Cr(e,t){return Pr(this,e,t,1)}function Yr(e,t){return Pr(this,e,t,-1)}function jr(e){return e<0?Math.floor(e):Math.ceil(e)}function Or(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*jr(Ir(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=B(o/1e3),l.seconds=e%60,t=B(e/60),l.minutes=t%60,n=B(t/60),l.hours=n%24,s+=B(n/24),i=B(Rr(s)),a+=i,s-=jr(Ir(i)),r=B(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function Rr(e){return 4800*e/146097}function Ir(e){return 146097*e/4800}function Ur(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Rr(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ir(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Hr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Z(this._months/12):NaN}function Nr(e){return function(){return this.as(e)}}function zr(){return Jt(this)}function Br(e){return e=I(e),this.isValid()?this[e+"s"]():NaN}function Zr(e){return function(){return this.isValid()?this._data[e]:NaN}}function qr(){return B(this.days()/7)}function Wr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Vr(e,t,n,r){var i=Jt(e).abs(),o=ia(i.as("s")),s=ia(i.as("m")),a=ia(i.as("h")),l=ia(i.as("d")),u=ia(i.as("M")),c=ia(i.as("w")),d=ia(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=t,h[3]=+e>0,h[4]=r,Wr.apply(null,h)}function $r(e){return void 0===e?ia:"function"==typeof e&&(ia=e,!0)}function Kr(e,t){return void 0!==oa[e]&&(void 0===t?oa[e]:(oa[e]=t,"s"===e&&(oa.ss=t-1),!0))}function Gr(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=oa;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(o=Object.assign({},oa,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),n=this.localeData(),r=Vr(this,!i,o,n),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}function Jr(e){return(e>0)-(e<0)||+e}function Xr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,l=sa(this._milliseconds)/1e3,u=sa(this._days),c=sa(this._months),d=this.asSeconds();return d?(e=B(l/60),t=B(e/60),l%=60,e%=60,n=B(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=Jr(this._months)!==Jr(d)?"-":"",s=Jr(this._days)!==Jr(d)?"-":"",a=Jr(this._milliseconds)!==Jr(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?s+u+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}function Qr(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function ei(e,t,n){var r={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+Qr(r[n],+e)}function ti(e,t,n){return e+" "+ii({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function ni(e){switch(ri(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function ri(e){return e>9?ri(e%10):e}function ii(e,t){return 2===t?oi(e):e}function oi(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}function si(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function ai(e){return e>1&&e<5&&1!=~~(e/10)}function li(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pr sekund":"pr sekundami";case"ss":return t||r?i+(ai(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(ai(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(ai(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(ai(e)?"dny":"dn"):i+"dny";case"M":return t||r?"msc":"mscem";case"MM":return t||r?i+(ai(e)?"msce":"msc"):i+"msci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(ai(e)?"roky":"let"):i+"lety"}}function ui(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}function ci(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}function di(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}function hi(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function pi(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}function fi(e,t,n,r){var i="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":i=r?"sekunnin":"sekuntia";break;case"m":return r?"minuutin":"minuutti";case"mm":i=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":i=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":i=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":i=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":i=r?"vuoden":"vuotta"}return i=mi(e,r)+" "+i}function mi(e,t){return e<10?t?cl[e]:ul[e]:e}function gi(e,t,n,r){var i={s:[" "," "],ss:[e+" ",e+" "],m:[" "," "],mm:[e+" ",e+" "],h:[" "," "],hh:[e+" ",e+" "],d:[" "," "],dd:[e+" ",e+" "],M:[" "," "],MM:[e+" ",e+" "],y:[" "," "],yy:[e+" ",e+" "]};return r?i[n][0]:i[n][1]}function vi(e,t,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?i[n][0]:i[n][1]}function yi(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function _i(e,t,n,r){var i=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function bi(e){return(e?"":"[mlt] ")+"["+Cl[this.day()]+"] LT[-kor]"}function wi(e){return e%100==11||e%10!=1}function ki(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return wi(e)?i+(t||r?"sekndur":"sekndum"):i+"seknda";case"m":return t?"mnta":"mntu";case"mm":return wi(e)?i+(t||r?"mntur":"mntum"):t?i+"mnta":i+"mntu";case"hh":return wi(e)?i+(t||r?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return t?"dagur":r?"dag":"degi";case"dd":return wi(e)?t?i+"dagar":i+(r?"daga":"dgum"):t?i+"dagur":i+(r?"dag":"degi");case"M":return t?"mnuur":r?"mnu":"mnui";case"MM":return wi(e)?t?i+"mnuir":i+(r?"mnui":"mnuum"):t?i+"mnuur":i+(r?"mnu":"mnui");case"y":return t||r?"r":"ri";case"yy":return wi(e)?i+(t||r?"r":"rum"):i+(t||r?"r":"ri")}}function Li(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function Mi(e){return xi(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function Si(e){return xi(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function xi(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,n=e/10;return xi(0===t?n:t)}if(e<1e4){for(;e>=10;)e/=10;return xi(e)}return e/=1e3,xi(e)}function Ti(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"}function Di(e,t,n,r){return t?Ai(n)[0]:r?Ai(n)[1]:Ai(n)[2]}function Fi(e){return e%10==0||e>10&&e<20}function Ai(e){return Bl[e].split("_")}function Ei(e,t,n,r){var i=e+" ";return 1===e?i+Di(e,t,n[0],r):t?i+(Fi(e)?Ai(n)[1]:Ai(n)[0]):r?i+Ai(n)[1]:i+(Fi(e)?Ai(n)[1]:Ai(n)[2])}function Pi(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function Ci(e,t,n){return e+" "+Pi(Zl[n],e,t)}function Yi(e,t,n){return Pi(Zl[n],e,t)}function ji(e,t){return t?"daas sekundes":"dam sekundm"}function Oi(e,t,n,r){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}function Ri(e,t,n,r){var i="";if(t)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,e)}function Ii(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function Ui(e,t,n){var r=e+" ";switch(n){case"ss":return r+(Ii(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return r+(Ii(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return r+(Ii(e)?"godziny":"godzin");case"ww":return r+(Ii(e)?"tygodnie":"tygodni");case"MM":return r+(Ii(e)?"miesice":"miesicy");case"yy":return r+(Ii(e)?"lata":"lat")}}function Hi(e,t,n){var r={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"},i=" ";return(e%100>=20||e>=100&&e%100==0)&&(i=" de "),e+i+r[n]}function Ni(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function zi(e,t,n){var r={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":e+" "+Ni(r[n],+e)}function Bi(e){return e>1&&e<5}function Zi(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pr seknd":"pr sekundami";case"ss":return t||r?i+(Bi(e)?"sekundy":"seknd"):i+"sekundami";case"m":return t?"minta":r?"mintu":"mintou";case"mm":return t||r?i+(Bi(e)?"minty":"mint"):i+"mintami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(Bi(e)?"hodiny":"hodn"):i+"hodinami";case"d":return t||r?"de":"dom";case"dd":return t||r?i+(Bi(e)?"dni":"dn"):i+"dami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?i+(Bi(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?i+(Bi(e)?"roky":"rokov"):i+"rokmi"}}function qi(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}function Wi(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function Vi(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function $i(e,t,n,r){var i=Ki(e);switch(n){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function Ki(e){var t=Math.floor(e%1e3/100),n=Math.floor(e%100/10),r=e%10,i="";return t>0&&(i+=ku[t]+"vatlh"),n>0&&(i+=(""!==i?" ":"")+ku[n]+"maH"),r>0&&(i+=(""!==i?" ":"")+ku[r]),""===i?"pagh":i}function Gi(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r?i[n][0]:t?i[n][0]:i[n][1]}function Ji(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function Xi(e,t,n){var r={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+Ji(r[n],+e)}function Qi(e,t){var n,r={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?r.nominative.slice(1,7).concat(r.nominative.slice(0,1)):e?(n=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative",r[n][e.day()]):r.nominative}function eo(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}var to,no;no=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var ro=e.momentProperties=[],io=!1,oo={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var so;so=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)r(e,t)&&n.push(t);return n};var ao,lo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},uo=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,co=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ho={},po={},fo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},mo=/\d{1,2}/,go={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},vo={},yo={},_o=/\d/,bo=/\d\d/,wo=/\d{3}/,ko=/\d{4}/,Lo=/[+-]?\d{6}/,Mo=/\d\d?/,So=/\d\d\d\d?/,xo=/\d\d\d\d\d\d?/,To=/\d{1,3}/,Do=/\d{1,4}/,Fo=/[+-]?\d{1,6}/,Ao=/\d+/,Eo=/[+-]?\d+/,Po=/Z|[+-]\d\d:?\d\d/gi,Co=/Z|[+-]\d\d(?::?\d\d)?/gi,Yo=/[+-]?\d+(\.\d{1,3})?/,jo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;ao={};var Oo,Ro={},Io=0,Uo=1,Ho=2,No=3,zo=4,Bo=5,Zo=6,qo=7,Wo=8;Oo=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},T("M",["MM",2],"Mo",function(){return this.month()+1}),T("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),T("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),H("month",8),G("M",Mo),G("MM",Mo,bo),G("MMM",function(e,t){return t.monthsShortRegex(e)}),G("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Uo]=Z(e)-1}),ee(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Uo]=i:h(n).invalidMonth=e});var Vo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$o="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ko=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Go=jo,Jo=jo;T("Y",0,0,function(){var e=this.year();return e<=9999?x(e,4):"+"+e}),T(0,["YY",2],0,function(){return this.year()%100}),T(0,["YYYY",4],0,"year"),T(0,["YYYYY",5],0,"year"),T(0,["YYYYYY",6,!0],0,"year"),R("year","y"),H("year",1),G("Y",Eo),G("YY",Mo,bo),G("YYYY",Do,ko),G("YYYYY",Fo,Lo),G("YYYYYY",Fo,Lo),ee(["YYYYY","YYYYYY"],Io),ee("YYYY",function(t,n){n[Io]=2===t.length?e.parseTwoDigitYear(t):Z(t)}),ee("YY",function(t,n){n[Io]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Io]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return Z(e)+(Z(e)>68?1900:2e3)};var Xo=q("FullYear",!0);T("w",["ww",2],"wo","week"),T("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),H("week",5),H("isoWeek",5),G("w",Mo),G("ww",Mo,bo),G("W",Mo),G("WW",Mo,bo),te(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Z(e)});var Qo={dow:0,doy:6};T("d",0,"do","day"),T("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),T("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),T("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),T("e",0,0,"weekday"),T("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),G("d",Mo),G("e",Mo),G("E",Mo),G("dd",function(e,t){return t.weekdaysMinRegex(e)}),G("ddd",function(e,t){return t.weekdaysShortRegex(e)}),G("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,r){t[r]=Z(e)});var es="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ts="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ns="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),rs=jo,is=jo,os=jo;T("H",["HH",2],0,"hour"),T("h",["hh",2],0,Be),T("k",["kk",2],0,Ze),T("hmm",0,0,function(){return""+Be.apply(this)+x(this.minutes(),2)}),T("hmmss",0,0,function(){return""+Be.apply(this)+x(this.minutes(),2)+x(this.seconds(),2)}),T("Hmm",0,0,function(){return""+this.hours()+x(this.minutes(),2)}),T("Hmmss",0,0,function(){return""+this.hours()+x(this.minutes(),2)+x(this.seconds(),2)}),qe("a",!0),qe("A",!1),R("hour","h"),H("hour",13),G("a",We),G("A",We),G("H",Mo),G("h",Mo),G("k",Mo),G("HH",Mo,bo),G("hh",Mo,bo),G("kk",Mo,bo),G("hmm",So),G("hmmss",xo),G("Hmm",So),G("Hmmss",xo),ee(["H","HH"],No),ee(["k","kk"],function(e,t,n){var r=Z(e);t[No]=24===r?0:r}),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[No]=Z(e),h(n).bigHour=!0}),ee("hmm",function(e,t,n){var r=e.length-2;t[No]=Z(e.substr(0,r)),t[zo]=Z(e.substr(r)),h(n).bigHour=!0}),ee("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[No]=Z(e.substr(0,r)),t[zo]=Z(e.substr(r,2)),t[Bo]=Z(e.substr(i)),h(n).bigHour=!0}),ee("Hmm",function(e,t,n){var r=e.length-2;t[No]=Z(e.substr(0,r)),t[zo]=Z(e.substr(r))}),ee("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[No]=Z(e.substr(0,r)),t[zo]=Z(e.substr(r,2)),t[Bo]=Z(e.substr(i))});var ss,as=/[ap]\.?m?\.?/i,ls=q("Hours",!0),us={calendar:lo,longDateFormat:fo,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:mo,relativeTime:go,months:Vo,monthsShort:$o,week:Qo,weekdays:es,weekdaysMin:ns,weekdaysShort:ts,meridiemParse:as},cs={},ds={},hs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ps=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fs=/Z|[+-]\d\d(?::?\d\d)?/,ms=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vs=/^\/?Date\((-?\d+)/i,ys=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_s={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var bs=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),ws=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),ks=function(){return Date.now?Date.now():+new Date},Ls=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ot("Z",":"),Ot("ZZ",""),G("Z",Co),G("ZZ",Co),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Rt(Co,e)});var Ms=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ss=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xs=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Jt.fn=Pt.prototype,Jt.invalid=Et;var Ts=tn(1,"add"),Ds=tn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Fs=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),As=1e3,Es=60*As,Ps=60*Es,Cs=3506328*Ps;T("N",0,0,"eraAbbr"),T("NN",0,0,"eraAbbr"),T("NNN",0,0,"eraAbbr"),T("NNNN",0,0,"eraName"),T("NNNNN",0,0,"eraNarrow"),T("y",["y",1],"yo","eraYear"),T("y",["yy",2],0,"eraYear"),T("y",["yyy",3],0,"eraYear"),T("y",["yyyy",4],0,"eraYear"),G("N",tr),G("NN",tr),G("NNN",tr),G("NNNN",nr),G("NNNNN",rr),ee(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?h(n).era=i:h(n).invalidEra=e}),G("y",Ao),G("yy",Ao),G("yyy",Ao),G("yyyy",Ao),G("yo",ir),ee(["y","yy","yyy","yyyy"],Io),ee(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Io]=n._locale.eraYearOrdinalParse(e,i):t[Io]=parseInt(e,10)}),T(0,["gg",2],0,function(){return this.weekYear()%100}),T(0,["GG",2],0,function(){return this.isoWeekYear()%100}),sr("gggg","weekYear"),sr("ggggg","weekYear"),
sr("GGGG","isoWeekYear"),sr("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),G("G",Eo),G("g",Eo),G("GG",Mo,bo),G("gg",Mo,bo),G("GGGG",Do,ko),G("gggg",Do,ko),G("GGGGG",Fo,Lo),G("ggggg",Fo,Lo),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Z(e)}),te(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),T("Q",0,"Qo","quarter"),R("quarter","Q"),H("quarter",7),G("Q",_o),ee("Q",function(e,t){t[Uo]=3*(Z(e)-1)}),T("D",["DD",2],"Do","date"),R("date","D"),H("date",9),G("D",Mo),G("DD",Mo,bo),G("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ee(["D","DD"],Ho),ee("Do",function(e,t){t[Ho]=Z(e.match(Mo)[0])});var Ys=q("Date",!0);T("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),H("dayOfYear",4),G("DDD",To),G("DDDD",wo),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Z(e)}),T("m",["mm",2],0,"minute"),R("minute","m"),H("minute",14),G("m",Mo),G("mm",Mo,bo),ee(["m","mm"],zo);var js=q("Minutes",!1);T("s",["ss",2],0,"second"),R("second","s"),H("second",15),G("s",Mo),G("ss",Mo,bo),ee(["s","ss"],Bo);var Os=q("Seconds",!1);T("S",0,0,function(){return~~(this.millisecond()/100)}),T(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),T(0,["SSS",3],0,"millisecond"),T(0,["SSSS",4],0,function(){return 10*this.millisecond()}),T(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),T(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),T(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),T(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),T(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),H("millisecond",16),G("S",To,_o),G("SS",To,bo),G("SSS",To,wo);var Rs,Is;for(Rs="SSSS";Rs.length<=9;Rs+="S")G(Rs,Ao);for(Rs="S";Rs.length<=9;Rs+="S")ee(Rs,vr);Is=q("Milliseconds",!1),T("z",0,0,"zoneAbbr"),T("zz",0,0,"zoneName");var Us=g.prototype;Us.add=Ts,Us.calendar=cn,Us.clone=dn,Us.diff=yn,Us.endOf=Yn,Us.format=Ln,Us.from=Mn,Us.fromNow=Sn,Us.to=xn,Us.toNow=Tn,Us.get=$,Us.invalidAt=Bn,Us.isAfter=hn,Us.isBefore=pn,Us.isBetween=fn,Us.isSame=mn,Us.isSameOrAfter=gn,Us.isSameOrBefore=vn,Us.isValid=Nn,Us.lang=Fs,Us.locale=Dn,Us.localeData=Fn,Us.max=ws,Us.min=bs,Us.parsingFlags=zn,Us.set=K,Us.startOf=Cn,Us.subtract=Ds,Us.toArray=In,Us.toObject=Un,Us.toDate=Rn,Us.toISOString=wn,Us.inspect=kn,"undefined"!=typeof Symbol&&null!=Symbol.for&&(Us[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Us.toJSON=Hn,Us.toString=bn,Us.unix=On,Us.valueOf=jn,Us.creationData=Zn,Us.eraName=$n,Us.eraNarrow=Kn,Us.eraAbbr=Gn,Us.eraYear=Jn,Us.year=Xo,Us.isLeapYear=ge,Us.weekYear=ar,Us.isoWeekYear=lr,Us.quarter=Us.quarters=mr,Us.month=ce,Us.daysInMonth=de,Us.week=Us.weeks=xe,Us.isoWeek=Us.isoWeeks=Te,Us.weeksInYear=dr,Us.weeksInWeekYear=hr,Us.isoWeeksInYear=ur,Us.isoWeeksInISOWeekYear=cr,Us.date=Ys,Us.day=Us.days=Oe,Us.weekday=Re,Us.isoWeekday=Ie,Us.dayOfYear=gr,Us.hour=Us.hours=ls,Us.minute=Us.minutes=js,Us.second=Us.seconds=Os,Us.millisecond=Us.milliseconds=Is,Us.utcOffset=Ht,Us.utc=zt,Us.local=Bt,Us.parseZone=Zt,Us.hasAlignedHourOffset=qt,Us.isDST=Wt,Us.isLocal=$t,Us.isUtcOffset=Kt,Us.isUtc=Gt,Us.isUTC=Gt,Us.zoneAbbr=yr,Us.zoneName=_r,Us.dates=_("dates accessor is deprecated. Use date instead.",Ys),Us.months=_("months accessor is deprecated. Use month instead",ce),Us.years=_("years accessor is deprecated. Use year instead",Xo),Us.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Nt),Us.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Vt);var Hs=M.prototype;Hs.calendar=S,Hs.longDateFormat=P,Hs.invalidDate=C,Hs.ordinal=Y,Hs.preparse=kr,Hs.postformat=kr,Hs.relativeTime=j,Hs.pastFuture=O,Hs.set=k,Hs.eras=qn,Hs.erasParse=Wn,Hs.erasConvertYear=Vn,Hs.erasAbbrRegex=Qn,Hs.erasNameRegex=Xn,Hs.erasNarrowRegex=er,Hs.months=oe,Hs.monthsShort=se,Hs.monthsParse=le,Hs.monthsRegex=pe,Hs.monthsShortRegex=he,Hs.week=Le,Hs.firstDayOfYear=Se,Hs.firstDayOfWeek=Me,Hs.weekdays=Ee,Hs.weekdaysMin=Ce,Hs.weekdaysShort=Pe,Hs.weekdaysParse=je,Hs.weekdaysRegex=Ue,Hs.weekdaysShortRegex=He,Hs.weekdaysMinRegex=Ne,Hs.isPM=Ve,Hs.meridiem=$e,Qe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Z(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",Qe),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",nt);var Ns=Math.abs,zs=Nr("ms"),Bs=Nr("s"),Zs=Nr("m"),qs=Nr("h"),Ws=Nr("d"),Vs=Nr("w"),$s=Nr("M"),Ks=Nr("Q"),Gs=Nr("y"),Js=Zr("milliseconds"),Xs=Zr("seconds"),Qs=Zr("minutes"),ea=Zr("hours"),ta=Zr("days"),na=Zr("months"),ra=Zr("years"),ia=Math.round,oa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},sa=Math.abs,aa=Pt.prototype;aa.isValid=At,aa.abs=Er,aa.add=Cr,aa.subtract=Yr,aa.as=Ur,aa.asMilliseconds=zs,aa.asSeconds=Bs,aa.asMinutes=Zs,aa.asHours=qs,aa.asDays=Ws,aa.asWeeks=Vs,aa.asMonths=$s,aa.asQuarters=Ks,aa.asYears=Gs,aa.valueOf=Hr,aa._bubble=Or,aa.clone=zr,aa.get=Br,aa.milliseconds=Js,aa.seconds=Xs,aa.minutes=Qs,aa.hours=ea,aa.days=ta,aa.weeks=qr,aa.months=na,aa.years=ra,aa.humanize=Gr,aa.toISOString=Xr,aa.toString=Xr,aa.toJSON=Xr,aa.locale=Dn,aa.localeData=Fn,aa.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xr),aa.lang=Fs,T("X",0,0,"unix"),T("x",0,0,"valueOf"),G("x",Eo),G("X",Yo),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ee("x",function(e,t,n){n._d=new Date(Z(e))}),e.version="2.29.1",function(e){to=e}(St),e.fn=Us,e.min=Tt,e.max=Dt,e.now=ks,e.utc=c,e.unix=br,e.months=xr,e.isDate=a,e.locale=Qe,e.invalid=f,e.duration=Jt,e.isMoment=v,e.weekdays=Dr,e.parseZone=wr,e.localeData=nt,e.isDuration=Ct,e.monthsShort=Tr,e.weekdaysMin=Ar,e.defineLocale=et,e.updateLocale=tt,e.locales=rt,e.weekdaysShort=Fr,e.normalizeUnits=I,e.relativeTimeRounding=$r,e.relativeTimeThreshold=Kr,e.calendarFormat=un,e.prototype=Us,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});var la=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},ua={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},ca=function(e){return function(t,n,r,i){var o=la(t),s=ua[e][la(t)];return 2===o&&(s=s[n?0:1]),s.replace(/%d/i,t)}},da=["","","","","","","","","","","",""];e.defineLocale("ar-dz",{months:da,monthsShort:da,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:ca("s"),ss:ca("s"),m:ca("m"),mm:ca("m"),h:ca("h"),hh:ca("h"),d:ca("d"),dd:ca("d"),M:ca("M"),MM:ca("M"),y:ca("y"),yy:ca("y")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:0,doy:4}}),e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});var ha={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},pa=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},fa={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},ma=function(e){return function(t,n,r,i){var o=pa(t),s=fa[e][pa(t)];return 2===o&&(s=s[n?0:1]),s.replace(/%d/i,t)}},ga=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:ga,monthsShort:ga,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:ma("s"),ss:ma("s"),m:ma("m"),mm:ma("m"),h:ma("h"),hh:ma("h"),d:ma("d"),dd:ma("d"),M:ma("M"),MM:ma("M"),y:ma("y"),yy:ma("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return ha[e]}).replace(/,/g,"")},week:{dow:6,doy:12}}),e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var va={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ya={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return ya[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return va[e]}).replace(/,/g,"")},week:{dow:0,doy:6}}),e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var _a={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ba={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},wa=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},ka={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},La=function(e){return function(t,n,r,i){var o=wa(t),s=ka[e][wa(t)];return 2===o&&(s=s[n?0:1]),s.replace(/%d/i,t)}},Ma=["","","","","","","","","","","",""];e.defineLocale("ar",{months:Ma,monthsShort:Ma,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:La("s"),ss:La("s"),m:La("m"),mm:La("m"),h:La("h"),hh:La("h"),d:La("d"),dd:La("d"),M:La("M"),MM:La("M"),y:La("y"),yy:La("y")},preparse:function(e){return e.replace(/[]/g,function(e){return ba[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return _a[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});var Sa={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var t=e%10,n=e%100-t,r=e>=100?100:null;return e+(Sa[t]||Sa[n]||Sa[r])},week:{dow:1,doy:7}}),e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:ei,mm:ei,h:ei,hh:ei,d:"",dd:ei,M:"",MM:ei,y:"",yy:ei},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}}),e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}}),e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var xa={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ta={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Ta[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return xa[e]})},meridiemParse:/||||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e:""===t?e>=3?e:e+12:""===t?e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<6?"":e<12?"":e<15?"":e<18?"":e<20?"":""},week:{dow:0,doy:6}});var Da={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Fa={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Fa[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Da[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});var Aa={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ea={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Ea[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Aa[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});var Pa=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Ca=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Ya=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,ja=/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Oa=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],Ra=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],Ia=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:Ia,fullWeekdaysParse:Oa,shortWeekdaysParse:Ra,minWeekdaysParse:Ia,monthsRegex:Ca,monthsShortRegex:Ca,monthsStrictRegex:Ya,monthsShortStrictRegex:ja,monthsParse:Pa,longMonthsParse:Pa,shortMonthsParse:Pa,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:ti,h:"un eur",hh:"%d eur",d:"un devezh",dd:ti,M:"ur miz",MM:ti,y:"ur bloaz",yy:ni},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}}),e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:si,m:si,mm:si,h:si,hh:si,d:"dan",dd:si,M:"mjesec",MM:si,y:"godinu",yy:si},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},
dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});var Ua="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),Ha="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),Na=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],za=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;e.defineLocale("cs",{months:Ua,monthsShort:Ha,monthsRegex:za,monthsShortRegex:za,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:Na,longMonthsParse:Na,shortMonthsParse:Na,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:li,ss:li,m:li,mm:li,h:li,hh:li,d:li,dd:li,M:li,MM:li,y:li,yy:li},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}}),e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=r[t]),e+n},week:{dow:1,doy:4}}),e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:ui,mm:"%d Minuten",h:ui,hh:"%d Stunden",d:ui,dd:ui,w:ui,ww:"%d Wochen",M:ui,MM:ui,y:ui,yy:ui},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:ci,mm:"%d Minuten",h:ci,hh:"%d Stunden",d:ci,dd:ci,w:ci,ww:"%d Wochen",M:ci,MM:ci,y:ci,yy:ci},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:di,mm:"%d Minuten",h:di,hh:"%d Stunden",d:di,dd:di,w:di,ww:"%d Wochen",M:di,MM:di,y:di,yy:di},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ba=["","","","","","","","","","","",""],Za=["","","","","","",""];e.defineLocale("dv",{months:Ba,monthsShort:Ba,weekdays:Za,weekdaysShort:Za,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}}),e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return hi(n)&&(n=n.apply(t)),n.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}}),e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}}),e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var qa="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Wa="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Va=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],$a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Wa[e.month()]:qa[e.month()]:qa},monthsRegex:$a,monthsShortRegex:$a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Va,longMonthsParse:Va,shortMonthsParse:Va,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var Ka="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Ga="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Ja=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Xa=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ga[e.month()]:Ka[e.month()]:Ka},monthsRegex:Xa,monthsShortRegex:Xa,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Ja,longMonthsParse:Ja,shortMonthsParse:Ja,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"});var Qa="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),el="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),tl=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],nl=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?el[e.month()]:Qa[e.month()]:Qa},monthsRegex:nl,monthsShortRegex:nl,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:tl,longMonthsParse:tl,shortMonthsParse:tl,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}});var rl="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),il="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),ol=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],sl=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?il[e.month()]:rl[e.month()]:rl},monthsRegex:sl,monthsShortRegex:sl,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ol,longMonthsParse:ol,shortMonthsParse:ol,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"}),e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:pi,ss:pi,m:pi,mm:pi,h:pi,hh:pi,d:pi,dd:"%d peva",M:pi,MM:pi,y:pi,yy:pi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var al={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ll={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{
future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return ll[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return al[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});var ul="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),cl=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",ul[7],ul[8],ul[9]];e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:fi,ss:fi,m:fi,mm:fi,h:fi,hh:fi,d:fi,dd:fi,M:fi,MM:fi,y:fi,yy:fi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var dl=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,hl=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,pl=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,fl=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:pl,monthsShortRegex:pl,monthsStrictRegex:dl,monthsShortStrictRegex:hl,monthsParse:fl,longMonthsParse:fl,shortMonthsParse:fl,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var ml="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),gl="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?gl[e.month()]:ml[e.month()]:ml},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});var vl=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],yl=["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],_l=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],bl=["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],wl=["Do","Lu","M","C","D","A","Sa"];e.defineLocale("ga",{months:vl,monthsShort:yl,monthsParseExact:!0,weekdays:_l,weekdaysShort:bl,weekdaysMin:wl,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}});var kl=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],Ll=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],Ml=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],Sl=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],xl=["D","Lu","M","Ci","Ar","Ha","Sa"];e.defineLocale("gd",{months:kl,monthsShort:Ll,monthsParseExact:!0,weekdays:Ml,weekdaysShort:Sl,weekdaysMin:xl,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:gi,ss:gi,m:gi,mm:gi,h:gi,hh:gi,d:gi,dd:gi,M:gi,MM:gi,y:gi,yy:gi},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e,t){switch(t){case"D":return e+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>12?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<12?"":e<16?"":e<20?"":""}}),e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:vi,ss:vi,m:vi,mm:vi,h:vi,hh:vi,d:vi,dd:vi,M:vi,MM:vi,y:vi,yy:vi},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}});var Tl={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Dl={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Dl[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Tl[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}});var Fl={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Al={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},El=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i],Pl=[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:El,longMonthsParse:El,shortMonthsParse:Pl,monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Al[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Fl[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:yi,m:yi,mm:yi,h:yi,hh:yi,d:"dan",dd:yi,M:"mjesec",MM:yi,y:"godinu",yy:yi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Cl="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return bi.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return bi.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:_i,ss:_i,m:_i,mm:_i,h:_i,hh:_i,d:_i,dd:_i,M:_i,MM:_i,y:_i,yy:_i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}}),e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}}),e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:ki,ss:ki,m:ki,mm:ki,h:"klukkustund",hh:ki,d:ki,dd:ki,M:ki,MM:ki,y:ki,yy:ki},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(e,t){return""===t[1]?1:parseInt(t[1]||e,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"y":return 1===e?"":e+"";case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,
meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),e.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(|||||)(|)/,function(e,t,n){return""===n?t+"":t+n+""})},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):e},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}});var Yl={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var t=e%10,n=e>=100?100:null;return e+(Yl[e]||Yl[t]||Yl[n])},week:{dow:1,doy:7}});var jl={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ol={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,function(e){return Ol[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return jl[e]})},week:{dow:1,doy:4}});var Rl={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Il={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Il[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Rl[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}}),e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}});var Ul={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Hl={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Nl=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:Nl,monthsShort:Nl,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Hl[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Ul[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});var zl={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var t=e%10,n=e>=100?100:null;return e+(zl[e]||zl[t]||zl[n])},week:{dow:1,doy:7}}),e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:Mi,past:Si,s:"e puer Sekonnen",ss:"%d Sekonnen",m:Li,mm:"%d Minutten",h:Li,hh:"%d Stonnen",d:Li,dd:"%d Deeg",M:Li,MM:"%d Mint",y:Li,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}});var Bl={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:Ti,ss:Ei,m:Di,mm:Ei,h:Di,hh:Ei,d:Di,dd:Ei,M:Di,MM:Ei,y:Di,yy:Ei},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var Zl={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:ji,ss:Ci,m:Yi,mm:Ci,h:Yi,hh:Ci,d:Yi,dd:Ci,M:Yi,MM:Ci,y:Yi,yy:Ci},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var ql={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=ql.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+ql.correctGrammaticalCase(e,r)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:ql.translate,m:ql.translate,mm:ql.translate,h:ql.translate,hh:ql.translate,d:"dan",dd:ql.translate,M:"mjesec",MM:ql.translate,y:"godinu",yy:ql.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}}),e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}}),e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:Oi,ss:Oi,m:Oi,mm:Oi,h:Oi,hh:Oi,d:Oi,dd:Oi,M:Oi,MM:Oi,y:Oi,yy:Oi},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}});var Wl={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Vl={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:Ri,ss:Ri,m:Ri,mm:Ri,h:Ri,hh:Ri,d:Ri,dd:Ri,M:Ri,MM:Ri,y:Ri,yy:Ri},preparse:function(e){return e.replace(/[]/g,function(e){return Vl[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Wl[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t||""===t||""===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"":e<12?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var $l={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Kl={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return Kl[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return $l[e]})},week:{dow:1,doy:4}}),e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Gl={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Jl={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return Jl[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Gl[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});var Xl="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Ql="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),eu=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],tu=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ql[e.month()]:Xl[e.month()]:Xl},monthsRegex:tu,monthsShortRegex:tu,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:eu,longMonthsParse:eu,shortMonthsParse:eu,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{
sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});var nu="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),ru="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),iu=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ou=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?ru[e.month()]:nu[e.month()]:nu},monthsRegex:ou,monthsShortRegex:ou,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:iu,longMonthsParse:iu,shortMonthsParse:iu,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});var su={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},au={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return au[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return su[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});var lu="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),uu="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),cu=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];e.defineLocale("pl",{months:function(e,t){return e?/D MMMM/.test(t)?uu[e.month()]:lu[e.month()]:lu},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:cu,longMonthsParse:cu,shortMonthsParse:cu,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:Ui,m:Ui,mm:Ui,h:Ui,hh:Ui,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:Ui,M:"miesic",MM:Ui,y:"rok",yy:Ui},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"}),e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:Hi,m:"un minut",mm:Hi,h:"o or",hh:Hi,d:"o zi",dd:Hi,w:"o sptmn",ww:Hi,M:"o lun",MM:Hi,y:"un an",yy:Hi},week:{dow:1,doy:7}});var du=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:du,longMonthsParse:du,shortMonthsParse:du,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:zi,m:zi,mm:zi,h:"",hh:zi,d:"",dd:zi,w:"",ww:zi,M:"",MM:zi,y:"",yy:zi},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}});var hu=["","","","","","","","","","","",""],pu=["","","","","","",""];e.defineLocale("sd",{months:hu,monthsShort:hu,weekdays:pu,weekdaysShort:pu,weekdaysMin:pu,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}}),e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}});var fu="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),mu="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");e.defineLocale("sk",{months:fu,monthsShort:mu,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Zi,ss:Zi,m:Zi,mm:Zi,h:Zi,hh:Zi,d:Zi,dd:Zi,M:Zi,MM:Zi,y:Zi,yy:Zi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:qi,ss:qi,m:qi,mm:qi,h:qi,hh:qi,d:qi,dd:qi,M:qi,MM:qi,y:qi,yy:qi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var gu={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=gu.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+gu.correctGrammaticalCase(e,r)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:gu.translate,m:gu.translate,mm:gu.translate,h:gu.translate,hh:gu.translate,d:"",dd:gu.translate,M:"",MM:gu.translate,y:"",yy:gu.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var vu={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=vu.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+vu.correctGrammaticalCase(e,r)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:vu.translate,m:vu.translate,mm:vu.translate,h:vu.translate,hh:vu.translate,d:"dan",dd:vu.translate,M:"mesec",MM:vu.translate,y:"godinu",yy:vu.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t?":a":2===t?":a":":e")},week:{dow:1,doy:4}}),e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var yu={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},_u={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return _u[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return yu[e]})},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}}),e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}}),e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}});var bu={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:{
format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var t=e%10,n=e>=100?100:null;return e+(bu[e]||bu[t]||bu[n])},week:{dow:1,doy:7}}),e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});var wu={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(wu[n]||wu[r]||wu[i])}},week:{dow:1,doy:7}}),e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});var ku="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:Wi,past:Vi,s:"puS lup",ss:$i,m:"wa tup",mm:$i,h:"wa rep",hh:$i,d:"wa jaj",dd:$i,M:"wa jar",MM:$i,y:"wa DIS",yy:$i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Lu={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(e){return"s"===e||"S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(Lu[n]||Lu[r]||Lu[i])}},week:{dow:1,doy:7}}),e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Gi,ss:Gi,m:Gi,mm:Gi,h:Gi,hh:Gi,d:Gi,dd:Gi,M:Gi,MM:Gi,y:Gi,yy:Gi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}}),e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:Qi,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:eo("[ "),nextDay:eo("[ "),lastDay:eo("[ "),nextWeek:eo("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return eo("[] dddd [").call(this);case 1:case 2:case 4:return eo("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:Xi,m:Xi,mm:Xi,h:"",hh:Xi,d:"",dd:Xi,M:"",MM:Xi,y:"",yy:Xi},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});var Mu=["","","","","","","","","","","",""],Su=["","","","","","",""];return e.defineLocale("ur",{months:Mu,monthsShort:Mu,weekdays:Su,weekdaysShort:Su,weekdaysMin:Su,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}}),e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}}),e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1200?"":1200===r?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),e.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),e.locale("en"),e}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,r,i){if(n===i)return!0;if(e===r){if("http"===e)return t(n,"80")===t(i,"80");if("https"===e)return t(n,"443")===t(i,"443")}return!1}var r,i,o,s,a,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,h=d&&location.protocol&&location.protocol.replace(/\:/,""),p=d&&location.hostname,f=d&&(location.port||void 0),m={},g=e.config&&e.config()||{};return r={version:"2.0.15",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=l[t];try{e=new ActiveXObject(n)}catch(e){}if(e){l=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,o=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!s||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,r=n||t,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,o){var s,a,l,u=r.xdRegExp.exec(e);return!u||(s=u[2],a=u[3],a=a.split(":"),l=a[1],a=a[0],(!s||s===t)&&(!a||a.toLowerCase()===i.toLowerCase())&&(!l&&!a||n(s,l,t,o)))},finishLoad:function(e,t,n,i){n=t?r.strip(n):n,g.isBuild&&(m[e]=n),i(n)},load:function(e,t,n,i){if(i&&i.isBuild&&!i.inlineText)return void n();g.isBuild=i&&i.isBuild;var o=r.parseName(e),s=o.moduleName+(o.ext?"."+o.ext:""),a=t.toUrl(s),l=g.useXhr||r.useXhr;if(0===a.indexOf("empty:"))return void n();!d||l(a,h,p,f)?r.get(a,function(t){r.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([s],function(e){r.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)})},write:function(e,t,n,i){if(m.hasOwnProperty(t)){var o=r.jsEscape(m[t]);n.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,n,i,o){var s=r.parseName(t),a=s.ext?"."+s.ext:"",l=s.moduleName+a,u=n.toUrl(s.moduleName+a)+".js";r.load(l,n,function(t){var n=function(e){return i(u,e)};n.asModule=function(e,t){return i.asModule(e,u,t)},r.write(e,l,n,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),r.get=function(e,t,n){try{var r=i.readFileSync(e,"utf8");"\ufeff"===r[0]&&(r=r.substring(1)),t(r)}catch(e){n&&n(e)}}):"xhr"===g.env||!g.env&&r.createXhr()?r.get=function(e,t,n,i){var o,s=r.createXhr();if(s.open("GET",e,!0),i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);g.onXhr&&g.onXhr(s,e),s.onreadystatechange=function(r){var i,o;4===s.readyState&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,n&&n(o)):t(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,e))},s.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?r.get=function(e,t){var n,r,i=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),a="";try{for(n=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=s.readLine());)n.append(o),n.append(r);a=String(n.toString())}finally{s.close()}t(a)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,s=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in o,r.get=function(e,t){var n,r,i,l={};a&&(e=e.replace(/\//g,"\\")),i=new FileUtils.File(e);try{n=o["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),n.init(i,1,0,!1),r=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),r.init(n,"utf-8",n.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),l),r.close(),n.close(),t(l.value)}catch(e){throw new Error((i&&i.path||"")+": "+e)}}),r}),define("json",["text"],function(text){var parseJSON=JSON&&JSON.parse?JSON.parse:function(val){return eval("("+val+")")};return{load:function(e,t,n,r){r.isBuild?n(""):t(["text!"+e],function(e){n(parseJSON(e))})},loadFromFileSystem:function(e,t){var n=nodeRequire("fs"),r=require.toUrl(t),i=n.readFileSync(r).toString();return i='define("'+e+"!"+t+'", function () {\nreturn '+i+";\n});\n"},write:function(e,t,n){n(this.loadFromFileSystem(e,t))}}}),define("json!cldr-data/supplemental/likelySubtags.json",function(){return{supplemental:{version:{_unicodeVersion:"12.1.0",_cldrVersion:"36"},likelySubtags:{aa:"aa-Latn-ET",aai:"aai-Latn-ZZ",aak:"aak-Latn-ZZ",aau:"aau-Latn-ZZ",ab:"ab-Cyrl-GE",abi:"abi-Latn-ZZ",abq:"abq-Cyrl-ZZ",abr:"abr-Latn-GH",abt:"abt-Latn-ZZ",aby:"aby-Latn-ZZ",acd:"acd-Latn-ZZ",ace:"ace-Latn-ID",ach:"ach-Latn-UG",ada:"ada-Latn-GH",ade:"ade-Latn-ZZ",adj:"adj-Latn-ZZ",adp:"adp-Tibt-BT",ady:"ady-Cyrl-RU",adz:"adz-Latn-ZZ",ae:"ae-Avst-IR",aeb:"aeb-Arab-TN",aey:"aey-Latn-ZZ",af:"af-Latn-ZA",agc:"agc-Latn-ZZ",agd:"agd-Latn-ZZ",agg:"agg-Latn-ZZ",agm:"agm-Latn-ZZ",ago:"ago-Latn-ZZ",agq:"agq-Latn-CM",aha:"aha-Latn-ZZ",ahl:"ahl-Latn-ZZ",aho:"aho-Ahom-IN",ajg:"ajg-Latn-ZZ",ak:"ak-Latn-GH",akk:"akk-Xsux-IQ",ala:"ala-Latn-ZZ",ali:"ali-Latn-ZZ",aln:"aln-Latn-XK",alt:"alt-Cyrl-RU",am:"am-Ethi-ET",amm:"amm-Latn-ZZ",amn:"amn-Latn-ZZ",amo:"amo-Latn-NG",amp:"amp-Latn-ZZ",an:"an-Latn-ES",anc:"anc-Latn-ZZ",ank:"ank-Latn-ZZ",ann:"ann-Latn-ZZ",any:"any-Latn-ZZ",aoj:"aoj-Latn-ZZ",aom:"aom-Latn-ZZ",aoz:"aoz-Latn-ID",apc:"apc-Arab-ZZ",apd:"apd-Arab-TG",ape:"ape-Latn-ZZ",apr:"apr-Latn-ZZ",aps:"aps-Latn-ZZ",apz:"apz-Latn-ZZ",ar:"ar-Arab-EG",arc:"arc-Armi-IR","arc-Nbat":"arc-Nbat-JO","arc-Palm":"arc-Palm-SY",arh:"arh-Latn-ZZ",arn:"arn-Latn-CL",aro:"aro-Latn-BO",arq:"arq-Arab-DZ",ars:"ars-Arab-SA",ary:"ary-Arab-MA",arz:"arz-Arab-EG",as:"as-Beng-IN",asa:"asa-Latn-TZ",ase:"ase-Sgnw-US",asg:"asg-Latn-ZZ",aso:"aso-Latn-ZZ",ast:"ast-Latn-ES",ata:"ata-Latn-ZZ",atg:"atg-Latn-ZZ",atj:"atj-Latn-CA",auy:"auy-Latn-ZZ",av:"av-Cyrl-RU",avl:"avl-Arab-ZZ",avn:"avn-Latn-ZZ",avt:"avt-Latn-ZZ",avu:"avu-Latn-ZZ",awa:"awa-Deva-IN",awb:"awb-Latn-ZZ",awo:"awo-Latn-ZZ",awx:"awx-Latn-ZZ",ay:"ay-Latn-BO",ayb:"ayb-Latn-ZZ",az:"az-Latn-AZ","az-Arab":"az-Arab-IR","az-IQ":"az-Arab-IQ","az-IR":"az-Arab-IR","az-RU":"az-Cyrl-RU",ba:"ba-Cyrl-RU",bal:"bal-Arab-PK",ban:"ban-Latn-ID",bap:"bap-Deva-NP",bar:"bar-Latn-AT",bas:"bas-Latn-CM",bav:"bav-Latn-ZZ",bax:"bax-Bamu-CM",bba:"bba-Latn-ZZ",bbb:"bbb-Latn-ZZ",bbc:"bbc-Latn-ID",bbd:"bbd-Latn-ZZ",bbj:"bbj-Latn-CM",bbp:"bbp-Latn-ZZ",bbr:"bbr-Latn-ZZ",bcf:"bcf-Latn-ZZ",bch:"bch-Latn-ZZ",bci:"bci-Latn-CI",bcm:"bcm-Latn-ZZ",bcn:"bcn-Latn-ZZ",bco:"bco-Latn-ZZ",bcq:"bcq-Ethi-ZZ",bcu:"bcu-Latn-ZZ",bdd:"bdd-Latn-ZZ",be:"be-Cyrl-BY",bef:"bef-Latn-ZZ",beh:"beh-Latn-ZZ",bej:"bej-Arab-SD",bem:"bem-Latn-ZM",bet:"bet-Latn-ZZ",bew:"bew-Latn-ID",
bex:"bex-Latn-ZZ",bez:"bez-Latn-TZ",bfd:"bfd-Latn-CM",bfq:"bfq-Taml-IN",bft:"bft-Arab-PK",bfy:"bfy-Deva-IN",bg:"bg-Cyrl-BG",bgc:"bgc-Deva-IN",bgn:"bgn-Arab-PK",bgx:"bgx-Grek-TR",bhb:"bhb-Deva-IN",bhg:"bhg-Latn-ZZ",bhi:"bhi-Deva-IN",bhl:"bhl-Latn-ZZ",bho:"bho-Deva-IN",bhy:"bhy-Latn-ZZ",bi:"bi-Latn-VU",bib:"bib-Latn-ZZ",big:"big-Latn-ZZ",bik:"bik-Latn-PH",bim:"bim-Latn-ZZ",bin:"bin-Latn-NG",bio:"bio-Latn-ZZ",biq:"biq-Latn-ZZ",bjh:"bjh-Latn-ZZ",bji:"bji-Ethi-ZZ",bjj:"bjj-Deva-IN",bjn:"bjn-Latn-ID",bjo:"bjo-Latn-ZZ",bjr:"bjr-Latn-ZZ",bjt:"bjt-Latn-SN",bjz:"bjz-Latn-ZZ",bkc:"bkc-Latn-ZZ",bkm:"bkm-Latn-CM",bkq:"bkq-Latn-ZZ",bku:"bku-Latn-PH",bkv:"bkv-Latn-ZZ",blt:"blt-Tavt-VN",bm:"bm-Latn-ML",bmh:"bmh-Latn-ZZ",bmk:"bmk-Latn-ZZ",bmq:"bmq-Latn-ML",bmu:"bmu-Latn-ZZ",bn:"bn-Beng-BD",bng:"bng-Latn-ZZ",bnm:"bnm-Latn-ZZ",bnp:"bnp-Latn-ZZ",bo:"bo-Tibt-CN",boj:"boj-Latn-ZZ",bom:"bom-Latn-ZZ",bon:"bon-Latn-ZZ",bpy:"bpy-Beng-IN",bqc:"bqc-Latn-ZZ",bqi:"bqi-Arab-IR",bqp:"bqp-Latn-ZZ",bqv:"bqv-Latn-CI",br:"br-Latn-FR",bra:"bra-Deva-IN",brh:"brh-Arab-PK",brx:"brx-Deva-IN",brz:"brz-Latn-ZZ",bs:"bs-Latn-BA",bsj:"bsj-Latn-ZZ",bsq:"bsq-Bass-LR",bss:"bss-Latn-CM",bst:"bst-Ethi-ZZ",bto:"bto-Latn-PH",btt:"btt-Latn-ZZ",btv:"btv-Deva-PK",bua:"bua-Cyrl-RU",buc:"buc-Latn-YT",bud:"bud-Latn-ZZ",bug:"bug-Latn-ID",buk:"buk-Latn-ZZ",bum:"bum-Latn-CM",buo:"buo-Latn-ZZ",bus:"bus-Latn-ZZ",buu:"buu-Latn-ZZ",bvb:"bvb-Latn-GQ",bwd:"bwd-Latn-ZZ",bwr:"bwr-Latn-ZZ",bxh:"bxh-Latn-ZZ",bye:"bye-Latn-ZZ",byn:"byn-Ethi-ER",byr:"byr-Latn-ZZ",bys:"bys-Latn-ZZ",byv:"byv-Latn-CM",byx:"byx-Latn-ZZ",bza:"bza-Latn-ZZ",bze:"bze-Latn-ML",bzf:"bzf-Latn-ZZ",bzh:"bzh-Latn-ZZ",bzw:"bzw-Latn-ZZ",ca:"ca-Latn-ES",can:"can-Latn-ZZ",cbj:"cbj-Latn-ZZ",cch:"cch-Latn-NG",ccp:"ccp-Cakm-BD",ce:"ce-Cyrl-RU",ceb:"ceb-Latn-PH",cfa:"cfa-Latn-ZZ",cgg:"cgg-Latn-UG",ch:"ch-Latn-GU",chk:"chk-Latn-FM",chm:"chm-Cyrl-RU",cho:"cho-Latn-US",chp:"chp-Latn-CA",chr:"chr-Cher-US",cic:"cic-Latn-US",cja:"cja-Arab-KH",cjm:"cjm-Cham-VN",cjv:"cjv-Latn-ZZ",ckb:"ckb-Arab-IQ",ckl:"ckl-Latn-ZZ",cko:"cko-Latn-ZZ",cky:"cky-Latn-ZZ",cla:"cla-Latn-ZZ",cme:"cme-Latn-ZZ",cmg:"cmg-Soyo-MN",co:"co-Latn-FR",cop:"cop-Copt-EG",cps:"cps-Latn-PH",cr:"cr-Cans-CA",crh:"crh-Cyrl-UA",crj:"crj-Cans-CA",crk:"crk-Cans-CA",crl:"crl-Cans-CA",crm:"crm-Cans-CA",crs:"crs-Latn-SC",cs:"cs-Latn-CZ",csb:"csb-Latn-PL",csw:"csw-Cans-CA",ctd:"ctd-Pauc-MM",cu:"cu-Cyrl-RU","cu-Glag":"cu-Glag-BG",cv:"cv-Cyrl-RU",cy:"cy-Latn-GB",da:"da-Latn-DK",dad:"dad-Latn-ZZ",daf:"daf-Latn-ZZ",dag:"dag-Latn-ZZ",dah:"dah-Latn-ZZ",dak:"dak-Latn-US",dar:"dar-Cyrl-RU",dav:"dav-Latn-KE",dbd:"dbd-Latn-ZZ",dbq:"dbq-Latn-ZZ",dcc:"dcc-Arab-IN",ddn:"ddn-Latn-ZZ",de:"de-Latn-DE",ded:"ded-Latn-ZZ",den:"den-Latn-CA",dga:"dga-Latn-ZZ",dgh:"dgh-Latn-ZZ",dgi:"dgi-Latn-ZZ",dgl:"dgl-Arab-ZZ",dgr:"dgr-Latn-CA",dgz:"dgz-Latn-ZZ",dia:"dia-Latn-ZZ",dje:"dje-Latn-NE",dnj:"dnj-Latn-CI",dob:"dob-Latn-ZZ",doi:"doi-Arab-IN",dop:"dop-Latn-ZZ",dow:"dow-Latn-ZZ",drh:"drh-Mong-CN",dri:"dri-Latn-ZZ",drs:"drs-Ethi-ZZ",dsb:"dsb-Latn-DE",dtm:"dtm-Latn-ML",dtp:"dtp-Latn-MY",dts:"dts-Latn-ZZ",dty:"dty-Deva-NP",dua:"dua-Latn-CM",duc:"duc-Latn-ZZ",dud:"dud-Latn-ZZ",dug:"dug-Latn-ZZ",dv:"dv-Thaa-MV",dva:"dva-Latn-ZZ",dww:"dww-Latn-ZZ",dyo:"dyo-Latn-SN",dyu:"dyu-Latn-BF",dz:"dz-Tibt-BT",dzg:"dzg-Latn-ZZ",ebu:"ebu-Latn-KE",ee:"ee-Latn-GH",efi:"efi-Latn-NG",egl:"egl-Latn-IT",egy:"egy-Egyp-EG",eka:"eka-Latn-ZZ",eky:"eky-Kali-MM",el:"el-Grek-GR",ema:"ema-Latn-ZZ",emi:"emi-Latn-ZZ",en:"en-Latn-US","en-Shaw":"en-Shaw-GB",enn:"enn-Latn-ZZ",enq:"enq-Latn-ZZ",eo:"eo-Latn-001",eri:"eri-Latn-ZZ",es:"es-Latn-ES",esg:"esg-Gonm-IN",esu:"esu-Latn-US",et:"et-Latn-EE",etr:"etr-Latn-ZZ",ett:"ett-Ital-IT",etu:"etu-Latn-ZZ",etx:"etx-Latn-ZZ",eu:"eu-Latn-ES",ewo:"ewo-Latn-CM",ext:"ext-Latn-ES",fa:"fa-Arab-IR",faa:"faa-Latn-ZZ",fab:"fab-Latn-ZZ",fag:"fag-Latn-ZZ",fai:"fai-Latn-ZZ",fan:"fan-Latn-GQ",ff:"ff-Latn-SN","ff-Adlm":"ff-Adlm-GN",ffi:"ffi-Latn-ZZ",ffm:"ffm-Latn-ML",fi:"fi-Latn-FI",fia:"fia-Arab-SD",fil:"fil-Latn-PH",fit:"fit-Latn-SE",fj:"fj-Latn-FJ",flr:"flr-Latn-ZZ",fmp:"fmp-Latn-ZZ",fo:"fo-Latn-FO",fod:"fod-Latn-ZZ",fon:"fon-Latn-BJ",for:"for-Latn-ZZ",fpe:"fpe-Latn-ZZ",fqs:"fqs-Latn-ZZ",fr:"fr-Latn-FR",frc:"frc-Latn-US",frp:"frp-Latn-FR",frr:"frr-Latn-DE",frs:"frs-Latn-DE",fub:"fub-Arab-CM",fud:"fud-Latn-WF",fue:"fue-Latn-ZZ",fuf:"fuf-Latn-GN",fuh:"fuh-Latn-ZZ",fuq:"fuq-Latn-NE",fur:"fur-Latn-IT",fuv:"fuv-Latn-NG",fuy:"fuy-Latn-ZZ",fvr:"fvr-Latn-SD",fy:"fy-Latn-NL",ga:"ga-Latn-IE",gaa:"gaa-Latn-GH",gaf:"gaf-Latn-ZZ",gag:"gag-Latn-MD",gah:"gah-Latn-ZZ",gaj:"gaj-Latn-ZZ",gam:"gam-Latn-ZZ",gan:"gan-Hans-CN",gaw:"gaw-Latn-ZZ",gay:"gay-Latn-ID",gba:"gba-Latn-ZZ",gbf:"gbf-Latn-ZZ",gbm:"gbm-Deva-IN",gby:"gby-Latn-ZZ",gbz:"gbz-Arab-IR",gcr:"gcr-Latn-GF",gd:"gd-Latn-GB",gde:"gde-Latn-ZZ",gdn:"gdn-Latn-ZZ",gdr:"gdr-Latn-ZZ",geb:"geb-Latn-ZZ",gej:"gej-Latn-ZZ",gel:"gel-Latn-ZZ",gez:"gez-Ethi-ET",gfk:"gfk-Latn-ZZ",ggn:"ggn-Deva-NP",ghs:"ghs-Latn-ZZ",gil:"gil-Latn-KI",gim:"gim-Latn-ZZ",gjk:"gjk-Arab-PK",gjn:"gjn-Latn-ZZ",gju:"gju-Arab-PK",gkn:"gkn-Latn-ZZ",gkp:"gkp-Latn-ZZ",gl:"gl-Latn-ES",glk:"glk-Arab-IR",gmm:"gmm-Latn-ZZ",gmv:"gmv-Ethi-ZZ",gn:"gn-Latn-PY",gnd:"gnd-Latn-ZZ",gng:"gng-Latn-ZZ",god:"god-Latn-ZZ",gof:"gof-Ethi-ZZ",goi:"goi-Latn-ZZ",gom:"gom-Deva-IN",gon:"gon-Telu-IN",gor:"gor-Latn-ID",gos:"gos-Latn-NL",got:"got-Goth-UA",grb:"grb-Latn-ZZ",grc:"grc-Cprt-CY","grc-Linb":"grc-Linb-GR",grt:"grt-Beng-IN",grw:"grw-Latn-ZZ",gsw:"gsw-Latn-CH",gu:"gu-Gujr-IN",gub:"gub-Latn-BR",guc:"guc-Latn-CO",gud:"gud-Latn-ZZ",gur:"gur-Latn-GH",guw:"guw-Latn-ZZ",gux:"gux-Latn-ZZ",guz:"guz-Latn-KE",gv:"gv-Latn-IM",gvf:"gvf-Latn-ZZ",gvr:"gvr-Deva-NP",gvs:"gvs-Latn-ZZ",gwc:"gwc-Arab-ZZ",gwi:"gwi-Latn-CA",gwt:"gwt-Arab-ZZ",gyi:"gyi-Latn-ZZ",ha:"ha-Latn-NG","ha-CM":"ha-Arab-CM","ha-SD":"ha-Arab-SD",hag:"hag-Latn-ZZ",hak:"hak-Hans-CN",ham:"ham-Latn-ZZ",haw:"haw-Latn-US",haz:"haz-Arab-AF",hbb:"hbb-Latn-ZZ",hdy:"hdy-Ethi-ZZ",he:"he-Hebr-IL",hhy:"hhy-Latn-ZZ",hi:"hi-Deva-IN",hia:"hia-Latn-ZZ",hif:"hif-Latn-FJ",hig:"hig-Latn-ZZ",hih:"hih-Latn-ZZ",hil:"hil-Latn-PH",hla:"hla-Latn-ZZ",hlu:"hlu-Hluw-TR",hmd:"hmd-Plrd-CN",hmt:"hmt-Latn-ZZ",hnd:"hnd-Arab-PK",hne:"hne-Deva-IN",hnj:"hnj-Hmng-LA",hnn:"hnn-Latn-PH",hno:"hno-Arab-PK",ho:"ho-Latn-PG",hoc:"hoc-Deva-IN",hoj:"hoj-Deva-IN",hot:"hot-Latn-ZZ",hr:"hr-Latn-HR",hsb:"hsb-Latn-DE",hsn:"hsn-Hans-CN",ht:"ht-Latn-HT",hu:"hu-Latn-HU",hui:"hui-Latn-ZZ",hy:"hy-Armn-AM",hz:"hz-Latn-NA",ia:"ia-Latn-001",ian:"ian-Latn-ZZ",iar:"iar-Latn-ZZ",iba:"iba-Latn-MY",ibb:"ibb-Latn-NG",iby:"iby-Latn-ZZ",ica:"ica-Latn-ZZ",ich:"ich-Latn-ZZ",id:"id-Latn-ID",idd:"idd-Latn-ZZ",idi:"idi-Latn-ZZ",idu:"idu-Latn-ZZ",ife:"ife-Latn-TG",ig:"ig-Latn-NG",igb:"igb-Latn-ZZ",ige:"ige-Latn-ZZ",ii:"ii-Yiii-CN",ijj:"ijj-Latn-ZZ",ik:"ik-Latn-US",ikk:"ikk-Latn-ZZ",ikt:"ikt-Latn-CA",ikw:"ikw-Latn-ZZ",ikx:"ikx-Latn-ZZ",ilo:"ilo-Latn-PH",imo:"imo-Latn-ZZ",in:"in-Latn-ID",inh:"inh-Cyrl-RU",io:"io-Latn-001",iou:"iou-Latn-ZZ",iri:"iri-Latn-ZZ",is:"is-Latn-IS",it:"it-Latn-IT",iu:"iu-Cans-CA",iw:"iw-Hebr-IL",iwm:"iwm-Latn-ZZ",iws:"iws-Latn-ZZ",izh:"izh-Latn-RU",izi:"izi-Latn-ZZ",ja:"ja-Jpan-JP",jab:"jab-Latn-ZZ",jam:"jam-Latn-JM",jbo:"jbo-Latn-001",jbu:"jbu-Latn-ZZ",jen:"jen-Latn-ZZ",jgk:"jgk-Latn-ZZ",jgo:"jgo-Latn-CM",ji:"ji-Hebr-UA",jib:"jib-Latn-ZZ",jmc:"jmc-Latn-TZ",jml:"jml-Deva-NP",jra:"jra-Latn-ZZ",jut:"jut-Latn-DK",jv:"jv-Latn-ID",jw:"jw-Latn-ID",ka:"ka-Geor-GE",kaa:"kaa-Cyrl-UZ",kab:"kab-Latn-DZ",kac:"kac-Latn-MM",kad:"kad-Latn-ZZ",kai:"kai-Latn-ZZ",kaj:"kaj-Latn-NG",kam:"kam-Latn-KE",kao:"kao-Latn-ML",kbd:"kbd-Cyrl-RU",kbm:"kbm-Latn-ZZ",kbp:"kbp-Latn-ZZ",kbq:"kbq-Latn-ZZ",kbx:"kbx-Latn-ZZ",kby:"kby-Arab-NE",kcg:"kcg-Latn-NG",kck:"kck-Latn-ZW",kcl:"kcl-Latn-ZZ",kct:"kct-Latn-ZZ",kde:"kde-Latn-TZ",kdh:"kdh-Arab-TG",kdl:"kdl-Latn-ZZ",kdt:"kdt-Thai-TH",kea:"kea-Latn-CV",ken:"ken-Latn-CM",kez:"kez-Latn-ZZ",kfo:"kfo-Latn-CI",kfr:"kfr-Deva-IN",kfy:"kfy-Deva-IN",kg:"kg-Latn-CD",kge:"kge-Latn-ID",kgf:"kgf-Latn-ZZ",kgp:"kgp-Latn-BR",kha:"kha-Latn-IN",khb:"khb-Talu-CN",khn:"khn-Deva-IN",khq:"khq-Latn-ML",khs:"khs-Latn-ZZ",kht:"kht-Mymr-IN",khw:"khw-Arab-PK",khz:"khz-Latn-ZZ",ki:"ki-Latn-KE",kij:"kij-Latn-ZZ",kiu:"kiu-Latn-TR",kiw:"kiw-Latn-ZZ",kj:"kj-Latn-NA",kjd:"kjd-Latn-ZZ",kjg:"kjg-Laoo-LA",kjs:"kjs-Latn-ZZ",kjy:"kjy-Latn-ZZ",kk:"kk-Cyrl-KZ","kk-AF":"kk-Arab-AF","kk-Arab":"kk-Arab-CN","kk-CN":"kk-Arab-CN","kk-IR":"kk-Arab-IR","kk-MN":"kk-Arab-MN",kkc:"kkc-Latn-ZZ",kkj:"kkj-Latn-CM",kl:"kl-Latn-GL",kln:"kln-Latn-KE",klq:"klq-Latn-ZZ",klt:"klt-Latn-ZZ",klx:"klx-Latn-ZZ",km:"km-Khmr-KH",kmb:"kmb-Latn-AO",kmh:"kmh-Latn-ZZ",kmo:"kmo-Latn-ZZ",kms:"kms-Latn-ZZ",kmu:"kmu-Latn-ZZ",kmw:"kmw-Latn-ZZ",kn:"kn-Knda-IN",knf:"knf-Latn-GW",knp:"knp-Latn-ZZ",ko:"ko-Kore-KR",koi:"koi-Cyrl-RU",kok:"kok-Deva-IN",kol:"kol-Latn-ZZ",kos:"kos-Latn-FM",koz:"koz-Latn-ZZ",kpe:"kpe-Latn-LR",kpf:"kpf-Latn-ZZ",kpo:"kpo-Latn-ZZ",kpr:"kpr-Latn-ZZ",kpx:"kpx-Latn-ZZ",kqb:"kqb-Latn-ZZ",kqf:"kqf-Latn-ZZ",kqs:"kqs-Latn-ZZ",kqy:"kqy-Ethi-ZZ",kr:"kr-Latn-ZZ",krc:"krc-Cyrl-RU",kri:"kri-Latn-SL",krj:"krj-Latn-PH",krl:"krl-Latn-RU",krs:"krs-Latn-ZZ",kru:"kru-Deva-IN",ks:"ks-Arab-IN",ksb:"ksb-Latn-TZ",ksd:"ksd-Latn-ZZ",ksf:"ksf-Latn-CM",ksh:"ksh-Latn-DE",ksj:"ksj-Latn-ZZ",ksr:"ksr-Latn-ZZ",ktb:"ktb-Ethi-ZZ",ktm:"ktm-Latn-ZZ",kto:"kto-Latn-ZZ",ktr:"ktr-Latn-MY",ku:"ku-Latn-TR","ku-Arab":"ku-Arab-IQ","ku-LB":"ku-Arab-LB",kub:"kub-Latn-ZZ",kud:"kud-Latn-ZZ",kue:"kue-Latn-ZZ",kuj:"kuj-Latn-ZZ",kum:"kum-Cyrl-RU",kun:"kun-Latn-ZZ",kup:"kup-Latn-ZZ",kus:"kus-Latn-ZZ",kv:"kv-Cyrl-RU",kvg:"kvg-Latn-ZZ",kvr:"kvr-Latn-ID",kvx:"kvx-Arab-PK",kw:"kw-Latn-GB",kwj:"kwj-Latn-ZZ",kwo:"kwo-Latn-ZZ",kwq:"kwq-Latn-ZZ",kxa:"kxa-Latn-ZZ",kxc:"kxc-Ethi-ZZ",kxe:"kxe-Latn-ZZ",kxm:"kxm-Thai-TH",kxp:"kxp-Arab-PK",kxw:"kxw-Latn-ZZ",kxz:"kxz-Latn-ZZ",ky:"ky-Cyrl-KG","ky-Arab":"ky-Arab-CN","ky-CN":"ky-Arab-CN","ky-Latn":"ky-Latn-TR","ky-TR":"ky-Latn-TR",kye:"kye-Latn-ZZ",kyx:"kyx-Latn-ZZ",kzj:"kzj-Latn-MY",kzr:"kzr-Latn-ZZ",kzt:"kzt-Latn-MY",la:"la-Latn-VA",lab:"lab-Lina-GR",lad:"lad-Hebr-IL",lag:"lag-Latn-TZ",lah:"lah-Arab-PK",laj:"laj-Latn-UG",las:"las-Latn-ZZ",lb:"lb-Latn-LU",lbe:"lbe-Cyrl-RU",lbu:"lbu-Latn-ZZ",lbw:"lbw-Latn-ID",lcm:"lcm-Latn-ZZ",lcp:"lcp-Thai-CN",ldb:"ldb-Latn-ZZ",led:"led-Latn-ZZ",lee:"lee-Latn-ZZ",lem:"lem-Latn-ZZ",lep:"lep-Lepc-IN",leq:"leq-Latn-ZZ",leu:"leu-Latn-ZZ",lez:"lez-Cyrl-RU",lg:"lg-Latn-UG",lgg:"lgg-Latn-ZZ",li:"li-Latn-NL",lia:"lia-Latn-ZZ",lid:"lid-Latn-ZZ",lif:"lif-Deva-NP","lif-Limb":"lif-Limb-IN",lig:"lig-Latn-ZZ",lih:"lih-Latn-ZZ",lij:"lij-Latn-IT",lis:"lis-Lisu-CN",ljp:"ljp-Latn-ID",lki:"lki-Arab-IR",lkt:"lkt-Latn-US",lle:"lle-Latn-ZZ",lln:"lln-Latn-ZZ",lmn:"lmn-Telu-IN",lmo:"lmo-Latn-IT",lmp:"lmp-Latn-ZZ",ln:"ln-Latn-CD",lns:"lns-Latn-ZZ",lnu:"lnu-Latn-ZZ",lo:"lo-Laoo-LA",loj:"loj-Latn-ZZ",lok:"lok-Latn-ZZ",lol:"lol-Latn-CD",lor:"lor-Latn-ZZ",los:"los-Latn-ZZ",loz:"loz-Latn-ZM",lrc:"lrc-Arab-IR",lt:"lt-Latn-LT",ltg:"ltg-Latn-LV",lu:"lu-Latn-CD",lua:"lua-Latn-CD",luo:"luo-Latn-KE",luy:"luy-Latn-KE",luz:"luz-Arab-IR",lv:"lv-Latn-LV",lwl:"lwl-Thai-TH",lzh:"lzh-Hans-CN",lzz:"lzz-Latn-TR",mad:"mad-Latn-ID",maf:"maf-Latn-CM",mag:"mag-Deva-IN",mai:"mai-Deva-IN",mak:"mak-Latn-ID",man:"man-Latn-GM","man-GN":"man-Nkoo-GN","man-Nkoo":"man-Nkoo-GN",mas:"mas-Latn-KE",maw:"maw-Latn-ZZ",maz:"maz-Latn-MX",mbh:"mbh-Latn-ZZ",mbo:"mbo-Latn-ZZ",mbq:"mbq-Latn-ZZ",mbu:"mbu-Latn-ZZ",mbw:"mbw-Latn-ZZ",mci:"mci-Latn-ZZ",mcp:"mcp-Latn-ZZ",mcq:"mcq-Latn-ZZ",mcr:"mcr-Latn-ZZ",mcu:"mcu-Latn-ZZ",mda:"mda-Latn-ZZ",mde:"mde-Arab-ZZ",mdf:"mdf-Cyrl-RU",mdh:"mdh-Latn-PH",mdj:"mdj-Latn-ZZ",mdr:"mdr-Latn-ID",mdx:"mdx-Ethi-ZZ",med:"med-Latn-ZZ",mee:"mee-Latn-ZZ",mek:"mek-Latn-ZZ",men:"men-Latn-SL",mer:"mer-Latn-KE",met:"met-Latn-ZZ",meu:"meu-Latn-ZZ",mfa:"mfa-Arab-TH",mfe:"mfe-Latn-MU",mfn:"mfn-Latn-ZZ",mfo:"mfo-Latn-ZZ",mfq:"mfq-Latn-ZZ",mg:"mg-Latn-MG",mgh:"mgh-Latn-MZ",mgl:"mgl-Latn-ZZ",mgo:"mgo-Latn-CM",mgp:"mgp-Deva-NP",mgy:"mgy-Latn-TZ",mh:"mh-Latn-MH",mhi:"mhi-Latn-ZZ",mhl:"mhl-Latn-ZZ",mi:"mi-Latn-NZ",mif:"mif-Latn-ZZ",min:"min-Latn-ID",mis:"mis-Hatr-IQ","mis-Medf":"mis-Medf-NG",miw:"miw-Latn-ZZ",mk:"mk-Cyrl-MK",mki:"mki-Arab-ZZ",mkl:"mkl-Latn-ZZ",mkp:"mkp-Latn-ZZ",mkw:"mkw-Latn-ZZ",ml:"ml-Mlym-IN",mle:"mle-Latn-ZZ",mlp:"mlp-Latn-ZZ",mls:"mls-Latn-SD",mmo:"mmo-Latn-ZZ",mmu:"mmu-Latn-ZZ",mmx:"mmx-Latn-ZZ",mn:"mn-Cyrl-MN","mn-CN":"mn-Mong-CN","mn-Mong":"mn-Mong-CN",mna:"mna-Latn-ZZ",mnf:"mnf-Latn-ZZ",mni:"mni-Beng-IN",mnw:"mnw-Mymr-MM",mo:"mo-Latn-RO",moa:"moa-Latn-ZZ",moe:"moe-Latn-CA",moh:"moh-Latn-CA",mos:"mos-Latn-BF",mox:"mox-Latn-ZZ",mpp:"mpp-Latn-ZZ",mps:"mps-Latn-ZZ",mpt:"mpt-Latn-ZZ",mpx:"mpx-Latn-ZZ",mql:"mql-Latn-ZZ",mr:"mr-Deva-IN",mrd:"mrd-Deva-NP",mrj:"mrj-Cyrl-RU",mro:"mro-Mroo-BD",ms:"ms-Latn-MY","ms-CC":"ms-Arab-CC","ms-ID":"ms-Arab-ID",mt:"mt-Latn-MT",mtc:"mtc-Latn-ZZ",mtf:"mtf-Latn-ZZ",mti:"mti-Latn-ZZ",mtr:"mtr-Deva-IN",mua:"mua-Latn-CM",mur:"mur-Latn-ZZ",mus:"mus-Latn-US",mva:"mva-Latn-ZZ",mvn:"mvn-Latn-ZZ",mvy:"mvy-Arab-PK",mwk:"mwk-Latn-ML",mwr:"mwr-Deva-IN",mwv:"mwv-Latn-ID",mww:"mww-Hmnp-US",mxc:"mxc-Latn-ZW",mxm:"mxm-Latn-ZZ",my:"my-Mymr-MM",myk:"myk-Latn-ZZ",mym:"mym-Ethi-ZZ",myv:"myv-Cyrl-RU",myw:"myw-Latn-ZZ",myx:"myx-Latn-UG",myz:"myz-Mand-IR",mzk:"mzk-Latn-ZZ",mzm:"mzm-Latn-ZZ",mzn:"mzn-Arab-IR",mzp:"mzp-Latn-ZZ",mzw:"mzw-Latn-ZZ",mzz:"mzz-Latn-ZZ",na:"na-Latn-NR",nac:"nac-Latn-ZZ",naf:"naf-Latn-ZZ",nak:"nak-Latn-ZZ",nan:"nan-Hans-CN",nap:"nap-Latn-IT",naq:"naq-Latn-NA",nas:"nas-Latn-ZZ",nb:"nb-Latn-NO",nca:"nca-Latn-ZZ",nce:"nce-Latn-ZZ",ncf:"ncf-Latn-ZZ",nch:"nch-Latn-MX",nco:"nco-Latn-ZZ",ncu:"ncu-Latn-ZZ",nd:"nd-Latn-ZW",ndc:"ndc-Latn-MZ",nds:"nds-Latn-DE",ne:"ne-Deva-NP",neb:"neb-Latn-ZZ",new:"new-Deva-NP",nex:"nex-Latn-ZZ",nfr:"nfr-Latn-ZZ",ng:"ng-Latn-NA",nga:"nga-Latn-ZZ",ngb:"ngb-Latn-ZZ",ngl:"ngl-Latn-MZ",nhb:"nhb-Latn-ZZ",nhe:"nhe-Latn-MX",nhw:"nhw-Latn-MX",nif:"nif-Latn-ZZ",nii:"nii-Latn-ZZ",nij:"nij-Latn-ID",nin:"nin-Latn-ZZ",niu:"niu-Latn-NU",niy:"niy-Latn-ZZ",niz:"niz-Latn-ZZ",njo:"njo-Latn-IN",nkg:"nkg-Latn-ZZ",nko:"nko-Latn-ZZ",nl:"nl-Latn-NL",nmg:"nmg-Latn-CM",nmz:"nmz-Latn-ZZ",nn:"nn-Latn-NO",nnf:"nnf-Latn-ZZ",nnh:"nnh-Latn-CM",nnk:"nnk-Latn-ZZ",nnm:"nnm-Latn-ZZ",nnp:"nnp-Wcho-IN",no:"no-Latn-NO",nod:"nod-Lana-TH",noe:"noe-Deva-IN",non:"non-Runr-SE",nop:"nop-Latn-ZZ",nou:"nou-Latn-ZZ",nqo:"nqo-Nkoo-GN",nr:"nr-Latn-ZA",nrb:"nrb-Latn-ZZ",nsk:"nsk-Cans-CA",nsn:"nsn-Latn-ZZ",nso:"nso-Latn-ZA",nss:"nss-Latn-ZZ",ntm:"ntm-Latn-ZZ",ntr:"ntr-Latn-ZZ",nui:"nui-Latn-ZZ",nup:"nup-Latn-ZZ",nus:"nus-Latn-SS",nuv:"nuv-Latn-ZZ",nux:"nux-Latn-ZZ",nv:"nv-Latn-US",nwb:"nwb-Latn-ZZ",nxq:"nxq-Latn-CN",nxr:"nxr-Latn-ZZ",ny:"ny-Latn-MW",nym:"nym-Latn-TZ",nyn:"nyn-Latn-UG",nzi:"nzi-Latn-GH",oc:"oc-Latn-FR",ogc:"ogc-Latn-ZZ",okr:"okr-Latn-ZZ",okv:"okv-Latn-ZZ",om:"om-Latn-ET",ong:"ong-Latn-ZZ",onn:"onn-Latn-ZZ",ons:"ons-Latn-ZZ",opm:"opm-Latn-ZZ",or:"or-Orya-IN",oro:"oro-Latn-ZZ",oru:"oru-Arab-ZZ",os:"os-Cyrl-GE",osa:"osa-Osge-US",ota:"ota-Arab-ZZ",otk:"otk-Orkh-MN",ozm:"ozm-Latn-ZZ",pa:"pa-Guru-IN","pa-Arab":"pa-Arab-PK","pa-PK":"pa-Arab-PK",pag:"pag-Latn-PH",pal:"pal-Phli-IR","pal-Phlp":"pal-Phlp-CN",pam:"pam-Latn-PH",pap:"pap-Latn-AW",pau:"pau-Latn-PW",pbi:"pbi-Latn-ZZ",pcd:"pcd-Latn-FR",pcm:"pcm-Latn-NG",pdc:"pdc-Latn-US",pdt:"pdt-Latn-CA",ped:"ped-Latn-ZZ",peo:"peo-Xpeo-IR",pex:"pex-Latn-ZZ",pfl:"pfl-Latn-DE",phl:"phl-Arab-ZZ",phn:"phn-Phnx-LB",pil:"pil-Latn-ZZ",pip:"pip-Latn-ZZ",pka:"pka-Brah-IN",pko:"pko-Latn-KE",pl:"pl-Latn-PL",pla:"pla-Latn-ZZ",pms:"pms-Latn-IT",png:"png-Latn-ZZ",pnn:"pnn-Latn-ZZ",pnt:"pnt-Grek-GR",pon:"pon-Latn-FM",ppa:"ppa-Deva-IN",ppo:"ppo-Latn-ZZ",pra:"pra-Khar-PK",prd:"prd-Arab-IR",prg:"prg-Latn-001",ps:"ps-Arab-AF",pss:"pss-Latn-ZZ",pt:"pt-Latn-BR",ptp:"ptp-Latn-ZZ",puu:"puu-Latn-GA",pwa:"pwa-Latn-ZZ",qu:"qu-Latn-PE",quc:"quc-Latn-GT",qug:"qug-Latn-EC",rai:"rai-Latn-ZZ",raj:"raj-Deva-IN",rao:"rao-Latn-ZZ",rcf:"rcf-Latn-RE",rej:"rej-Latn-ID",rel:"rel-Latn-ZZ",res:"res-Latn-ZZ",rgn:"rgn-Latn-IT",rhg:"rhg-Arab-MM",ria:"ria-Latn-IN",rif:"rif-Tfng-MA","rif-NL":"rif-Latn-NL",rjs:"rjs-Deva-NP",rkt:"rkt-Beng-BD",rm:"rm-Latn-CH",rmf:"rmf-Latn-FI",rmo:"rmo-Latn-CH",rmt:"rmt-Arab-IR",rmu:"rmu-Latn-SE",rn:"rn-Latn-BI",rna:"rna-Latn-ZZ",rng:"rng-Latn-MZ",ro:"ro-Latn-RO",rob:"rob-Latn-ID",rof:"rof-Latn-TZ",roo:"roo-Latn-ZZ",rro:"rro-Latn-ZZ",rtm:"rtm-Latn-FJ",ru:"ru-Cyrl-RU",rue:"rue-Cyrl-UA",rug:"rug-Latn-SB",rw:"rw-Latn-RW",rwk:"rwk-Latn-TZ",rwo:"rwo-Latn-ZZ",ryu:"ryu-Kana-JP",sa:"sa-Deva-IN",saf:"saf-Latn-GH",sah:"sah-Cyrl-RU",saq:"saq-Latn-KE",sas:"sas-Latn-ID",sat:"sat-Latn-IN",sav:"sav-Latn-SN",saz:"saz-Saur-IN",sba:"sba-Latn-ZZ",sbe:"sbe-Latn-ZZ",sbp:"sbp-Latn-TZ",sc:"sc-Latn-IT",sck:"sck-Deva-IN",scl:"scl-Arab-ZZ",scn:"scn-Latn-IT",sco:"sco-Latn-GB",scs:"scs-Latn-CA",sd:"sd-Arab-PK","sd-Deva":"sd-Deva-IN","sd-Khoj":"sd-Khoj-IN","sd-Sind":"sd-Sind-IN",sdc:"sdc-Latn-IT",sdh:"sdh-Arab-IR",se:"se-Latn-NO",sef:"sef-Latn-CI",seh:"seh-Latn-MZ",sei:"sei-Latn-MX",ses:"ses-Latn-ML",sg:"sg-Latn-CF",sga:"sga-Ogam-IE",sgs:"sgs-Latn-LT",sgw:"sgw-Ethi-ZZ",sgz:"sgz-Latn-ZZ",shi:"shi-Tfng-MA",shk:"shk-Latn-ZZ",shn:"shn-Mymr-MM",shu:"shu-Arab-ZZ",si:"si-Sinh-LK",sid:"sid-Latn-ET",sig:"sig-Latn-ZZ",sil:"sil-Latn-ZZ",sim:"sim-Latn-ZZ",sjr:"sjr-Latn-ZZ",sk:"sk-Latn-SK",skc:"skc-Latn-ZZ",skr:"skr-Arab-PK",sks:"sks-Latn-ZZ",sl:"sl-Latn-SI",sld:"sld-Latn-ZZ",sli:"sli-Latn-PL",sll:"sll-Latn-ZZ",sly:"sly-Latn-ID",sm:"sm-Latn-WS",sma:"sma-Latn-SE",smj:"smj-Latn-SE",smn:"smn-Latn-FI",smp:"smp-Samr-IL",smq:"smq-Latn-ZZ",sms:"sms-Latn-FI",sn:"sn-Latn-ZW",snc:"snc-Latn-ZZ",snk:"snk-Latn-ML",snp:"snp-Latn-ZZ",snx:"snx-Latn-ZZ",sny:"sny-Latn-ZZ",so:"so-Latn-SO",sog:"sog-Sogd-UZ",sok:"sok-Latn-ZZ",soq:"soq-Latn-ZZ",sou:"sou-Thai-TH",soy:"soy-Latn-ZZ",spd:"spd-Latn-ZZ",spl:"spl-Latn-ZZ",sps:"sps-Latn-ZZ",sq:"sq-Latn-AL",sr:"sr-Cyrl-RS","sr-ME":"sr-Latn-ME","sr-RO":"sr-Latn-RO","sr-RU":"sr-Latn-RU","sr-TR":"sr-Latn-TR",srb:"srb-Sora-IN",srn:"srn-Latn-SR",srr:"srr-Latn-SN",srx:"srx-Deva-IN",ss:"ss-Latn-ZA",ssd:"ssd-Latn-ZZ",ssg:"ssg-Latn-ZZ",ssy:"ssy-Latn-ER",st:"st-Latn-ZA",stk:"stk-Latn-ZZ",stq:"stq-Latn-DE",su:"su-Latn-ID",sua:"sua-Latn-ZZ",sue:"sue-Latn-ZZ",suk:"suk-Latn-TZ",sur:"sur-Latn-ZZ",sus:"sus-Latn-GN",sv:"sv-Latn-SE",sw:"sw-Latn-TZ",swb:"swb-Arab-YT",swc:"swc-Latn-CD",swg:"swg-Latn-DE",swp:"swp-Latn-ZZ",swv:"swv-Deva-IN",sxn:"sxn-Latn-ID",sxw:"sxw-Latn-ZZ",syl:"syl-Beng-BD",syr:"syr-Syrc-IQ",szl:"szl-Latn-PL",ta:"ta-Taml-IN",taj:"taj-Deva-NP",tal:"tal-Latn-ZZ",tan:"tan-Latn-ZZ",taq:"taq-Latn-ZZ",tbc:"tbc-Latn-ZZ",tbd:"tbd-Latn-ZZ",tbf:"tbf-Latn-ZZ",tbg:"tbg-Latn-ZZ",tbo:"tbo-Latn-ZZ",tbw:"tbw-Latn-PH",tbz:"tbz-Latn-ZZ",tci:"tci-Latn-ZZ",tcy:"tcy-Knda-IN",tdd:"tdd-Tale-CN",tdg:"tdg-Deva-NP",tdh:"tdh-Deva-NP",tdu:"tdu-Latn-MY",te:"te-Telu-IN",ted:"ted-Latn-ZZ",tem:"tem-Latn-SL",teo:"teo-Latn-UG",tet:"tet-Latn-TL",tfi:"tfi-Latn-ZZ",tg:"tg-Cyrl-TJ","tg-Arab":"tg-Arab-PK","tg-PK":"tg-Arab-PK",tgc:"tgc-Latn-ZZ",tgo:"tgo-Latn-ZZ",tgu:"tgu-Latn-ZZ",th:"th-Thai-TH",thl:"thl-Deva-NP",thq:"thq-Deva-NP",thr:"thr-Deva-NP",ti:"ti-Ethi-ET",tif:"tif-Latn-ZZ",tig:"tig-Ethi-ER",tik:"tik-Latn-ZZ",tim:"tim-Latn-ZZ",tio:"tio-Latn-ZZ",tiv:"tiv-Latn-NG",tk:"tk-Latn-TM",tkl:"tkl-Latn-TK",tkr:"tkr-Latn-AZ",tkt:"tkt-Deva-NP",tl:"tl-Latn-PH",tlf:"tlf-Latn-ZZ",tlx:"tlx-Latn-ZZ",tly:"tly-Latn-AZ",tmh:"tmh-Latn-NE",tmy:"tmy-Latn-ZZ",tn:"tn-Latn-ZA",tnh:"tnh-Latn-ZZ",to:"to-Latn-TO",tof:"tof-Latn-ZZ",tog:"tog-Latn-MW",toq:"toq-Latn-ZZ",tpi:"tpi-Latn-PG",tpm:"tpm-Latn-ZZ",tpz:"tpz-Latn-ZZ",tqo:"tqo-Latn-ZZ",tr:"tr-Latn-TR",tru:"tru-Latn-TR",trv:"trv-Latn-TW",trw:"trw-Arab-ZZ",ts:"ts-Latn-ZA",tsd:"tsd-Grek-GR",tsf:"tsf-Deva-NP",tsg:"tsg-Latn-PH",tsj:"tsj-Tibt-BT",tsw:"tsw-Latn-ZZ",tt:"tt-Cyrl-RU",ttd:"ttd-Latn-ZZ",tte:"tte-Latn-ZZ",ttj:"ttj-Latn-UG",ttr:"ttr-Latn-ZZ",tts:"tts-Thai-TH",ttt:"ttt-Latn-AZ",tuh:"tuh-Latn-ZZ",tul:"tul-Latn-ZZ",tum:"tum-Latn-MW",tuq:"tuq-Latn-ZZ",tvd:"tvd-Latn-ZZ",tvl:"tvl-Latn-TV",tvu:"tvu-Latn-ZZ",twh:"twh-Latn-ZZ",twq:"twq-Latn-NE",txg:"txg-Tang-CN",ty:"ty-Latn-PF",tya:"tya-Latn-ZZ",tyv:"tyv-Cyrl-RU",tzm:"tzm-Latn-MA",ubu:"ubu-Latn-ZZ",udm:"udm-Cyrl-RU",ug:"ug-Arab-CN","ug-Cyrl":"ug-Cyrl-KZ","ug-KZ":"ug-Cyrl-KZ","ug-MN":"ug-Cyrl-MN",uga:"uga-Ugar-SY",uk:"uk-Cyrl-UA",uli:"uli-Latn-FM",umb:"umb-Latn-AO",und:"en-Latn-US","und-002":"en-Latn-NG","und-003":"en-Latn-US","und-005":"pt-Latn-BR","und-009":"en-Latn-AU","und-011":"en-Latn-NG","und-013":"es-Latn-MX","und-014":"sw-Latn-TZ","und-015":"ar-Arab-EG","und-017":"sw-Latn-CD","und-018":"en-Latn-ZA","und-019":"en-Latn-US","und-021":"en-Latn-US","und-029":"es-Latn-CU","und-030":"zh-Hans-CN","und-034":"hi-Deva-IN","und-035":"id-Latn-ID","und-039":"it-Latn-IT","und-053":"en-Latn-AU","und-054":"en-Latn-PG","und-057":"en-Latn-GU","und-061":"sm-Latn-WS","und-142":"zh-Hans-CN","und-143":"uz-Latn-UZ","und-145":"ar-Arab-SA","und-150":"ru-Cyrl-RU","und-151":"ru-Cyrl-RU","und-154":"en-Latn-GB","und-155":"de-Latn-DE","und-202":"en-Latn-NG","und-419":"es-Latn-419","und-AD":"ca-Latn-AD","und-Adlm":"ff-Adlm-GN","und-AE":"ar-Arab-AE","und-AF":"fa-Arab-AF","und-Aghb":"lez-Aghb-RU","und-Ahom":"aho-Ahom-IN","und-AL":"sq-Latn-AL","und-AM":"hy-Armn-AM","und-AO":"pt-Latn-AO","und-AQ":"und-Latn-AQ","und-AR":"es-Latn-AR","und-Arab":"ar-Arab-EG","und-Arab-CC":"ms-Arab-CC","und-Arab-CN":"ug-Arab-CN","und-Arab-GB":"ks-Arab-GB","und-Arab-ID":"ms-Arab-ID","und-Arab-IN":"ur-Arab-IN","und-Arab-KH":"cja-Arab-KH","und-Arab-MM":"rhg-Arab-MM","und-Arab-MN":"kk-Arab-MN","und-Arab-MU":"ur-Arab-MU","und-Arab-NG":"ha-Arab-NG","und-Arab-PK":"ur-Arab-PK","und-Arab-TG":"apd-Arab-TG","und-Arab-TH":"mfa-Arab-TH","und-Arab-TJ":"fa-Arab-TJ","und-Arab-TR":"az-Arab-TR","und-Arab-YT":"swb-Arab-YT","und-Armi":"arc-Armi-IR","und-Armn":"hy-Armn-AM","und-AS":"sm-Latn-AS","und-AT":"de-Latn-AT","und-Avst":"ae-Avst-IR","und-AW":"nl-Latn-AW","und-AX":"sv-Latn-AX","und-AZ":"az-Latn-AZ","und-BA":"bs-Latn-BA","und-Bali":"ban-Bali-ID","und-Bamu":"bax-Bamu-CM","und-Bass":"bsq-Bass-LR","und-Batk":"bbc-Batk-ID","und-BD":"bn-Beng-BD","und-BE":"nl-Latn-BE","und-Beng":"bn-Beng-BD","und-BF":"fr-Latn-BF","und-BG":"bg-Cyrl-BG","und-BH":"ar-Arab-BH","und-Bhks":"sa-Bhks-IN","und-BI":"rn-Latn-BI","und-BJ":"fr-Latn-BJ","und-BL":"fr-Latn-BL","und-BN":"ms-Latn-BN","und-BO":"es-Latn-BO","und-Bopo":"zh-Bopo-TW","und-BQ":"pap-Latn-BQ","und-BR":"pt-Latn-BR","und-Brah":"pka-Brah-IN","und-Brai":"fr-Brai-FR","und-BT":"dz-Tibt-BT","und-Bugi":"bug-Bugi-ID","und-Buhd":"bku-Buhd-PH","und-BV":"und-Latn-BV","und-BY":"be-Cyrl-BY","und-Cakm":"ccp-Cakm-BD","und-Cans":"cr-Cans-CA","und-Cari":"xcr-Cari-TR","und-CD":"sw-Latn-CD","und-CF":"fr-Latn-CF","und-CG":"fr-Latn-CG","und-CH":"de-Latn-CH","und-Cham":"cjm-Cham-VN","und-Cher":"chr-Cher-US","und-CI":"fr-Latn-CI","und-CL":"es-Latn-CL","und-CM":"fr-Latn-CM","und-CN":"zh-Hans-CN","und-CO":"es-Latn-CO","und-Copt":"cop-Copt-EG","und-CP":"und-Latn-CP","und-Cprt":"grc-Cprt-CY","und-CR":"es-Latn-CR","und-CU":"es-Latn-CU","und-CV":"pt-Latn-CV","und-CW":"pap-Latn-CW","und-CY":"el-Grek-CY","und-Cyrl":"ru-Cyrl-RU","und-Cyrl-AL":"mk-Cyrl-AL","und-Cyrl-BA":"sr-Cyrl-BA","und-Cyrl-GE":"ab-Cyrl-GE","und-Cyrl-GR":"mk-Cyrl-GR","und-Cyrl-MD":"uk-Cyrl-MD","und-Cyrl-RO":"bg-Cyrl-RO","und-Cyrl-SK":"uk-Cyrl-SK","und-Cyrl-TR":"kbd-Cyrl-TR","und-Cyrl-XK":"sr-Cyrl-XK","und-CZ":"cs-Latn-CZ","und-DE":"de-Latn-DE","und-Deva":"hi-Deva-IN","und-Deva-BT":"ne-Deva-BT","und-Deva-FJ":"hif-Deva-FJ","und-Deva-MU":"bho-Deva-MU","und-Deva-PK":"btv-Deva-PK","und-DJ":"aa-Latn-DJ","und-DK":"da-Latn-DK","und-DO":"es-Latn-DO","und-Dogr":"doi-Dogr-IN","und-Dupl":"fr-Dupl-FR","und-DZ":"ar-Arab-DZ","und-EA":"es-Latn-EA","und-EC":"es-Latn-EC","und-EE":"et-Latn-EE","und-EG":"ar-Arab-EG","und-Egyp":"egy-Egyp-EG","und-EH":"ar-Arab-EH","und-Elba":"sq-Elba-AL","und-Elym":"arc-Elym-IR","und-ER":"ti-Ethi-ER","und-ES":"es-Latn-ES","und-ET":"am-Ethi-ET","und-Ethi":"am-Ethi-ET","und-EU":"en-Latn-GB","und-EZ":"de-Latn-EZ","und-FI":"fi-Latn-FI","und-FO":"fo-Latn-FO","und-FR":"fr-Latn-FR","und-GA":"fr-Latn-GA","und-GE":"ka-Geor-GE","und-Geor":"ka-Geor-GE","und-GF":"fr-Latn-GF","und-GH":"ak-Latn-GH","und-GL":"kl-Latn-GL","und-Glag":"cu-Glag-BG","und-GN":"fr-Latn-GN","und-Gong":"wsg-Gong-IN","und-Gonm":"esg-Gonm-IN","und-Goth":"got-Goth-UA","und-GP":"fr-Latn-GP","und-GQ":"es-Latn-GQ","und-GR":"el-Grek-GR","und-Gran":"sa-Gran-IN","und-Grek":"el-Grek-GR","und-Grek-TR":"bgx-Grek-TR","und-GS":"und-Latn-GS","und-GT":"es-Latn-GT","und-Gujr":"gu-Gujr-IN","und-Guru":"pa-Guru-IN","und-GW":"pt-Latn-GW","und-Hanb":"zh-Hanb-TW","und-Hang":"ko-Hang-KR","und-Hani":"zh-Hani-CN","und-Hano":"hnn-Hano-PH","und-Hans":"zh-Hans-CN","und-Hant":"zh-Hant-TW","und-Hatr":"mis-Hatr-IQ","und-Hebr":"he-Hebr-IL","und-Hebr-CA":"yi-Hebr-CA","und-Hebr-GB":"yi-Hebr-GB","und-Hebr-SE":"yi-Hebr-SE","und-Hebr-UA":"yi-Hebr-UA","und-Hebr-US":"yi-Hebr-US","und-Hira":"ja-Hira-JP","und-HK":"zh-Hant-HK","und-Hluw":"hlu-Hluw-TR","und-HM":"und-Latn-HM","und-Hmng":"hnj-Hmng-LA","und-Hmnp":"mww-Hmnp-US","und-HN":"es-Latn-HN","und-HR":"hr-Latn-HR","und-HT":"ht-Latn-HT","und-HU":"hu-Latn-HU","und-Hung":"hu-Hung-HU","und-IC":"es-Latn-IC","und-ID":"id-Latn-ID","und-IL":"he-Hebr-IL","und-IN":"hi-Deva-IN","und-IQ":"ar-Arab-IQ","und-IR":"fa-Arab-IR","und-IS":"is-Latn-IS","und-IT":"it-Latn-IT","und-Ital":"ett-Ital-IT","und-Jamo":"ko-Jamo-KR","und-Java":"jv-Java-ID","und-JO":"ar-Arab-JO","und-JP":"ja-Jpan-JP","und-Jpan":"ja-Jpan-JP","und-Kali":"eky-Kali-MM","und-Kana":"ja-Kana-JP","und-KE":"sw-Latn-KE","und-KG":"ky-Cyrl-KG","und-KH":"km-Khmr-KH","und-Khar":"pra-Khar-PK","und-Khmr":"km-Khmr-KH","und-Khoj":"sd-Khoj-IN","und-KM":"ar-Arab-KM","und-Knda":"kn-Knda-IN","und-Kore":"ko-Kore-KR","und-KP":"ko-Kore-KP","und-KR":"ko-Kore-KR","und-Kthi":"bho-Kthi-IN","und-KW":"ar-Arab-KW","und-KZ":"ru-Cyrl-KZ","und-LA":"lo-Laoo-LA","und-Lana":"nod-Lana-TH","und-Laoo":"lo-Laoo-LA","und-Latn-AF":"tk-Latn-AF","und-Latn-AM":"ku-Latn-AM","und-Latn-CN":"za-Latn-CN","und-Latn-CY":"tr-Latn-CY","und-Latn-DZ":"fr-Latn-DZ","und-Latn-ET":"en-Latn-ET","und-Latn-GE":"ku-Latn-GE","und-Latn-IR":"tk-Latn-IR","und-Latn-KM":"fr-Latn-KM","und-Latn-MA":"fr-Latn-MA","und-Latn-MK":"sq-Latn-MK","und-Latn-MM":"kac-Latn-MM","und-Latn-MO":"pt-Latn-MO","und-Latn-MR":"fr-Latn-MR","und-Latn-RU":"krl-Latn-RU","und-Latn-SY":"fr-Latn-SY","und-Latn-TN":"fr-Latn-TN","und-Latn-TW":"trv-Latn-TW","und-Latn-UA":"pl-Latn-UA","und-LB":"ar-Arab-LB","und-Lepc":"lep-Lepc-IN","und-LI":"de-Latn-LI","und-Limb":"lif-Limb-IN","und-Lina":"lab-Lina-GR","und-Linb":"grc-Linb-GR","und-Lisu":"lis-Lisu-CN","und-LK":"si-Sinh-LK","und-LS":"st-Latn-LS","und-LT":"lt-Latn-LT","und-LU":"fr-Latn-LU","und-LV":"lv-Latn-LV","und-LY":"ar-Arab-LY","und-Lyci":"xlc-Lyci-TR","und-Lydi":"xld-Lydi-TR","und-MA":"ar-Arab-MA","und-Mahj":"hi-Mahj-IN","und-Maka":"mak-Maka-ID","und-Mand":"myz-Mand-IR","und-Mani":"xmn-Mani-CN","und-Marc":"bo-Marc-CN","und-MC":"fr-Latn-MC","und-MD":"ro-Latn-MD","und-ME":"sr-Latn-ME","und-Medf":"mis-Medf-NG","und-Mend":"men-Mend-SL","und-Merc":"xmr-Merc-SD","und-Mero":"xmr-Mero-SD","und-MF":"fr-Latn-MF","und-MG":"mg-Latn-MG","und-MK":"mk-Cyrl-MK","und-ML":"bm-Latn-ML","und-Mlym":"ml-Mlym-IN","und-MM":"my-Mymr-MM","und-MN":"mn-Cyrl-MN","und-MO":"zh-Hant-MO","und-Modi":"mr-Modi-IN","und-Mong":"mn-Mong-CN","und-MQ":"fr-Latn-MQ","und-MR":"ar-Arab-MR","und-Mroo":"mro-Mroo-BD","und-MT":"mt-Latn-MT","und-Mtei":"mni-Mtei-IN","und-MU":"mfe-Latn-MU","und-Mult":"skr-Mult-PK","und-MV":"dv-Thaa-MV","und-MX":"es-Latn-MX","und-MY":"ms-Latn-MY","und-Mymr":"my-Mymr-MM","und-Mymr-IN":"kht-Mymr-IN","und-Mymr-TH":"mnw-Mymr-TH","und-MZ":"pt-Latn-MZ","und-NA":"af-Latn-NA","und-Nand":"sa-Nand-IN","und-Narb":"xna-Narb-SA","und-Nbat":"arc-Nbat-JO","und-NC":"fr-Latn-NC","und-NE":"ha-Latn-NE","und-Newa":"new-Newa-NP","und-NI":"es-Latn-NI","und-Nkoo":"man-Nkoo-GN","und-NL":"nl-Latn-NL","und-NO":"nb-Latn-NO","und-NP":"ne-Deva-NP","und-Nshu":"zhx-Nshu-CN","und-Ogam":"sga-Ogam-IE","und-Olck":"sat-Olck-IN","und-OM":"ar-Arab-OM","und-Orkh":"otk-Orkh-MN","und-Orya":"or-Orya-IN","und-Osge":"osa-Osge-US","und-Osma":"so-Osma-SO","und-PA":"es-Latn-PA","und-Palm":"arc-Palm-SY","und-Pauc":"ctd-Pauc-MM","und-PE":"es-Latn-PE","und-Perm":"kv-Perm-RU","und-PF":"fr-Latn-PF","und-PG":"tpi-Latn-PG","und-PH":"fil-Latn-PH","und-Phag":"lzh-Phag-CN","und-Phli":"pal-Phli-IR","und-Phlp":"pal-Phlp-CN","und-Phnx":"phn-Phnx-LB","und-PK":"ur-Arab-PK","und-PL":"pl-Latn-PL","und-Plrd":"hmd-Plrd-CN","und-PM":"fr-Latn-PM","und-PR":"es-Latn-PR","und-Prti":"xpr-Prti-IR","und-PS":"ar-Arab-PS","und-PT":"pt-Latn-PT","und-PW":"pau-Latn-PW","und-PY":"gn-Latn-PY","und-QA":"ar-Arab-QA","und-QO":"en-Latn-DG","und-RE":"fr-Latn-RE","und-Rjng":"rej-Rjng-ID","und-RO":"ro-Latn-RO","und-Rohg":"rhg-Rohg-MM","und-RS":"sr-Cyrl-RS","und-RU":"ru-Cyrl-RU","und-Runr":"non-Runr-SE","und-RW":"rw-Latn-RW","und-SA":"ar-Arab-SA","und-Samr":"smp-Samr-IL","und-Sarb":"xsa-Sarb-YE","und-Saur":"saz-Saur-IN","und-SC":"fr-Latn-SC","und-SD":"ar-Arab-SD","und-SE":"sv-Latn-SE","und-Sgnw":"ase-Sgnw-US","und-Shaw":"en-Shaw-GB","und-Shrd":"sa-Shrd-IN","und-SI":"sl-Latn-SI","und-Sidd":"sa-Sidd-IN","und-Sind":"sd-Sind-IN","und-Sinh":"si-Sinh-LK","und-SJ":"nb-Latn-SJ","und-SK":"sk-Latn-SK","und-SM":"it-Latn-SM","und-SN":"fr-Latn-SN","und-SO":"so-Latn-SO","und-Sogd":"sog-Sogd-UZ","und-Sogo":"sog-Sogo-UZ","und-Sora":"srb-Sora-IN","und-Soyo":"cmg-Soyo-MN","und-SR":"nl-Latn-SR","und-ST":"pt-Latn-ST","und-Sund":"su-Sund-ID","und-SV":"es-Latn-SV","und-SY":"ar-Arab-SY","und-Sylo":"syl-Sylo-BD","und-Syrc":"syr-Syrc-IQ","und-Tagb":"tbw-Tagb-PH","und-Takr":"doi-Takr-IN","und-Tale":"tdd-Tale-CN","und-Talu":"khb-Talu-CN","und-Taml":"ta-Taml-IN","und-Tang":"txg-Tang-CN","und-Tavt":"blt-Tavt-VN","und-TD":"fr-Latn-TD","und-Telu":"te-Telu-IN","und-TF":"fr-Latn-TF","und-Tfng":"zgh-Tfng-MA","und-TG":"fr-Latn-TG","und-Tglg":"fil-Tglg-PH","und-TH":"th-Thai-TH","und-Thaa":"dv-Thaa-MV","und-Thai":"th-Thai-TH","und-Thai-CN":"lcp-Thai-CN","und-Thai-KH":"kdt-Thai-KH","und-Thai-LA":"kdt-Thai-LA","und-Tibt":"bo-Tibt-CN","und-Tirh":"mai-Tirh-IN","und-TJ":"tg-Cyrl-TJ","und-TK":"tkl-Latn-TK","und-TL":"pt-Latn-TL","und-TM":"tk-Latn-TM","und-TN":"ar-Arab-TN","und-TO":"to-Latn-TO","und-TR":"tr-Latn-TR","und-TV":"tvl-Latn-TV","und-TW":"zh-Hant-TW","und-TZ":"sw-Latn-TZ","und-UA":"uk-Cyrl-UA","und-UG":"sw-Latn-UG","und-Ugar":"uga-Ugar-SY","und-UY":"es-Latn-UY","und-UZ":"uz-Latn-UZ","und-VA":"it-Latn-VA","und-Vaii":"vai-Vaii-LR","und-VE":"es-Latn-VE","und-VN":"vi-Latn-VN","und-VU":"bi-Latn-VU","und-Wara":"hoc-Wara-IN","und-Wcho":"nnp-Wcho-IN","und-WF":"fr-Latn-WF","und-WS":"sm-Latn-WS","und-XK":"sq-Latn-XK","und-Xpeo":"peo-Xpeo-IR","und-Xsux":"akk-Xsux-IQ","und-YE":"ar-Arab-YE","und-Yiii":"ii-Yiii-CN","und-YT":"fr-Latn-YT","und-Zanb":"cmg-Zanb-MN","und-ZW":"sn-Latn-ZW",unr:"unr-Beng-IN","unr-Deva":"unr-Deva-NP","unr-NP":"unr-Deva-NP",unx:"unx-Beng-IN",uok:"uok-Latn-ZZ",ur:"ur-Arab-PK",uri:"uri-Latn-ZZ",urt:"urt-Latn-ZZ",urw:"urw-Latn-ZZ",usa:"usa-Latn-ZZ",utr:"utr-Latn-ZZ",uvh:"uvh-Latn-ZZ",uvl:"uvl-Latn-ZZ",uz:"uz-Latn-UZ","uz-AF":"uz-Arab-AF","uz-Arab":"uz-Arab-AF","uz-CN":"uz-Cyrl-CN",vag:"vag-Latn-ZZ",vai:"vai-Vaii-LR",van:"van-Latn-ZZ",ve:"ve-Latn-ZA",vec:"vec-Latn-IT",vep:"vep-Latn-RU",vi:"vi-Latn-VN",vic:"vic-Latn-SX",viv:"viv-Latn-ZZ",vls:"vls-Latn-BE",vmf:"vmf-Latn-DE",vmw:"vmw-Latn-MZ",vo:"vo-Latn-001",vot:"vot-Latn-RU",vro:"vro-Latn-EE",vun:"vun-Latn-TZ",vut:"vut-Latn-ZZ",wa:"wa-Latn-BE",wae:"wae-Latn-CH",waj:"waj-Latn-ZZ",wal:"wal-Ethi-ET",wan:"wan-Latn-ZZ",war:"war-Latn-PH",wbp:"wbp-Latn-AU",wbq:"wbq-Telu-IN",wbr:"wbr-Deva-IN",wci:"wci-Latn-ZZ",wer:"wer-Latn-ZZ",wgi:"wgi-Latn-ZZ",whg:"whg-Latn-ZZ",wib:"wib-Latn-ZZ",wiu:"wiu-Latn-ZZ",wiv:"wiv-Latn-ZZ",wja:"wja-Latn-ZZ",wji:"wji-Latn-ZZ",wls:"wls-Latn-WF",wmo:"wmo-Latn-ZZ",wnc:"wnc-Latn-ZZ",wni:"wni-Arab-KM",wnu:"wnu-Latn-ZZ",wo:"wo-Latn-SN",wob:"wob-Latn-ZZ",wos:"wos-Latn-ZZ",wrs:"wrs-Latn-ZZ",wsg:"wsg-Gong-IN",wsk:"wsk-Latn-ZZ",wtm:"wtm-Deva-IN",wuu:"wuu-Hans-CN",wuv:"wuv-Latn-ZZ",wwa:"wwa-Latn-ZZ",xav:"xav-Latn-BR",xbi:"xbi-Latn-ZZ",xcr:"xcr-Cari-TR",xes:"xes-Latn-ZZ",xh:"xh-Latn-ZA",xla:"xla-Latn-ZZ",xlc:"xlc-Lyci-TR",xld:"xld-Lydi-TR",xmf:"xmf-Geor-GE",xmn:"xmn-Mani-CN",xmr:"xmr-Merc-SD",
xna:"xna-Narb-SA",xnr:"xnr-Deva-IN",xog:"xog-Latn-UG",xon:"xon-Latn-ZZ",xpr:"xpr-Prti-IR",xrb:"xrb-Latn-ZZ",xsa:"xsa-Sarb-YE",xsi:"xsi-Latn-ZZ",xsm:"xsm-Latn-ZZ",xsr:"xsr-Deva-NP",xwe:"xwe-Latn-ZZ",yam:"yam-Latn-ZZ",yao:"yao-Latn-MZ",yap:"yap-Latn-FM",yas:"yas-Latn-ZZ",yat:"yat-Latn-ZZ",yav:"yav-Latn-CM",yay:"yay-Latn-ZZ",yaz:"yaz-Latn-ZZ",yba:"yba-Latn-ZZ",ybb:"ybb-Latn-CM",yby:"yby-Latn-ZZ",yer:"yer-Latn-ZZ",ygr:"ygr-Latn-ZZ",ygw:"ygw-Latn-ZZ",yi:"yi-Hebr-001",yko:"yko-Latn-ZZ",yle:"yle-Latn-ZZ",ylg:"ylg-Latn-ZZ",yll:"yll-Latn-ZZ",yml:"yml-Latn-ZZ",yo:"yo-Latn-NG",yon:"yon-Latn-ZZ",yrb:"yrb-Latn-ZZ",yre:"yre-Latn-ZZ",yrl:"yrl-Latn-BR",yss:"yss-Latn-ZZ",yua:"yua-Latn-MX",yue:"yue-Hant-HK","yue-CN":"yue-Hans-CN","yue-Hans":"yue-Hans-CN",yuj:"yuj-Latn-ZZ",yut:"yut-Latn-ZZ",yuw:"yuw-Latn-ZZ",za:"za-Latn-CN",zag:"zag-Latn-SD",zdj:"zdj-Arab-KM",zea:"zea-Latn-NL",zgh:"zgh-Tfng-MA",zh:"zh-Hans-CN","zh-AU":"zh-Hant-AU","zh-BN":"zh-Hant-BN","zh-Bopo":"zh-Bopo-TW","zh-GB":"zh-Hant-GB","zh-GF":"zh-Hant-GF","zh-Hanb":"zh-Hanb-TW","zh-Hant":"zh-Hant-TW","zh-HK":"zh-Hant-HK","zh-ID":"zh-Hant-ID","zh-MO":"zh-Hant-MO","zh-MY":"zh-Hant-MY","zh-PA":"zh-Hant-PA","zh-PF":"zh-Hant-PF","zh-PH":"zh-Hant-PH","zh-SR":"zh-Hant-SR","zh-TH":"zh-Hant-TH","zh-TW":"zh-Hant-TW","zh-US":"zh-Hant-US","zh-VN":"zh-Hant-VN",zhx:"zhx-Nshu-CN",zia:"zia-Latn-ZZ",zlm:"zlm-Latn-TG",zmi:"zmi-Latn-MY",zne:"zne-Latn-ZZ",zu:"zu-Latn-ZA",zza:"zza-Latn-TR"}}}}),define("json!ev-script/i18n/root/messages.json",function(){return{root:{"{0} Embed Options":"{0} Embed Options","{0} preview thumbnail":"{0} preview thumbnail","Add {0}":"Add {0}","Additional Settings":"Additional Settings",Ads:"Ads","All Categories":"All Categories","All Libraries":"All Libraries","All Organizations":"All Organizations","An unexpected error occurred.  Check the server log for more details.":"An unexpected error occurred.  Check the server log for more details.",Ascending:"Ascending",Attachments:"Attachments","Audio Preview Image":"Audio Preview Image","Auto Play":"Auto Play","Auto Play (PC Only)":"Auto Play (PC Only)","Available After":"Available After","Available Until":"Available Until",Cancel:"Cancel",'Captions "On" By Default':'Captions "On" By Default',Categories:"Categories",Category:"Category","Category List":"Category List",CC:"CC","Change {0}":"Change {0}","Choose {0}":"Choose {0}",Choose:"Choose","Choose Layout":"Choose Layout","Click to change {0}":"Click to change {0}","Click to Choose {0}":"Click to Choose {0}","Click to choose {0}":"Click to choose {0}","Click to manage {0} embed options":"Click to manage {0} embed options","Click to navigate to default library":"Click to navigate to default library","Click to preview {0}":"Click to preview {0}","Click to record screen":"Click to record screen","Click to reload search results":"Click to reload search results","Click to remove {0}":"Click to remove {0}","Click to upload new media":"Click to upload new media",Close:"Close",Comments:"Comments",Complete:"Complete","Content Details":"Content Details","Could not find requested resource.  This is likely a problem with the configured Ensemble Video base url.":"Could not find requested resource.  This is likely a problem with the configured Ensemble Video base url.","Created On":"Created On",Credits:"Credits","Date Added":"Date Added","Date Produced":"Date Produced",Descending:"Descending",Description:"Description",Display:"Display","Display Next Up":"Display Next Up",Done:"Done","Download Link":"Download Link",Dropbox:"Dropbox","Dropbox Embed Options":"Dropbox Embed Options",Duration:"Duration","Embed As Thumbnail":"Embed As Thumbnail","Embed Code":"Embed Code",Enabled:"Enabled","Ensemble Logo":"Ensemble Logo","Ensemble Video Login":"Ensemble Video Login","file selected":"file selected","files selected":"files selected","Filter & Sort":"Filter & Sort","Filter By":"Filter By",Go:"Go",Height:"Height","Hide Controls":"Hide Controls",Hide:"Hide","Hide Picker":"Hide Picker",Home:"Home",Horizontal:"Horizontal","Horizontal Playlist":"Horizontal Playlist",iFrame:"iFrame","iFrame Responsive":"iFrame Responsive","Identity Provider":"Identity Provider","Include Javascript Wrapper":"Include Javascript Wrapper","Interactive Transcript":"Interactive Transcript","It appears there is an issue with the Ensemble Video installation.":"It appears there is an issue with the Ensemble Video installation.",Keywords:"Keywords",Layout:"Layout","Layout Options":"Layout Options",Less:"Less","Library:":"Library:",Library:"Library",Links:"Links","Loading...":"Loading...",Logo:"Logo",Logout:"Logout","Logout {0}":"Logout {0}","Looping Video Playlist":"Looping Video Playlist",Media:"Media","Media Embed Options":"Media Embed Options","Media Library":"Media Library","Media thumbnail":"Media thumbnail","Media Workflow":"Media Workflow","Meta Data":"Meta Data",More:"More",None:"None",Notes:"Notes","No results available.":"No results available.","Number of Results":"Number of Results","Organization:":"Organization:",Organization:"Organization",Original:"Original",Password:"Password","Pause upload":"Pause upload","Player above Horizontal Playlist":"Player above Horizontal Playlist","Player above Vertical Playlist":"Player above Vertical Playlist","Player above Video Grid Playlist":"Player above Video Grid Playlist","Player with Vertical Playlist":"Player with Vertical Playlist",Playlist:"Playlist","Playlist Embed Options":"Playlist Embed Options",Preview:"Preview",Public:"Public",Quiz:"Quiz","Quiz Embed Options":"Quiz Embed Options",Record:"Record",Reload:"Reload","Remember Me":"Remember Me","Remove {0}":"Remove {0}","Remove file":"Remove file","Resume upload":"Resume upload","Retry upload":"Retry upload",Save:"Save","Search Media":"Search Media","Search returned {0} results.":"Search returned {0} results.","Search:":"Search:","Search String":"Search String","Select file to upload":"Select file to upload","Select Library":"Select Library","Select Library Type":"Select Library Type","Select Organization":"Select Organization","Shared Library":"Shared Library","Show Captions":"Show Captions",Showcase:"Showcase","Show Title":"Show Title",Size:"Size","Social Sharing":"Social Sharing","Social Sharing & Links":"Social Sharing & Links","Sort By":"Sort By",Statistics:"Statistics",Status:"Status",Submit:"Submit",Title:"Title",Type:"Type","Type:":"Type:","Upload complete":"Upload complete","Upload Media to Ensemble":"Upload Media to Ensemble",Upload:"Upload",Uploading:"Uploading",Username:"Username",Vertical:"Vertical","Vertical Playlist":"Vertical Playlist","Viewers Report":"Viewers Report","Video Grid Playlist":"Video Grid Playlist","Video Showcase with Categories":"Video Showcase with Categories",Width:"Width","You are unauthorized to access this content.":"You are unauthorized to access this content.","You must {0}login{1} in order to use this tool.":"You must {0}login{1} in order to use this tool.","Your changes haven't been saved!":"Your changes haven't been saved!",unknown:"Unknown",uploaded:"Uploaded",uploading:"Uploading",renamed:"Renamed",pending_processing:"Pending Processing",waiting_for_conversion:"Waiting For Conversion",pending_conversion:"Pending Conversion",queued_for_conversion:"Queued For Conversion",starting_conversion:"Starting Conversion",started_conversion:"Started Conversion",converting:"Converting",converted_successfully:"Converted Successfully",stopped_conversion:"Stopped Conversion",extracting_information:"Extracting Information",generating_thumbnails:"Generating Thumbnails",copying:"Copying",moving:"Moving",file_ready:"Ready",ready:"Ready",processing:"Processing",processed:"Processed",complete:"Complete",skipped:"Skipped",failed:"Failed"}}}),define("ev-script/models/video-settings",["backbone"],function(e){"use strict";return e.Model.extend({defaults:{type:"video",width:"848",height:"480",showtitle:!0,autoplay:!1,comments:!0,showcaptions:!1,hidecontrols:!1,socialsharing:!1,notes:!0,captionsearch:!0,attachments:!0,audiopreviewimage:!0,links:!0,metadata:!0,dateproduced:!0,embedcode:!1,download:!1,viewersreport:!0,embedthumbnail:!1,axdxs:!1,search:"",sourceId:"content",isaudio:!1,contenttype:"",embedtype:"responsive",forceembedtype:!1}})}),define("ev-script/models/playlist-settings",["backbone"],function(e){"use strict";return e.Model.extend({defaults:{type:"playlist",width:"1000",height:"590",layout:"showcase",sortby:"DateAdded",desc:!0,search:"",categories:"",resultscount:"",embedcode:!1,statistics:!0,attachments:!0,notes:!0,links:!0,logo:!0,metadata:!0,socialsharing:!1,autoplay:!1,comments:!0,showcaptions:!1,audiopreviewimage:!1,captionsearch:!0,viewersreport:!0,axdxs:!1,nextup:!0,featuredcontentid:"",embedtype:"responsive",forceembedtype:!1,jswrapper:!0}})}),define("ev-script/models/dropbox-settings",["backbone"],function(e){"use strict";return e.Model.extend({defaults:{type:"dropbox",width:"848",height:"720",search:"",embedtype:"responsive",forceembedtype:!1}})}),define("ev-script/models/quiz-settings",["backbone"],function(e){"use strict";return e.Model.extend({defaults:{type:"quiz",width:"848",height:"480",showtitle:!1,showcaptions:!1,attachments:!1,links:!1,metadata:!1,search:"",embedtype:"responsive",forceembedtype:!1}})}),function(e){function t(e){throw new RangeError(A[e])}function n(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function r(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),e=e.replace(F,"."),i+n(e.split("."),t).join(".")}function i(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function o(e){return n(e,function(e){var t="";return e>65535&&(e-=65536,t+=C(e>>>10&1023|55296),e=56320|1023&e),t+=C(e)}).join("")}function s(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function a(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function l(e,t,n){var r=0;for(e=n?P(e/L):e>>1,e+=P(e/t);e>E*w>>1;r+=_)e=P(e/E);return P(r+(E+1)*e/(e+k))}function u(e){var n,r,i,a,u,c,d,h,p,f,m=[],g=e.length,v=0,k=S,L=M;for(r=e.lastIndexOf(x),r<0&&(r=0),i=0;i<r;++i)e.charCodeAt(i)>=128&&t("not-basic"),m.push(e.charCodeAt(i));for(a=r>0?r+1:0;a<g;){for(u=v,c=1,d=_;a>=g&&t("invalid-input"),h=s(e.charCodeAt(a++)),(h>=_||h>P((y-v)/c))&&t("overflow"),v+=h*c,p=d<=L?b:d>=L+w?w:d-L,!(h<p);d+=_)f=_-p,c>P(y/f)&&t("overflow"),c*=f;n=m.length+1,L=l(v-u,n,0==u),P(v/n)>y-k&&t("overflow"),k+=P(v/n),v%=n,m.splice(v++,0,k)}return o(m)}function c(e){var n,r,o,s,u,c,d,h,p,f,m,g,v,k,L,T=[];for(e=i(e),g=e.length,n=S,r=0,u=M,c=0;c<g;++c)(m=e[c])<128&&T.push(C(m));for(o=s=T.length,s&&T.push(x);o<g;){for(d=y,c=0;c<g;++c)(m=e[c])>=n&&m<d&&(d=m);for(v=o+1,d-n>P((y-r)/v)&&t("overflow"),r+=(d-n)*v,n=d,c=0;c<g;++c)if(m=e[c],m<n&&++r>y&&t("overflow"),m==n){for(h=r,p=_;f=p<=u?b:p>=u+w?w:p-u,!(h<f);p+=_)L=h-f,k=_-f,T.push(C(a(f+L%k,0))),h=P(L/k);T.push(C(a(h,0))),u=l(r,v,o==s),r=0,++o}++r,++n}return T.join("")}function d(e){return r(e,function(e){return T.test(e)?u(e.slice(4).toLowerCase()):e})}function h(e){return r(e,function(e){return D.test(e)?"xn--"+c(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,f="object"==typeof module&&module&&!module.nodeType&&module,m="object"==typeof global&&global;m.global!==m&&m.window!==m&&m.self!==m||(e=m);var g,v,y=2147483647,_=36,b=1,w=26,k=38,L=700,M=72,S=128,x="-",T=/^xn--/,D=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=_-b,P=Math.floor,C=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:i,encode:o},decode:u,encode:c,toASCII:h,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",[],function(){return g});else if(p&&f)if(module.exports==p)f.exports=g;else for(v in g)g.hasOwnProperty(v)&&(p[v]=g[v]);else e.punycode=g}(this),define("urijs/punycode",function(){}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define("urijs/IPv6",t):e.IPv6=t(e)}(this,function(e){"use strict";function t(e){var t=e.toLowerCase(),n=t.split(":"),r=n.length,i=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),r=n.length,-1!==n[r-1].indexOf(".")&&(i=7);var o;for(o=0;o<r&&""!==n[o];o++);if(o<i)for(n.splice(o,1,"0000");n.length<i;)n.splice(o,0,"0000");for(var s,a=0;a<i;a++){s=n[a].split("");for(var l=0;l<3&&("0"===s[0]&&s.length>1);l++)s.splice(0,1);n[a]=s.join("")}var u=-1,c=0,d=0,h=-1,p=!1;for(a=0;a<i;a++)p?"0"===n[a]?d+=1:(p=!1,d>c&&(u=h,c=d)):"0"===n[a]&&(p=!0,h=a,d=1);d>c&&(u=h,c=d),c>1&&n.splice(u,c,""),r=n.length;var f="";for(""===n[0]&&(f=":"),a=0;a<r&&(f+=n[a],a!==r-1);a++)f+=":";return""===n[r-1]&&(f+=":"),f}function n(){return e.IPv6===this&&(e.IPv6=r),this}var r=e&&e.IPv6;return{best:t,noConflict:n}}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define("urijs/SecondLevelDomains",t):e.SecondLevelDomains=t(e)}(this,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define("urijs/URI",["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(e,t,n,r){"use strict";function i(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof i))return n?r?new i(e,t):new i(e):new i;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}function o(e){return/^[0-9]+$/.test(e)}function s(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function l(e){return"Array"===a(e)}function u(e,t){var n,r,i={};if("RegExp"===a(t))i=null;else if(l(t))for(n=0,r=t.length;n<r;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;n<r;n++){(i&&void 0!==i[e[n]]||!i&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function c(e,t){var n,r;if(l(t)){for(n=0,r=t.length;n<r;n++)if(!c(e,t[n]))return!1;return!0}var i=a(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function d(e,t){if(!l(e)||!l(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function h(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function p(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}function m(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function g(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="",n.charAt(0)===t&&(n=n.substring(1))),this._parts[e]=n,this.build(!r),this)}}var v=r&&r.URI;i.version="1.19.2";var y=i.prototype,_=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:i.preventInvalidHostname,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.preventInvalidHostname=!1,i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\._-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.hostProtocols=["http","https"],i.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var b,w={encode:"encode",decode:"decode"},k=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(e){return n}}};for(b in w)i[b+"PathSegment"]=k("pathname",w[b]),i[b+"UrnPathSegment"]=k("urnpath",w[b]);var L=function(e,t,n){return function(r){var o;o=n?function(e){return i[t](i[n](e))}:i[t];for(var s=(r+"").split(e),a=0,l=s.length;a<l;a++)s[a]=o(s[a]);return s.join(e)}};i.decodePath=L("/","decodePathSegment"),i.decodeUrnPath=L(":","decodeUrnPathSegment"),i.recodePath=L("/","encodePathSegment","decode"),i.recodeUrnPath=L(":","encodeUrnPathSegment","decode"),i.encodeReserved=k("reserved","encode"),i.parse=function(e,t){var n;return t||(t={preventInvalidHostname:i.preventInvalidHostname}),n=e.indexOf("#"),n>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),n=e.indexOf("?"),n>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e=""),e=e.replace(/\\/g,"/");var n,r,o=e.indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,o)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),a=e.indexOf("/"),l=e.indexOf(":",s+1);-1!==l&&(-1===a||l<a)?(t.hostname=e.substring(0,o)||null,t.port=null):(r=e.substring(0,o).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),t.preventInvalidHostname&&i.ensureValidHostname(t.hostname,t.protocol),t.port&&i.ensureValidPort(t.port),e.substring(o)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n,r=e.indexOf("/"),o=e.lastIndexOf("@",r>-1?r:e.length-1);return o>-1&&(-1===r||o<r)?(n=e.substring(0,o).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,o,s={},a=e.split("&"),l=a.length,u=0;u<l;u++)n=a[u].split("="),r=i.decodeQuery(n.shift(),t),o=n.length?i.decodeQuery(n.join("="),t):null,_.call(s,r)?("string"!=typeof s[r]&&null!==s[r]||(s[r]=[s[r]]),s[r].push(o)):s[r]=o;return s},i.build=function(e){var t="",n=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",n=!0),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&n&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(i.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,n){var r,o,s,a,u="";for(o in e)if(_.call(e,o))if(l(e[o]))for(r={},s=0,a=e[o].length;s<a;s++)void 0!==e[o][s]&&void 0===r[e[o][s]+""]&&(u+="&"+i.buildQueryParameter(o,e[o][s],n),!0!==t&&(r[e[o][s]+""]=!0));else void 0!==e[o]&&(u+="&"+i.buildQueryParameter(o,e[o],n));return u.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)_.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),l(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},i.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)_.call(t,r)&&i.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},i.removeQuery=function(e,t,n){var r,o,s;if(l(t))for(r=0,o=t.length;r<o;r++)e[t[r]]=void 0;else if("RegExp"===a(t))for(s in e)t.test(s)&&(e[s]=void 0);else if("object"==typeof t)for(s in t)_.call(t,s)&&i.removeQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===a(n)?!l(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=u(e[t],n):e[t]!==String(n)||l(n)&&1!==n.length?l(e[t])&&(e[t]=u(e[t],n)):e[t]=void 0:e[t]=void 0}},
i.hasQuery=function(e,t,n,r){switch(a(t)){case"String":break;case"RegExp":for(var o in e)if(_.call(e,o)&&t.test(o)&&(void 0===n||i.hasQuery(e,o,n)))return!0;return!1;case"Object":for(var s in t)if(_.call(t,s)&&!i.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(a(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(l(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":if(!l(e[t]))return!1;return(r?c:d)(e[t],n);case"RegExp":return l(e[t])?!!r&&c(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return l(e[t])?!!r&&c(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var o=new i(arguments[r]);e.push(o);for(var s=o.segment(),a=0;a<s.length;a++)"string"==typeof s[a]&&t.push(s[a]),s[a]&&n++}if(!t.length||!n)return new i("");var l=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,s=n.trim||i.findUri.trim,a=n.parens||i.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;var c=u.index;if(n.ignoreHtml){var d=e.slice(Math.max(c-3,0),c);if(d&&l.test(d))continue}for(var h=c+e.slice(c).search(o),p=e.slice(c,h),f=-1;;){var m=a.exec(p);if(!m)break;var g=m.index+m[0].length;f=Math.max(f,g)}if(p=f>-1?p.slice(0,f)+p.slice(f).replace(s,""):p.replace(s,""),!(p.length<=u[0].length||n.ignore&&n.ignore.test(p))){h=c+p.length;var v=t(p,c,h,e);void 0!==v?(v=String(v),e=e.slice(0,c)+v+e.slice(h),r.lastIndex=c+v.length):r.lastIndex=h}}return r.lastIndex=0,e},i.ensureValidHostname=function(t,n){var r=!!t,o=!!n,s=!1;if(o&&(s=c(i.hostProtocols,n)),s&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(o(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=v),this},y.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},y.clone=function(){return new i(this)},y.valueOf=y.toString=function(){return this.build(!1)._string},y.protocol=m("protocol"),y.username=m("username"),y.password=m("password"),y.hostname=m("hostname"),y.port=m("port"),y.query=g("query","?"),y.fragment=g("fragment","#"),y.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},y.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},y.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},y.path=y.pathname,y.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[i.getDomAttribute(e)]||"",o=!1}if(!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var s=r?e._parts:e;for(n in s)"query"!==n&&_.call(this._parts,n)&&(this._parts[n]=s[n]);s.query&&this.query(s.query,!1)}return this.build(!t),this},y.is=function(e){var t=!1,r=!1,o=!1,s=!1,a=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),t=r||o,s=!t,a=s&&n&&n.has(this._parts.hostname),l=s&&i.idn_expression.test(this._parts.hostname),u=s&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var M=y.protocol,S=y.port,x=y.hostname;y.protocol=function(e,t){if(e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(i.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return M.call(this,e,t)},y.scheme=y.protocol,y.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),i.ensureValidPort(e))),S.call(this,e,t))},y.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==i.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&i.ensureValidHostname(e,this._parts.protocol)}return x.call(this,e,t)},y.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=i(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},y.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";if("/"!==i.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},y.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";if("/"!==i.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},y.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=i.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},y.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},y.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,r),a=new RegExp("^"+s(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},y.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(s(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},y.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(s(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(s(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},y.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(r):r}var o=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,o),l=new RegExp("^"+s(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(l,e),this.build(!t),this},y.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?i.decodePathSegment(r):r}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(s(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e),o?this.normalizePath(t):this.build(!t),this},y.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,o=this.filename(),a=o.lastIndexOf(".");return-1===a?"":(n=o.substring(a+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var l,u=this.suffix();if(u)l=e?new RegExp(s(u)+"$"):new RegExp(s("."+u)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return l&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(l,e)),this.build(!t),this},y.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),s=i.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(l(t)){s=[];for(var a=0,u=t.length;a<u;a++)(t[a].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(h(t[a])))}else(t||"string"==typeof t)&&(t=h(t),""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=h(t):s.splice(e,1);return o&&s.unshift(""),this.path(s.join(r),n)},y.segmentCoded=function(e,t,n){var r,o,s;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(r=this.segment(e,t,n),l(r))for(o=0,s=r.length;o<s;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(l(t))for(o=0,s=t.length;o<s;o++)t[o]=i.encode(t[o]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var T=y.query;return y.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):T.call(this,e,t)},y.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)_.call(e,o)&&(r[o]=e[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},y.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},y.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},y.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},y.setSearch=y.setQuery,y.addSearch=y.addQuery,y.removeSearch=y.removeQuery,y.hasSearch=y.hasQuery,y.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},y.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},y.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},y.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},y.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;t=i.recodePath(t);var n,r,o,s="";for("/"!==t.charAt(0)&&(n=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(s=t.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);;){if(-1===(r=t.search(/\/\.\.(\/|$)/)))break;0!==r?(o=t.substring(0,r).lastIndexOf("/"),-1===o&&(o=r),t=t.substring(0,o)+t.substring(r+3)):t=t.substring(3)}return n&&this.is("relative")&&(t=s+t.substring(1)),this._parts.path=t,this.build(!e),this},y.normalizePathname=y.normalizePath,y.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},y.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},y.normalizeSearch=y.normalizeQuery,y.normalizeHash=y.normalizeFragment,y.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},y.unicode=function(){var e=i.encode,t=i.decode;i.encode=f,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},y.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,s=t._parts.query.split("&"),a=s.length;o<a;o++){var l=(s[o]||"").split("=");r+="&"+i.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(r+="="+i.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},y.absoluteTo=function(e){var t,n,r,o=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(n=0;r=s[n];n++)o._parts[r]=e._parts[r];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=e.directory(),t=t||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},y.relativeTo=function(e){var t,n,r,o,s,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=a._parts,n=e._parts,o=a.path(),s=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==n.hostname||t.port!==n.port)return a.build();if(t.hostname=null,t.port=null,o===s)return t.path="",a.build();if(!(r=i.commonPath(o,s)))return a.build();var l=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(r.length)||"./",a.build()},y.equals=function(e){var t,n,r,o=this.clone(),s=new i(e),a={},u={},c={};if(o.normalize(),s.normalize(),o.toString()===s.toString())return!0;if(t=o.query(),n=s.query(),o.query(""),s.query(""),o.toString()!==s.toString())return!1;if(t.length!==n.length)return!1;a=i.parseQuery(t,this._parts.escapeQuerySpace),u=i.parseQuery(n,this._parts.escapeQuerySpace);for(r in a)if(_.call(a,r)){if(l(a[r])){if(!d(a[r],u[r]))return!1}else if(a[r]!==u[r])return!1;c[r]=!0}for(r in u)if(_.call(u,r)&&!c[r])return!1;return!0},y.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},y.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},y.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("./URI")):"function"==typeof define&&define.amd?define("urijs/URITemplate",["./URI"],t):e.URITemplate=t(e.URI,e)}(this,function(e,t){"use strict";function n(e){return n._cache[e]?n._cache[e]:this instanceof n?(this.expression=e,n._cache[e]=this,this):new n(e)}function r(e){this.data=e,this.cache={}}var i=t&&t.URITemplate,o=Object.prototype.hasOwnProperty,s=n.prototype,a={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};return n._cache={},n.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,n.VARIABLE_PATTERN=/^([^*:.](?:\.?[^*:.])*)((\*)|:(\d+))?$/,n.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_.]/,n.LITERAL_PATTERN=/[<>{}"`^| \\]/,n.expand=function(e,t,r){var i,o,s,l=a[e.operator],u=l.named?"Named":"Unnamed",c=e.variables,d=[];for(s=0;o=c[s];s++){if(i=t.get(o.name),0===i.type&&r&&r.strict)throw new Error('Missing expansion value for variable "'+o.name+'"');if(i.val.length){if(i.type>1&&o.maxlength)throw new Error('Invalid expression: Prefix modifier not applicable to variable "'+o.name+'"');d.push(n["expand"+u](i,l,o.explode,o.explode&&l.separator||",",o.maxlength,o.name))}else i.type&&d.push("")}return d.length?l.prefix+d.join(l.separator):""},n.expandNamed=function(t,n,r,i,o,s){var a,l,u,c="",d=n.encode,h=n.empty_name_separator,p=!t[d].length,f=2===t.type?"":e[d](s);for(l=0,u=t.val.length;l<u;l++)o?(a=e[d](t.val[l][1].substring(0,o)),2===t.type&&(f=e[d](t.val[l][0].substring(0,o)))):p?(a=e[d](t.val[l][1]),2===t.type?(f=e[d](t.val[l][0]),t[d].push([f,a])):t[d].push([void 0,a])):(a=t[d][l][1],2===t.type&&(f=t[d][l][0])),c&&(c+=i),r?c+=f+(h||a?"=":"")+a:(l||(c+=e[d](s)+(h||a?"=":"")),2===t.type&&(c+=f+","),c+=a);return c},n.expandUnnamed=function(t,n,r,i,o){var s,a,l,u,c="",d=n.encode,h=n.empty_name_separator,p=!t[d].length;for(l=0,u=t.val.length;l<u;l++)o?a=e[d](t.val[l][1].substring(0,o)):p?(a=e[d](t.val[l][1]),t[d].push([2===t.type?e[d](t.val[l][0]):void 0,a])):a=t[d][l][1],c&&(c+=i),2===t.type&&(s=o?e[d](t.val[l][0].substring(0,o)):t[d][l][0],c+=s,c+=r?h||a?"=":"":","),c+=a;return c},n.noConflict=function(){return t.URITemplate===n&&(t.URITemplate=i),n},s.expand=function(e,t){var i="";this.parts&&this.parts.length||this.parse(),e instanceof r||(e=new r(e));for(var o=0,s=this.parts.length;o<s;o++)i+="string"==typeof this.parts[o]?this.parts[o]:n.expand(this.parts[o],e,t);return i},s.parse=function(){var e,t,r,i=this.expression,o=n.EXPRESSION_PATTERN,s=n.VARIABLE_PATTERN,l=n.VARIABLE_NAME_PATTERN,u=n.LITERAL_PATTERN,c=[],d=0,h=function(e){if(e.match(u))throw new Error('Invalid Literal "'+e+'"');return e};for(o.lastIndex=0;;){if(null===(t=o.exec(i))){c.push(h(i.substring(d)));break}if(c.push(h(i.substring(d,t.index))),d=t.index+t[0].length,!a[t[1]])throw new Error('Unknown Operator "'+t[1]+'" in "'+t[0]+'"');if(!t[3])throw new Error('Unclosed Expression "'+t[0]+'"');e=t[2].split(",");for(var p=0,f=e.length;p<f;p++){if(null===(r=e[p].match(s)))throw new Error('Invalid Variable "'+e[p]+'" in "'+t[0]+'"');if(r[1].match(l))throw new Error('Invalid Variable Name "'+r[1]+'" in "'+t[0]+'"');e[p]={name:r[1],explode:!!r[3],maxlength:r[4]&&parseInt(r[4],10)}}if(!e.length)throw new Error('Expression Missing Variable(s) "'+t[0]+'"');c.push({expression:t[0],operator:t[1],variables:e})}return c.length||c.push(h(i)),this.parts=c,this},r.prototype.get=function(e){var t,n,r,i=this.data,s={type:0,val:[],encode:[],encodeReserved:[]};if(void 0!==this.cache[e])return this.cache[e];if(this.cache[e]=s,void 0===(r="[object Function]"===String(Object.prototype.toString.call(i))?i(e):"[object Function]"===String(Object.prototype.toString.call(i[e]))?i[e](e):i[e])||null===r)return s;if("[object Array]"===String(Object.prototype.toString.call(r))){for(t=0,n=r.length;t<n;t++)void 0!==r[t]&&null!==r[t]&&s.val.push([void 0,String(r[t])]);s.val.length&&(s.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(r))){for(t in r)o.call(r,t)&&void 0!==r[t]&&null!==r[t]&&s.val.push([t,String(r[t])]);s.val.length&&(s.type=2)}else s.type=1,s.val.push([void 0,String(r)]);return s},e.expand=function(t,r){var i=new n(t),o=i.expand(r);return new e(o)},n}),define("ev-script/util/events",["require","underscore","loglevel","backbone"],function(e){"use strict";var t={},n=e("underscore"),r=e("loglevel"),i=e("backbone");return{getEvents:function(e){if(e=e||"default",!t[e]){var o=n.extend({},i.Events);o.trigger=n.wrap(o.trigger,function(e){return r.debug("[util/events] Event triggered: "+arguments[1]),r.debug(arguments),e.apply(this,Array.prototype.slice.call(arguments,1))}),t[e]=o}return t[e]}}}),define("ev-script/util/cache",["require","jquery","underscore","backbone","ev-script/util/events"],function(e){"use strict";var t=(e("jquery"),e("underscore")),n=(e("backbone"),e("ev-script/util/events")),r=function(){return this.cache={},this.get=function(e){return e?this.cache[e]:null},this.set=function(e,t){return e?this.cache[e]=t:null},this.clear=function(){this.cache={}},this},i=new r,o=function(e,t){var n;return e=e||"app",n=i.get(e),n||t||(n=i.set(e,new r)),n},s=function(e){return o().set("config",e)},a=function(){return o().get("config")},l=function(e){return o().set("info",e)},u=function(){return o().get("info")},c=function(e){return o().set("i18n",e)},d=function(){return o().get("i18n")},h=function(e){return o().set("root",e)},p=function(){return o().get("root")},f=function(e){return o().set("auth",e)},m=function(){return o().get("auth")},g=n.getEvents();return g.on("loggedIn loggedOut",function(){var e=o(),n=p();t.each(i.cache,function(t){t!==e&&t.clear()}),n.clear(),n.fetch({})}),g.on("reload",function(e){var n=[];"videos"===e&&n.push(o("encodings",!0)),n.push(o(e,!0)),t.each(n,function(e){e&&e.clear()})}),{Cache:r,caches:i,setConfig:s,getConfig:a,setInfo:l,getInfo:u,setI18n:c,getI18n:d,setRoot:h,getRoot:p,getAuth:m,setAuth:f,getCache:o}}),define("ev-script/collections/base",["require","jquery","underscore","loglevel","backbone","ev-script/util/cache"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("loglevel"),i=e("backbone"),o=e("ev-script/util/cache");return i.Collection.extend({initialize:function(e,n){this.href=n.href,this.config=o.getConfig(),this.info=o.getInfo(),this.root=o.getRoot(),this.auth=o.getAuth(),this.promise=t.Deferred().resolve().promise()},getCached:function(e){},setCached:function(e,t){},clearCache:function(e){},sync:function(e,r,o){var s=t.Deferred();return this.promise=s.promise(),this.auth.userManager.getUser().then(n.bind(function(s){if(n.defaults(o||(o={}),{headers:{Authorization:"Bearer "+(s?s.access_token:"")},dataType:"json",accepts:{json:"application/hal+json"}}),"read"===e){var a=this.getCached(o.cacheKey);if(a){var l=t.Deferred();o.success&&o.success.call(this,a),l.resolve(a)}else o.success=o.success||function(e,t,n){},o.success=n.wrap(o.success,n.bind(function(e){this.setCached(o.cacheKey,arguments[1]),e.apply(this,Array.prototype.slice.call(arguments,1))},this)),i.Collection.prototype.sync.call(this,e,r,o).done(function(e,t,n){l.resolve(e,t,n)}).fail(function(e,t,n){l.reject(e,t,n)})}else i.Collection.prototype.sync.call(this,e,r,o).done(function(e,t,n){l.resolve(e,t,n)}).fail(function(e,t,n){l.reject(e,t,n)})},this)),this.promise},url:function(){return this.href?this.href:this.links.self.href},trigger:function(e){return r.trace("[collections/base] Event triggered: "+e),r.trace(arguments),i.Collection.prototype.trigger.apply(this,arguments)}})}),define("ev-script/models/base",["require","jquery","underscore","loglevel","urijs/URI","backbone","ev-script/collections/base","ev-script/util/cache"],function(e){"use strict";var t,n=e("jquery"),r=e("underscore"),i=e("loglevel"),o=e("urijs/URI"),s=e("backbone"),a=e("ev-script/collections/base"),l=e("ev-script/util/cache");return t=s.Model.extend({initialize:function(e,t){t=t||{},this.href=t.href,this.config=l.getConfig(),this.auth=l.getAuth(),this.promise=n.Deferred().resolve().promise(),this.cache=this.cacheName?l.getCache(this.cacheName):null},getCached:function(e){return this.cache&&this.cache.get(e)},setCached:function(e,t){return this.cache&&this.cache.set(e,t)},getLink:function(e){var t=this.get("_links");return t?t[e]:null},getEmbedded:function(e){var n=this.get("_embedded");if(!n)return null;var i=n[e];return i?r.isArray(i)?new a(r.map(i,r.bind(function(e){return new t(e,{})},this)),{}):new t(i,{}):null},sync:function(e,t,i){var a=n.Deferred();return this.promise=a.promise(),this.auth.userManager.getUser().then(r.bind(function(n){if(r.defaults(i||(i={}),{headers:{Authorization:"Bearer "+(n?n.access_token:""),"X-EV-InstitutionId":this.config.institutionId},dataType:"json",accepts:{json:"application/hal+json"},cache:!1}),"read"===e){var l=o(this.url()).removeQuery("_"),u=this.getCached(l);u?(i.success&&i.success.call(this,u),a.resolve(u)):(i.success=i.success||function(e,t,n){},i.success=r.wrap(i.success,r.bind(function(e){this.setCached(l,arguments[1]),e.apply(this,Array.prototype.slice.call(arguments,1))},this)),s.Model.prototype.sync.call(this,e,t,i).done(function(e,t,n){a.resolve(e,t,n)}).fail(function(e,t,n){a.reject(e,t,n)}))}else s.Model.prototype.sync.call(this,e,t,i).done(function(e,t,n){a.resolve(e,t,n)}).fail(function(e,t,n){a.reject(e,t,n)})},this)),this.promise},url:function(){return this.href?this.href:this.getLink("self").href},trigger:function(e){return i.trace("[models/base] Event triggered: "+e),i.trace({this:this,arguments:arguments}),s.Model.prototype.trigger.apply(this,arguments)},fetch:function(){return i.debug("[models/base] fetch"),i.debug({this:this,arguments:arguments}),s.Model.prototype.fetch.apply(this,arguments)}})}),define("ev-script/views/base",["require","jquery","underscore","loglevel","backbone","ev-script/util/events","ev-script/util/cache"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("loglevel"),i=e("backbone"),o=e("ev-script/util/events"),s=e("ev-script/util/cache");return i.View.extend({initialize:function(e){n.bindAll(this,"destroy","ajaxError","trigger","isTop"),this.config=s.getConfig(),this.root=s.getRoot(),this.info=s.getInfo(),this.events=o.getEvents(),this.i18n=s.getI18n(),this.auth=s.getAuth(),this.events.on("destroy",this.destroy),this.events.on("localeUpdated",n.bind(function(e){this.i18n=e},this))},destroy:function(e){this.field&&this.field===e&&(this.undelegateEvents(),this.remove())},ajaxError:function(e,t,n){401===t.status?(this.events.trigger("hidePickers"),this.events.trigger("loggedOut")):500===t.status?window.alert(this.i18n.formatMessage("It appears there is an issue with the Ensemble Video installation.")):404===t.status?window.alert(this.i18n.formatMessage("Could not find requested resource.  This is likely a problem with the configured Ensemble Video base url.")):0!==t.status&&window.alert(this.i18n.formatMessage("An unexpected error occurred.  Check the server log for more details."))},unencode:function(e){return t("<span/>").html(e).text()},trigger:function(e){return r.debug("[views/base] Event triggered: "+e),r.debug({this:this,arguments:arguments}),i.View.prototype.trigger.apply(this,arguments)},isTop:function(){return window.self===window.top}})}),define("text!ev-script/templates/field.html",[],function(){
return'<div role="alert" class="ev-field-message alert alert-warning" style="display: none;"></div>\n<% if (modelId) { %>\n    <% if (thumbnailUrl) { %>\n        <div class="ev-field-item thumbnail">\n            <img alt="<%= i18n.formatMessage(\'Media thumbnail\') %>" src="<%= thumbnailUrl %>"/>\n        </div>\n    <% } %>\n    <h2 class="ev-field-item title"><%= name %></h2>\n    <div class="ev-field-item ev-actions">\n        <a href="#" class="action-choose" title="<%= i18n.formatMessage(\'Click to change {0}\', label) %>"><i class="fa fa-folder-open fa-lg"></i><span><%= i18n.formatMessage(\'Change {0}\', label) %><span></a>\n        <a href="#" class="action-preview" title="<%= i18n.formatMessage(\'Click to preview {0}\', name) %>"><i class="fa fa-play-circle fa-lg"></i><span><%= i18n.formatMessage(\'Preview\') %><span></a>\n        <% if (displaySettings) { %>\n            <a href="#" class="action-options" title="<%= i18n.formatMessage(\'Click to manage {0} embed options\', label) %>"><i class="fa fa-cog fa-lg"></i><span><%= i18n.formatMessage(\'{0} Embed Options\', label) %><span></a>\n        <% } %>\n        <a href="#" class="action-remove" title="<%= i18n.formatMessage(\'Click to remove {0}\', label) %>"><i class="fa fa-minus-circle fa-lg"></i><span><%= i18n.formatMessage(\'Remove {0}\', label) %><span></a>\n    </div>\n<% } else { %>\n    <h3 class="ev-field-item title"><em><%= i18n.formatMessage(\'Add {0}\', label) %></em></h3>\n    <div class="ev-field-item ev-actions">\n        <a href="#" class="action-choose" title="<%= i18n.formatMessage(\'Click to Choose {0}\', label) %>"><i class="fa fa-folder-open fa-lg"></i><span><%= i18n.formatMessage(\'Choose {0}\', label) %><span></a>\n    </div>\n<% } %>\n'}),define("ev-script/views/field",["require","jquery","underscore","loglevel","ev-script/views/base","text!ev-script/templates/field.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("loglevel"),i=e("ev-script/views/base");return i.extend({template:n.template(e("text!ev-script/templates/field.html")),initialize:function(e){i.prototype.initialize.call(this,e),n.bindAll(this,"chooseHandler","optionsHandler","removeHandler","previewHandler","getPickerInstance","getSettingsInstance","getPreviewInstance","updateField","getFieldType","getFieldLabel","itemChosenHandler","getActionsHtml","initCallback","loginHandler","handleLogin","toggleLoginMsg","_init"),this.$field=e.$field,this.$el.addClass("ev-field-wrap"),this.showChoose=!0,this.events.on("showPicker",function(e){this.id===e&&(this.$(".action-choose").hide(),this.showChoose=!1,this.config.hidePickers&&this.events.trigger("hidePickers",this.id))},this),this.events.on("hidePicker",function(e){this.id===e&&(this.$(".action-choose").show(),this.showChoose=!0)},this),this.events.on("hidePickers",function(e){e&&this.id===e||(this.$(".action-choose").show(),this.showChoose=!0)},this),this.events.on("itemChosen",this.itemChosenHandler),this.events.on("loggedOut",n.bind(function(){this.root.promise.done(n.bind(function(){this.$(".action-remove").click(),this.toggleLoginMsg()},this))},this)),this.events.on("loggedIn",n.bind(function(){this.toggleLoginMsg(!0),this.handleLogin()},this)),this.events.on("localeReset",n.bind(function(){this.reloadField()},this)),this.handleLogin(!0)},_init:function(){var e={id:this.id+"-picker",tagName:"div",className:"ev-"+this.model.get("type")+"-picker",field:this},t={id:this.id+"-settings",tagName:"div",className:"ev-settings",field:this};if(this.initialized)return this.events.trigger("fieldInitialized",this.id),void r.debug("[views/field] Field already initialized");this.initialized=!0,this.renderActions(),this.picker=this.getPickerInstance(e),this.settings=this.getSettingsInstance(t),this.$actions.after(this.picker.$el),this.events.trigger("fieldInitialized",this.id),r.debug("[views/field] Field initialized"),r.debug(this)},destroy:function(){},reloadField:function(){r.debug("[views/field] Reloading field"),this.$actions.remove(),this.$actions=void 0,this.events.trigger("destroy",this),this.initialized=!1,this.handleLogin()},events:{"click .ev-field .action-choose":"chooseHandler","click .ev-field .action-preview":"previewHandler","click .ev-field .action-options":"optionsHandler","click .ev-field .action-remove":"removeHandler","click .ev-field .login-link":"loginHandler"},chooseHandler:function(e){this.loginHandler(e)},optionsHandler:function(e){this.settings&&this.settings.show(),e.preventDefault()},removeHandler:function(e){this.model.clear(),this.$field.val(""),this.model.set(this.model.defaults,{silent:!0}),this.events.trigger("fieldUpdated",this.$field),this.renderActions(),e.preventDefault()},previewHandler:function(e){var t=e.currentTarget;this.getPreviewInstance({el:t,model:this.model,picker:this.picker});e.preventDefault()},loginHandler:function(e){this.handleLogin(!0),e.preventDefault()},toggleLoginMsg:function(e){e?this.$fieldMsg.hide():this.$fieldMsg.show()},handleLogin:function(e){this.root.promise.done(n.bind(function(){var t=this.root.getUser(),n=t?t.id:"",r=t&&!this.config.currentUserId||this.config.currentUserId!==n;!t||r?(this.renderActions(),this.toggleLoginMsg(),e&&this.auth.doAuthenticate(this.id,r)):(this.initCallback(),this._init())},this))},renderActions:function(){var e=this.config.ensembleUrl,n=this.getFieldLabel(),r=this.getFieldType();this.$actions||(this.$actions=t('<div class="ev-field"/>'),this.$field.after(this.$actions)),this.$actions.html(this.getActionsHtml({i18n:this.i18n,ensembleUrl:e,thumbnailUrl:!1,modelId:this.model.id,displaySettings:this.settings,label:n,type:r,name:this.model.get("content")&&this.model.get("content").name||""})),this.$fieldMsg=this.$(".ev-field-message"),this.$fieldMsg.html(this.i18n.formatMessage("You must {0}login{1} in order to use this tool.",'<a role="link" tabindex="0" class="login-link"><b>',"</b></a>")),this.showChoose||this.$(".action-choose").hide()},updateField:function(){var e=this.model.toJSON();this.$field.val(JSON.stringify(e)),this.events.trigger("fieldUpdated",this.$field,e),this.renderActions()},itemChosenHandler:function(e){e.get("type")===this.model.get("type")&&this.model.set(e.attributes)},getActionsHtml:function(e){return this.template(e)},initCallback:function(){},getPickerInstance:function(e){},getSettingsInstance:function(e){},getPreviewInstance:function(e){},getFieldType:function(){},getFieldLabel:function(){}})}),function(){"use strict";function e(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function t(e,t,n){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(i=i[/[\d.]+$/.exec(e)])&&(e="Windows "+i),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=r(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function n(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=g)for(;++n<r;)t(e[n],n,e);else i(e,t)}function r(t){return t=u(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:e(t)}function i(e,t){for(var n in e)_.call(e,n)&&t(e[n],n,e)}function o(t){return null==t?e(t):b.call(t).slice(8,-1)}function s(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function a(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function l(e,t){var r=null;return n(e,function(n,i){r=t(r,n,i,e)}),r}function u(e){return String(e).replace(/^ +| +$/g,"")}function c(e){function n(t){return l(t,function(t,n){var i=n.pattern||a(n);return!t&&(t=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(i,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=r(t[0].replace(RegExp(i,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function d(t){return l(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function p(){return this.description||""}var f=h,m=e&&"object"==typeof e&&"String"!=o(e);m&&(f=e,e=null);var g=f.navigator||{},y=g.userAgent||"";e||(e=y);var _,w,k=m?!!g.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(b.toString()),L=m?"Object":"ScriptBridgingProxyObject",M=m?"Object":"Environment",S=m&&f.java?"JavaPackage":o(f.java),x=m?"Object":"RuntimeObject",T=/\bJava/.test(S)&&f.java,D=T&&o(f.environment)==M,F=T?"a":"",A=T?"b":"",E=f.document||{},P=f.operamini||f.opera,C=v.test(C=m&&P?P["[[Class]]"]:o(P))?C:P=null,Y=e,j=[],O=null,R=e==y,I=R&&P&&"function"==typeof P.version&&P.version(),U=function(t){return l(t,function(t,n){return t||RegExp("\\b"+(n.pattern||a(n))+"\\b","i").exec(e)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),H=function(t){return l(t,function(t,n){return t||RegExp("\\b"+(n.pattern||a(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),N=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),z=function(t){return l(t,function(t,n,r){return t||(n[N]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(N)]||RegExp("\\b"+a(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),B=function(n){return l(n,function(n,r){var i=r.pattern||a(r);return!n&&(n=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(n=t(n,i,r.label||r)),n})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(U&&(U=[U]),/\bAndroid\b/.test(B)&&!N&&(_=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(e))&&(N=u(_[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),z&&!N?N=n([z]):z&&N&&(N=N.replace(RegExp("^("+a(z)+")[-_.\\s]","i"),z+" ").replace(RegExp("^("+a(z)+")[-_.]?(\\w)","i"),z+" $2")),(_=/\bGoogle TV\b/.exec(N))&&(N=_[0]),/\bSimulator\b/i.test(e)&&(N=(N?N+" ":"")+"Simulator"),"Opera Mini"==H&&/\bOPiOS\b/.test(e)&&j.push("running in Turbo/Uncompressed mode"),"IE"==H&&/\blike iPhone OS\b/.test(e)?(_=c(e.replace(/like iPhone OS/,"")),z=_.manufacturer,N=_.product):/^iP/.test(N)?(H||(H="Safari"),B="iOS"+((_=/ OS ([\d_]+)/i.exec(e))?" "+_[1].replace(/_/g,"."):"")):"Konqueror"==H&&/^Linux\b/i.test(B)?B="Kubuntu":z&&"Google"!=z&&(/Chrome/.test(H)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(N))||/\bAndroid\b/.test(B)&&/^Chrome/.test(H)&&/\bVersion\//i.test(e)?(H="Android Browser",B=/\bAndroid\b/.test(B)?B:"Android"):"Silk"==H?(/\bMobi/i.test(e)||(B="Android",j.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&j.unshift("accelerated")):"UC Browser"==H&&/\bUCWEB\b/.test(e)?j.push("speed mode"):"PaleMoon"==H&&(_=/\bFirefox\/([\d.]+)\b/.exec(e))?j.push("identifying as Firefox "+_[1]):"Firefox"==H&&(_=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(B||(B="Firefox OS"),N||(N=_[1])):!H||(_=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(H))?(H&&!N&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(_+"/")+8))&&(H=null),(_=N||z||B)&&(N||z||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(B))&&(H=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(B)?B:_)+" Browser")):"Electron"==H&&(_=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&j.push("Chromium "+_),I||(I=d(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",a(H),"(?:Firefox|Minefield|NetFront)"])),(_="iCab"==U&&parseFloat(I)>3&&"WebKit"||/\bOpera\b/.test(H)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(U)&&"WebKit"||!U&&/\bMSIE\b/i.test(e)&&("Mac OS"==B?"Tasman":"Trident")||"WebKit"==U&&/\bPlayStation\b(?! Vita\b)/i.test(H)&&"NetFront")&&(U=[_]),"IE"==H&&(_=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(H+=" Mobile",B="Windows Phone "+(/\+$/.test(_)?_:_+".x"),j.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(H="IE Mobile",B="Windows Phone 8.x",j.unshift("desktop mode"),I||(I=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=H&&"Trident"==U&&(_=/\brv:([\d.]+)/.exec(e))&&(H&&j.push("identifying as "+H+(I?" "+I:"")),H="IE",I=_[1]),R){if(s(f,"global"))if(T&&(_=T.lang.System,Y=_.getProperty("os.arch"),B=B||_.getProperty("os.name")+" "+_.getProperty("os.version")),D){try{I=f.require("ringo/engine").version.join("."),H="RingoJS"}catch(e){(_=f.system)&&_.global.system==f.system&&(H="Narwhal",B||(B=_[0].os||null))}H||(H="Rhino")}else"object"==typeof f.process&&!f.process.browser&&(_=f.process)&&("object"==typeof _.versions&&("string"==typeof _.versions.electron?(j.push("Node "+_.versions.node),H="Electron",I=_.versions.electron):"string"==typeof _.versions.nw&&(j.push("Chromium "+I,"Node "+_.versions.node),H="NW.js",I=_.versions.nw)),H||(H="Node.js",Y=_.arch,B=_.platform,I=/[\d.]+/.exec(_.version),I=I?I[0]:null));else o(_=f.runtime)==L?(H="Adobe AIR",B=_.flash.system.Capabilities.os):o(_=f.phantom)==x?(H="PhantomJS",I=(_=_.version||null)&&_.major+"."+_.minor+"."+_.patch):"number"==typeof E.documentMode&&(_=/\bTrident\/(\d+)/i.exec(e))?(I=[I,E.documentMode],(_=+_[1]+4)!=I[1]&&(j.push("IE "+I[1]+" mode"),U&&(U[1]=""),I[1]=_),I="IE"==H?String(I[1].toFixed(1)):I[0]):"number"==typeof E.documentMode&&/^(?:Chrome|Firefox)\b/.test(H)&&(j.push("masking as "+H+" "+I),H="IE",I="11.0",U=["Trident"],B="Windows");B=B&&r(B)}if(I&&(_=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(I)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(R&&g.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(O=/b/i.test(_)?"beta":"alpha",I=I.replace(RegExp(_+"\\+?$"),"")+("beta"==O?A:F)+(/\d+\+?/.exec(_)||"")),"Fennec"==H||"Firefox"==H&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(B))H="Firefox Mobile";else if("Maxthon"==H&&I)I=I.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(N))"Xbox 360"==N&&(B=null),"Xbox 360"==N&&/\bIEMobile\b/.test(e)&&j.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(H)&&(!H||N||/Browser|Mobi/.test(H))||"Windows CE"!=B&&!/Mobi/i.test(e))if("IE"==H&&R)try{null===f.external&&j.unshift("platform preview")}catch(e){j.unshift("embedded")}else(/\bBlackBerry\b/.test(N)||/\bBB10\b/.test(e))&&(_=(RegExp(N.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||I)?(_=[_,/BB10/.test(e)],B=(_[1]?(N=null,z="BlackBerry"):"Device Software")+" "+_[0],I=null):this!=i&&"Wii"!=N&&(R&&P||/Opera/.test(H)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==H&&/\bOS X (?:\d+\.){2,}/.test(B)||"IE"==H&&(B&&!/^Win/.test(B)&&I>5.5||/\bWindows XP\b/.test(B)&&I>8||8==I&&!/\bTrident\b/.test(e)))&&!v.test(_=c.call(i,e.replace(v,"")+";"))&&_.name&&(_="ing as "+_.name+((_=_.version)?" "+_:""),v.test(H)?(/\bIE\b/.test(_)&&"Mac OS"==B&&(B=null),_="identify"+_):(_="mask"+_,H=C?r(C.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(_)&&(B=null),R||(I=null)),U=["Presto"],j.push(_));else H+=" Mobile";(_=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(_=[parseFloat(_.replace(/\.(\d)$/,".0$1")),_],"Safari"==H&&"+"==_[1].slice(-1)?(H="WebKit Nightly",O="alpha",I=_[1].slice(0,-1)):I!=_[1]&&I!=(_[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(I=null),_[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(e)||0)[1],537.36==_[0]&&537.36==_[2]&&parseFloat(_[1])>=28&&"WebKit"==U&&(U=["Blink"]),R&&(k||_[1])?(U&&(U[1]="like Chrome"),_=_[1]||(_=_[0],_<530?1:_<532?2:_<532.05?3:_<533?4:_<534.03?5:_<534.07?6:_<534.1?7:_<534.13?8:_<534.16?9:_<534.24?10:_<534.3?11:_<535.01?12:_<535.02?"13+":_<535.07?15:_<535.11?16:_<535.19?17:_<536.05?18:_<536.1?19:_<537.01?20:_<537.11?"21+":_<537.13?23:_<537.18?24:_<537.24?25:_<537.36?26:"Blink"!=U?"27":"28")):(U&&(U[1]="like Safari"),_=_[0],_=_<400?1:_<500?2:_<526?3:_<533?4:_<534?"4+":_<535?5:_<537?6:_<538?7:_<601?8:_<602?9:_<604?10:_<606?11:_<608?12:"12"),U&&(U[1]+=" "+(_+="number"==typeof _?".x":/[.+]/.test(_)?"":"+")),"Safari"==H&&(!I||parseInt(I)>45)?I=_:"Chrome"==H&&/\bHeadlessChrome/i.test(e)&&j.unshift("headless")),"Opera"==H&&(_=/\bzbov|zvav$/.exec(B))?(H+=" ",j.unshift("desktop mode"),"zvav"==_?(H+="Mini",I=null):H+="Mobile",B=B.replace(RegExp(" *"+_+"$"),"")):"Safari"==H&&/\bChrome\b/.exec(U&&U[1])?(j.unshift("desktop mode"),H="Chrome Mobile",I=null,/\bOS X\b/.test(B)?(z="Apple",B="iOS 4.3+"):B=null):/\bSRWare Iron\b/.test(H)&&!I&&(I=d("Chrome")),I&&0==I.indexOf(_=/[\d.]+$/.exec(B))&&e.indexOf("/"+_+"-")>-1&&(B=u(B.replace(_,""))),B&&-1!=B.indexOf(H)&&!RegExp(H+" OS").test(B)&&(B=B.replace(RegExp(" *"+a(H)+" *"),"")),U&&!/\b(?:Avant|Nook)\b/.test(H)&&(/Browser|Lunascape|Maxthon/.test(H)||"Safari"!=H&&/^iOS/.test(B)&&/\bSafari\b/.test(U[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(H)&&U[1])&&(_=U[U.length-1])&&j.push(_),j.length&&(j=["("+j.join("; ")+")"]),z&&N&&N.indexOf(z)<0&&j.push("on "+z),N&&j.push((/^on /.test(j[j.length-1])?"":"on ")+N),B&&(_=/ ([\d.+]+)$/.exec(B),w=_&&"/"==B.charAt(B.length-_[0].length-1),B={architecture:32,family:_&&!w?B.replace(_[0],""):B,version:_?_[1]:null,toString:function(){var e=this.version;return this.family+(e&&!w?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(_=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Y))&&!/\bi686\b/i.test(Y)?(B&&(B.architecture=64,B.family=B.family.replace(RegExp(" *"+_),"")),H&&(/\bWOW64\b/i.test(e)||R&&/\w(?:86|32)$/.test(g.cpuClass||g.platform)&&!/\bWin64; x64\b/i.test(e))&&j.unshift("32-bit")):B&&/^OS X/.test(B.family)&&"Chrome"==H&&parseFloat(I)>=39&&(B.architecture=64),e||(e=null);var Z={};return Z.description=e,Z.layout=U&&U[0],Z.manufacturer=z,Z.name=H,Z.prerelease=O,Z.product=N,Z.ua=e,Z.version=H&&I,Z.os=B||{architecture:null,family:null,version:null,toString:function(){return"null"}},Z.parse=c,Z.toString=p,Z.version&&j.unshift(I),Z.name&&j.unshift(H),B&&H&&(B!=String(B).split(" ")[0]||B!=H.split(" ")[0]&&!N)&&j.push(N?"("+B+")":"on "+B),j.length&&(Z.description=j.join(" ")),Z}var d={function:!0,object:!0},h=d[typeof window]&&window||this,p=d[typeof exports]&&exports,f=d[typeof module]&&module&&!module.nodeType&&module,m=p&&f&&"object"==typeof global&&global;!m||m.global!==m&&m.window!==m&&m.self!==m||(h=m);var g=Math.pow(2,53)-1,v=/\bOpera/,y=Object.prototype,_=y.hasOwnProperty,b=y.toString,w=c();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(h.platform=w,define("platform",[],function(){return w})):p&&f?i(w,function(e,t){p[t]=e}):h.platform=w}.call(this),define("text!ev-script/templates/hider.html",[],function(){return'<div class="action-wrap">\n  <% if (enableHide) { %>\n    <a class="action-hide" href="#" title="<%= i18n.formatMessage(\'Hide Picker\') %>"><i class="fa fa-lg fa-folder"></i><span><%= i18n.formatMessage(\'Hide\') %></span></a>\n  <% } %>\n  <% if (showLogout) { %>\n    <a class="action-logout" href="#" title="<%= i18n.formatMessage(\'Logout {0}\', username) %>"><i class="fa fa-lg fa-power-off"></i><span><%= i18n.formatMessage(\'Logout\') %></span></a>\n  <% } %>\n</div>'}),define("ev-script/views/hider",["require","jquery","underscore","ev-script/views/base","text!ev-script/templates/hider.html"],function(e){"use strict";var t=(e("jquery"),e("underscore")),n=e("ev-script/views/base");return n.extend({template:t.template(e("text!ev-script/templates/hider.html")),initialize:function(e){n.prototype.initialize.call(this,e),t.bindAll(this,"hideHandler","logoutHandler","render"),this.events.on("loggedOut",this.render),this.field=e.field},events:{"click a.action-hide":"hideHandler","click a.action-logout":"logoutHandler"},render:function(){this.root.promise.always(t.bind(function(){var e=this.root.getUser(),t=e&&e.get("username")||"";this.$el.html(this.template({i18n:this.i18n,showLogout:e,username:t,enableHide:this.config.hidePickers}))},this))},hideHandler:function(e){this.events.trigger("hidePicker",this.field.id),e.preventDefault()},logoutHandler:function(e){this.auth.logout().then(t.bind(function(){this.events.trigger("hidePickers")},this)),e.preventDefault()}})}),define("text!ev-script/templates/picker.html",[],function(){return'<div id="<%= id %>-hider" class="ev-hider"></div>\n<div id="<%= id %>-filter" class="ev-filter-block"></div>\n<div id="<%= id %>-results" class="ev-results"></div>\n<div id="anthemContainer"></div>\n'}),define("ev-script/views/picker",["require","jquery","underscore","ev-script/views/base","ev-script/views/hider","text!ev-script/templates/picker.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("ev-script/views/base"),i=e("ev-script/views/hider");return r.extend({template:n.template(e("text!ev-script/templates/picker.html")),initialize:function(e){r.prototype.initialize.call(this,e),n.bindAll(this,"chooseItem","hidePicker","showPicker","getSettingsModelAttributes"),this.$el.hide(),this.$el.html(this.template({id:this.id})),this.field=e.field,this.hider=new i({el:this.$("div.ev-hider"),field:this.field}),this.events.on("hidePickers",function(e){e&&this.field.id===e||this.hidePicker()},this),this.events.on("showPicker",function(e){this.field.id===e&&this.$el.is(":hidden")&&this.showPicker()},this),this.events.on("hidePicker",function(e){this.field.id===e&&this.hidePicker()},this),this.hider.render()},getSettingsModelAttributes:function(e){return{id:e.get("id"),content:e.toJSON()}},chooseItem:function(e){var n=t(e.currentTarget).attr("rel"),r=this.resultsView.collection.get(n);this.model.set(this.getSettingsModelAttributes(r)),this.events.trigger("itemChosen",this.model),this.config.hidePickers&&this.events.trigger("hidePicker",this.field.id),e.preventDefault()},hidePicker:function(){this.$el.hide()},showPicker:function(){this.hider.render(),this.$el.show()}})}),define("ev-script/models/organizations",["require","ev-script/models/base","ev-script/util/cache"],function(e){"use strict";var t=e("ev-script/models/base");e("ev-script/util/cache");return t.extend({cacheName:"organizations",collectionKey:"organizations"})}),define("ev-script/models/libraries",["require","ev-script/models/base","ev-script/util/cache"],function(e){"use strict";var t=e("ev-script/models/base");e("ev-script/util/cache");return t.extend({cacheName:"libraries"})}),define("text!ev-script/templates/search.html",[],function(){return'<label for="<%= id %>"><%= i18n.formatMessage(\'Search:\') %></label>\n<input id="<%= id %>" type="search" class="form-text search" placeholder="<%= i18n.formatMessage(\'Search Media\') %>" value="<%- searchVal %>" title="<%= i18n.formatMessage(\'Search Media\') %>" />\n'}),define("ev-script/views/search",["require","underscore","ev-script/views/base","text!ev-script/templates/search.html"],function(e){"use strict";var t=e("underscore"),n=e("ev-script/views/base");return n.extend({template:t.template(e("text!ev-script/templates/search.html")),initialize:function(e){n.prototype.initialize.call(this,e),t.bindAll(this,"searchHandler","doSearch","autoSearch"),this.picker=e.picker,this.render()},events:{"keydown .search":"searchHandler","keyup .search":"autoSearch","search .search":"autoSearch"},render:function(){this.$el.html(this.template({id:this.id+"-input",i18n:this.i18n,searchVal:this.picker.model.get("search")}))},doSearch:function(){var e=this.$(".search").val();this.picker.model.set({search:e}),this.events.trigger("search",this.picker.model)},searchHandler:function(e){13===(e.keyCode?e.keyCode:e.which)&&(this.submitTimeout&&clearTimeout(this.submitTimeout),this.doSearch(),e.preventDefault())},autoSearch:function(e){var n=e.target.value;n!==this.lastValue&&(this.lastValue=n,this.submitTimeout&&clearTimeout(this.submitTimeout),this.submitTimeout=setTimeout(t.bind(function(){this.doSearch()},this),1e3))}})}),define("select2/select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var r in t){"function"==typeof t[r]&&("constructor"!==r&&n.push(r))}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var r={}.hasOwnProperty;for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function r(){var t=Array.prototype.unshift,r=n.prototype.constructor.length,i=e.prototype.constructor;r>0&&(t.call(arguments,e.prototype.constructor),i=n.prototype.constructor),i.apply(this,arguments)}function i(){this.constructor=r}var o=t(n),s=t(e);n.displayName=e.displayName,r.prototype=new i;for(var a=0;a<s.length;a++){var l=s[a];r.prototype[l]=e.prototype[l]}for(var u=0;u<o.length;u++){var c=o[u];r.prototype[c]=function(e){var t=function(){};e in r.prototype&&(t=r.prototype[e]);var i=n.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),i.apply(this,arguments)}}(c)}return r};var r=function(){this.listeners={}};r.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},r.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].apply(this,t)},n.Observable=r,n.generateChars=function(e){for(var t="",n=0;n<e;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(1!==n.length){for(var i=0;i<n.length;i++){var o=n[i];o=o.substring(0,1).toLowerCase()+o.substring(1),o in r||(r[o]={}),i==n.length-1&&(r[o]=e[t]),r=r[o]}delete e[t]}}return e},n.hasScroll=function(t,n){var r=e(n),i=n.style.overflowX,o=n.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||(r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var r=e();e.map(n,function(e){r=r.add(e)}),n=r}t.append(n)},n.__cache={};var i=0;return n.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++i),t=i.toString())),t},n.StoreData=function(e,t,r){var i=n.GetUniqueElementId(e);n.__cache[i]||(n.__cache[i]={}),n.__cache[i][t]=r},n.GetData=function(t,r){var i=n.GetUniqueElementId(t);return r?n.__cache[i]&&null!=n.__cache[i][r]?n.__cache[i][r]:e(t).data(r):n.__cache[i]},n.RemoveData=function(e){var t=n.GetUniqueElementId(e);null!=n.__cache[t]&&delete n.__cache[t],e.removeAttribute("data-select2-id")},n}),define("select2/select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var r=t.id+"-result-";return r+=e.generateChars(4),null!=n.id?r+="-"+n.id.toString():r+="-"+e.generateChars(4),r},t}),define("select2/select2/data/select",["./base","../utils","jquery"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,e),r.prototype.current=function(e){var t=[],r=this;this.$element.find(":selected").each(function(){var e=n(this),i=r.item(e);t.push(i)}),e(t)},r.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current(function(r){var i=[];e=[e],e.push.apply(e,r);for(var o=0;o<e.length;o++){var s=e[o].id;-1===n.inArray(s,i)&&i.push(s)}t.$element.val(i),t.$element.trigger("input").trigger("change")});else{var r=e.id;this.$element.val(r),this.$element.trigger("input").trigger("change")}},r.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(r){for(var i=[],o=0;o<r.length;o++){var s=r[o].id;s!==e.id&&-1===n.inArray(s,i)&&i.push(s)}t.$element.val(i),t.$element.trigger("input").trigger("change")})}},r.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},r.prototype.query=function(e,t){var r=[],i=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var o=i.item(t),s=i.matches(e,o);null!==s&&r.push(s)}}),t({results:r})},r.prototype.addOptions=function(e){t.appendMany(this.$element,e)},r.prototype.option=function(e){var r;e.children?(r=document.createElement("optgroup"),r.label=e.text):(r=document.createElement("option"),
void 0!==r.textContent?r.textContent=e.text:r.innerText=e.text),void 0!==e.id&&(r.value=e.id),e.disabled&&(r.disabled=!0),e.selected&&(r.selected=!0),e.title&&(r.title=e.title);var i=n(r),o=this._normalizeItem(e);return o.element=r,t.StoreData(r,"data",o),i},r.prototype.item=function(e){var r={};if(null!=(r=t.GetData(e[0],"data")))return r;if(e.is("option"))r={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){r={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),o=[],s=0;s<i.length;s++){var a=n(i[s]),l=this.item(a);o.push(l)}r.children=o}return r=this._normalizeItem(r),r.element=e[0],t.StoreData(e[0],"data",r),r},r.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},r.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},r}),define("select2/select2/data/array",["./select","../utils","jquery"],function(e,t,n){function r(e,t){this._dataToConvert=t.get("data")||[],r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype.bind=function(e,t){r.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),r.__super__.select.call(this,e)},r.prototype.convertToOptions=function(e){for(var r=this,i=this.$element.find("option"),o=i.map(function(){return r.item(n(this)).id}).get(),s=[],a=0;a<e.length;a++){var l=this._normalizeItem(e[a]);if(n.inArray(l.id,o)>=0){var u=i.filter(function(e){return function(){return n(this).val()==e.id}}(l)),c=this.item(u),d=n.extend(!0,{},l,c),h=this.option(d);u.replaceWith(h)}else{var p=this.option(l);if(l.children){var f=this.convertToOptions(l.children);t.appendMany(p,f)}s.push(p)}}return s},r}),define("select2/select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("query",function(e){r.lastParams=e,r.loading=!0}),t.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),define("ev-script/util/hapiAdapter",["require","underscore","ev-script/models/base","select2/select2/data/array","select2/select2/utils","select2/select2/dropdown/infiniteScroll"],function(e){function t(e,r){r.set("resultsAdapter",o.Decorate(r.get("resultsAdapter"),s)),this.hapiOptions=r.get("hapi"),this.hapiOptions.collection.on("reset",n.bind(function(){e.val(null).trigger("change.select2")},this)),e.on("hapi:updateTemplates",n.bind(function(e,t){this.hapiOptions.templates=t},this)),e.on("hapi:useGet",n.bind(function(e){this.hapiOptions.useGet=!0},this)),t.__super__.constructor.call(this,e,r)}var n=e("underscore"),r=e("ev-script/models/base"),i=e("select2/select2/data/array"),o=e("select2/select2/utils"),s=e("select2/select2/dropdown/infiniteScroll");return o.Extend(t,i),t.prototype.current=function(e){var t=this.$element.find(":selected"),i=this.hapiOptions.collection;if(t.length&&i.size())e(""===t.val()||i.findWhere({id:t.val()})?[this.item(t)]:[]);else if(this.hapiOptions.useGet){this.hapiOptions.useGet=!1;var o=new this.hapiOptions.modelClass({},{href:this.hapiOptions.templates.get.expand({id:this.hapiOptions.defaultId})});o.fetch({picker:this.hapiOptions.picker,success:n.bind(function(e,t,n){i.add(new r(t,{})),this.select({id:t.id,text:t.name,selected:!0})},this),error:n.bind(this.hapiOptions.ajaxError,this)})}else if(i.size()){var s=i.at(0);this.select({id:s.id,text:s.get("name"),selected:!0})}else this.query({pageNumber:1,term:""},n.bind(function(e){var t=n.first(e.results);t.selected=!0,this.select(t)},this))},t.prototype.query=function(e,t){new this.hapiOptions.modelClass({},{href:this.hapiOptions.templates.search.expand({pageSize:100,pageNumber:e.page,search:e.term})}).fetch({picker:this.hapiOptions.picker,success:n.bind(function(r,i,o){var s=r.getLink("next"),a=r.getEmbedded(this.hapiOptions.collectionName),l=this.hapiOptions.collection,u=this.hapiOptions.noneOption,c=function(e){return{id:e.id,text:e.get("name")}};a&&l.add(a.models);var d={results:[],pagination:{more:s}};u&&!e.page&&d.results.push(u),d.results=d.results.concat(n.map(a.models,c)),t(d)},this),error:n.bind(this.hapiOptions.ajaxError,this)})},t}),define("select2/select2/compat/utils",["jquery"],function(e){function t(t,n,r){var i,o,s=[];i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),i=e.trim(n.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=r(this))&&s.push(o)})),t.attr("class",s.join(" "))}return{syncCssClasses:t}}),define("select2/select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),o=this.options.get("containerCssClass")||"";e.isFunction(o)&&(o=o(this.$element));var s=this.options.get("adaptContainerCssClass");if(s=s||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var a=s;s=function(e){var t=a(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(i,this.$element,s),i.css(l),i.addClass(o),i},r}),define("select2/select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),o=this.options.get("dropdownCssClass")||"";e.isFunction(o)&&(o=o(this.$element));var s=this.options.get("adaptDropdownCssClass");if(s=s||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var a=s;s=function(e){var t=a(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(i,this.$element,s),i.css(l),i.addClass(o),i},r}),function(e){"function"==typeof define&&define.amd?define("jquery-mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=l.call(arguments,1),u=0,d=0,h=0,p=0,f=0,m=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(d=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(d=-1*h,h=0),u=0===h?d:h,"deltaY"in s&&(h=-1*s.deltaY,u=h),"deltaX"in s&&(d=s.deltaX,0===h&&(u=-1*d)),0!==h||0!==d){if(1===s.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,h*=g,d*=g}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!o||p<o)&&(o=p,r(s,p)&&(o/=40)),r(s,p)&&(u/=40,d/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),h=Math[h>=1?"floor":"ceil"](h/o),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=o,t.offsetX=f,t.offsetY=m,t.deltaMode=0,a.unshift(t,u,d,h),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function n(){o=null}function r(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var i,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=s.length;u;)e.event.fixHooks[s[--u]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),define("select2/select2/results",["jquery","./utils"],function(e,t){function n(e,t,r){this.$element=e,this.data=r,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);r.append(n(i(t.args))),r[0].className+=" select2-results__message",this.$results.append(r)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=e.results[n],i=this.option(r);t.push(i)}this.$results.append(t)},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(r){var i=e.map(r,function(e){return e.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=e(this),r=t.GetData(this,"data"),o=""+r.id;null!=r.element&&r.element.selected||null==r.element&&e.inArray(o,i)>-1?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},r=this.option(n);r.className+=" loading-results",this.$results.prepend(r)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var r=document.createElement("li");r.className="select2-results__option";var i={role:"option","aria-selected":"false"},o=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(null!=n.element&&o.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==n.id&&delete i["aria-selected"],null!=n._resultId&&(r.id=n._resultId),n.title&&(r.title=n.title),n.children&&(i.role="group",i["aria-label"]=n.text,delete i["aria-selected"]);for(var s in i){var a=i[s];r.setAttribute(s,a)}if(n.children){var l=e(r),u=document.createElement("strong");u.className="select2-results__group";e(u);this.template(n,u);for(var c=[],d=0;d<n.children.length;d++){var h=n.children[d],p=this.option(h);c.push(p)}var f=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(c),l.append(u),l.append(f)}else this.template(n,r);return t.StoreData(r,"data",n),r},n.prototype.bind=function(n,r){var i=this,o=n.id+"-results";this.$results.attr("id",o),n.on("results:all",function(e){i.clear(),i.append(e.data),n.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),n.on("results:append",function(e){i.append(e.data),n.isOpen()&&i.setClasses()}),n.on("query",function(e){i.hideMessages(),i.showLoading(e)}),n.on("select",function(){n.isOpen()&&(i.setClasses(),i.options.get("scrollAfterSelect")&&i.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(i.setClasses(),i.options.get("scrollAfterSelect")&&i.highlightFirstItem())}),n.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),n.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var e=i.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),n.on("results:select",function(){var e=i.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:n})}}),n.on("results:previous",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var r=n-1;0===e.length&&(r=0);var o=t.eq(r);o.trigger("mouseenter");var s=i.$results.offset().top,a=o.offset().top,l=i.$results.scrollTop()+(a-s);0===r?i.$results.scrollTop(0):a-s<0&&i.$results.scrollTop(l)}}),n.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e),r=n+1;if(!(r>=t.length)){var o=t.eq(r);o.trigger("mouseenter");var s=i.$results.offset().top+i.$results.outerHeight(!1),a=o.offset().top+o.outerHeight(!1),l=i.$results.scrollTop()+a-s;0===r?i.$results.scrollTop(0):a>s&&i.$results.scrollTop(l)}}),n.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(e){i.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-t+e.deltaY,r=e.deltaY>0&&t-e.deltaY<=0,o=e.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var r=e(this),o=t.GetData(this,"data");if("true"===r.attr("aria-selected"))return void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:n,data:o}):i.trigger("close",{}));i.trigger("select",{originalEvent:n,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var r=t.GetData(this,"data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:r,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),r=this.$results.offset().top,i=e.offset().top,o=this.$results.scrollTop()+(i-r),s=i-r;o-=2*e.outerHeight(!1),n<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(t,n){var r=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=r(t,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=i(o):e(n).append(o)},n}),define("select2/select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),define("select2/select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},r.prototype.bind=function(e,t){var r=this,i=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){r.trigger("focus",e)}),this.$selection.on("blur",function(e){r._handleBlur(e)}),this.$selection.on("keydown",function(e){r.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){r.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){r.update(e.data)}),e.on("open",function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",i),r._attachCloseHandler(e)}),e.on("close",function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),r.$selection.trigger("focus"),r._detachCloseHandler(e)}),e.on("enable",function(){r.$selection.attr("tabindex",r._tabindex),r.$selection.attr("aria-disabled","false")}),e.on("disable",function(){r.$selection.attr("tabindex","-1"),r.$selection.attr("aria-disabled","true")})},r.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,function(n){var r=e(n.target),i=r.closest(".select2");e(".select2.select2-container--open").each(function(){this!=i[0]&&t.GetData(this,"element").select2("close")})})},r.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(e,t){t.find(".selection").append(e)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r}),define("select2/select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,r){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(e,t){var n=this;i.__super__.bind.apply(this,arguments);var r=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.trigger("focus")})},i.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(t,n);n.empty().append(r);var i=t.title||t.text;i?n.attr("title",i):n.removeAttr("title")},i}),define("select2/select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function r(e,t){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},r.prototype.bind=function(t,i){var o=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){o.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!o.isDisabled()){var r=e(this),i=r.parent(),s=n.GetData(i[0],"data");o.trigger("unselect",{originalEvent:t,data:s})}})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],r=0;r<e.length;r++){var i=e[r],o=this.selectionContainer(),s=this.display(i,o);o.append(s);var a=i.title||i.text;a&&o.attr("title",a),n.StoreData(o[0],"data",i),t.push(o)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,t)}},r}),define("select2/select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||n)return e.call(this,t);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},t}),define("select2/select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,n){function r(){}return r.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)}),t.on("keypress",function(e){r._handleKeyboardClear(e,t)})},r.prototype._handleClear=function(e,t){if(!this.isDisabled()){var r=this.$selection.find(".select2-selection__clear");if(0!==r.length){t.stopPropagation();var i=n.GetData(r[0],"data"),o=this.$element.val();this.$element.val(this.placeholder.id);var s={data:i};if(this.trigger("clear",s),s.prevented)return void this.$element.val(o);for(var a=0;a<i.length;a++)if(s={data:i[a]},this.trigger("unselect",s),s.prevented)return void this.$element.val(o);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}},r.prototype._handleKeyboardClear=function(e,n,r){r.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},r.prototype.update=function(t,r){if(t.call(this,r),!(this.$selection.find(".select2-selection__placeholder").length>0||0===r.length)){var i=this.options.get("translations").get("removeAllItems"),o=e('<span class="select2-selection__clear" title="'+i()+'">&times;</span>');n.StoreData(o[0],"data",r),this.$selection.find(".select2-selection__rendered").prepend(o)}},r}),define("select2/select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function r(e,t,n){e.call(this,t,n)}return r.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=t.call(this);return this._transferTabIndex(),r},r.prototype.bind=function(e,r,i){var o=this,s=r.id+"-results";e.call(this,r,i),r.on("open",function(){o.$search.attr("aria-controls",s),o.$search.trigger("focus")}),r.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),r.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),r.on("disable",function(){o.$search.prop("disabled",!0)}),r.on("focus",function(e){o.$search.trigger("focus")}),r.on("results:focus",function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){o.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){o._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===o.$search.val()){var r=o.$searchContainer.prev(".select2-selection__choice");if(r.length>0){var i=t.GetData(r[0],"data");o.searchRemoveChoice(i),e.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(e){o.$search.val()&&e.stopPropagation()});var a=document.documentMode,l=a&&a<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){if(l)return void o.$selection.off("input.search input.searchcheck");o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(l&&"input"===e.type)return void o.$selection.off("input.search input.searchcheck");var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&o.handleSearch(e)})},r.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").width();else{e=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",e)},r}),define("select2/select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,r){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,r),n.on("*",function(t,n){if(-1!==e.inArray(t,o)){n=n||{};var r=e.Event("select2:"+t,{params:n});i.$element.trigger(r),-1!==e.inArray(t,s)&&(n.prevented=r.isDefaultPrevented())}})},t}),define("select2/select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var r=t(e);n._cache[e]=r}return new n(n._cache[e])},n}),define("select2/select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OE","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U",
"":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'"}}),define("select2/select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function r(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,r){var i=n.ajax(e);return i.then(t),i.fail(r),i}};return n.extend({},t,e,!0)},r.prototype.processResults=function(e){return e},r.prototype.query=function(e,t){function r(){var r=o.transport(o,function(r){var o=i.processResults(r,e);i.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){"status"in r&&(0===r.status||"0"===r.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=r}var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)):r()},r}),define("select2/select2/data/tags",["jquery"],function(e){function t(t,n,r){var i=r.get("tags"),o=r.get("createTag");void 0!==o&&(this.createTag=o);var s=r.get("insertTag");if(void 0!==s&&(this.insertTag=s),t.call(this,n,r),e.isArray(i))for(var a=0;a<i.length;a++){var l=i[a],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return t.prototype.query=function(e,t,n){function r(e,o){for(var s=e.results,a=0;a<s.length;a++){var l=s[a],u=null!=l.children&&!r({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||u)return!o&&(e.data=s,void n(e))}if(o)return!0;var c=i.createTag(t);if(null!=c){var d=i.option(c);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(s,c)}e.results=s,n(e)}var i=this;if(this._removeOldTags(),null==t.term||null!=t.page)return void e.call(this,t,n);e.call(this,t,r)},t.prototype.createTag=function(t,n){var r=e.trim(n.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),define("select2/select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,r){function i(t){var n=s._normalizeItem(t);if(!s.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var r=s.option(n);r.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([r])}o(n)}function o(e){s.trigger("select",{data:e})}var s=this;n.term=n.term||"";var a=this.tokenizer(n,this.options,i);a.term!==n.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.trigger("focus")),n.term=a.term),t.call(this,n,r)},t.prototype.tokenizer=function(t,n,r,i){for(var o=r.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<s.length;){var u=s[a];if(-1!==e.inArray(u,o)){var c=s.substr(0,a),d=e.extend({},n,{term:c}),h=l(d);null!=h?(i(h),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},t}),define("select2/select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){if(t.term=t.term||"",t.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});e.call(this,t,n)},e}),define("select2/select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){if(t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});e.call(this,t,n)},e}),define("select2/select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(){r._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var r=this;this._checkIfMaximumSelected(function(){e.call(r,t,n)})},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current(function(e){var r=null!=e?e.length:0;if(n.maximumSelectionLength>0&&r>=n.maximumSelectionLength)return void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}});t&&t()})},e}),define("select2/select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),define("select2/select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),r=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},n.prototype.bind=function(t,n,r){var i=this,o=n.id+"-results";t.call(this,n,r),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),n.on("open",function(){i.$search.attr("tabindex",0),i.$search.attr("aria-controls",o),i.$search.trigger("focus"),window.setTimeout(function(){i.$search.trigger("focus")},0)}),n.on("close",function(){i.$search.attr("tabindex",-1),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.val(""),i.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||i.$search.trigger("focus")}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){i.showSearch(e)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide")}}),n.on("results:focus",function(e){e.data._resultId?i.$search.attr("aria-activedescendant",e.data._resultId):i.$search.removeAttr("aria-activedescendant")})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),define("select2/select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),r=t.length-1;r>=0;r--){var i=t[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},e}),define("select2/select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,r){this.$dropdownParent=e(r.get("dropdownParent")||document.body),t.call(this,n,r)}return n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("open",function(){r._showDropdown(),r._attachPositioningHandler(t),r._bindContainerResultHandlers(t)}),t.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),r=t.call(this);return n.append(r),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,r){var i=this,o="scroll.select2."+r.id,s="resize.select2."+r.id,a="orientationchange.select2."+r.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(o,function(n){var r=t.GetData(this,"select2-scroll-position");e(this).scrollTop(r.y)}),e(window).on(o+" "+s+" "+a,function(e){i._positionDropdown(),i._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,r){var i="scroll.select2."+r.id,o="resize.select2."+r.id,s="orientationchange.select2."+r.id;this.$container.parents().filter(t.hasScroll).off(i),e(window).off(i+" "+o+" "+s)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},u=l.top<o.top-a.height,c=l.bottom>o.bottom+a.height,d={left:o.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p={top:0,left:0};(e.contains(document.body,h[0])||h[0].isConnected)&&(p=h.offset()),d.top-=p.top,d.left-=p.left,n||r||(i="below"),c||!u||n?!u&&c&&n&&(i="below"):i="above",("above"==i||n&&"below"!==i)&&(d.top=s.top-p.top-a.height),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),define("select2/select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,r=0;r<t.length;r++){var i=t[r];i.children?n+=e(i.children):n++}return n}function t(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,r)}return t.prototype.showSearch=function(t,n){return!(e(n.data.results)<this.minimumResultsForSearch)&&t.call(this,n)},t}),define("select2/select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}return t.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",function(e){r._handleSelectOnClose(e)})},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var r=n.originalSelect2Event;if("select"===r._type||"unselect"===r._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=e.GetData(i[0],"data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),define("select2/select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(e){r._selectTriggered(e)}),t.on("unselect",function(e){r._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),define("select2/select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"}}}),define("select2/select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w,k,L,M,S,x,T,D){function F(){this.reset()}return F.prototype.apply=function(c){if(c=e.extend(!0,{},this.defaults,c),null==c.dataAdapter){if(null!=c.ajax?c.dataAdapter=f:null!=c.data?c.dataAdapter=p:c.dataAdapter=h,c.minimumInputLength>0&&(c.dataAdapter=u.Decorate(c.dataAdapter,v)),c.maximumInputLength>0&&(c.dataAdapter=u.Decorate(c.dataAdapter,y)),c.maximumSelectionLength>0&&(c.dataAdapter=u.Decorate(c.dataAdapter,_)),c.tags&&(c.dataAdapter=u.Decorate(c.dataAdapter,m)),null==c.tokenSeparators&&null==c.tokenizer||(c.dataAdapter=u.Decorate(c.dataAdapter,g)),null!=c.query){var d=t(c.amdBase+"compat/query");c.dataAdapter=u.Decorate(c.dataAdapter,d)}if(null!=c.initSelection){var D=t(c.amdBase+"compat/initSelection");c.dataAdapter=u.Decorate(c.dataAdapter,D)}}if(null==c.resultsAdapter&&(c.resultsAdapter=n,null!=c.ajax&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,L)),null!=c.placeholder&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,k)),c.selectOnClose&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,x))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=b;else{var F=u.Decorate(b,w);c.dropdownAdapter=F}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,S)),c.closeOnSelect&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,T)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var A=t(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=u.Decorate(c.dropdownAdapter,A)}c.dropdownAdapter=u.Decorate(c.dropdownAdapter,M)}if(null==c.selectionAdapter){if(c.multiple?c.selectionAdapter=i:c.selectionAdapter=r,null!=c.placeholder&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,o)),c.allowClear&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,s)),c.multiple&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,a)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var E=t(c.amdBase+"compat/containerCss");c.selectionAdapter=u.Decorate(c.selectionAdapter,E)}c.selectionAdapter=u.Decorate(c.selectionAdapter,l)}c.language=this._resolveLanguage(c.language),c.language.push("en");for(var P=[],C=0;C<c.language.length;C++){var Y=c.language[C];-1===P.indexOf(Y)&&P.push(Y)}return c.language=P,c.translations=this._processTranslations(c.language,c.debug),c},F.prototype.reset=function(){function t(e){function t(e){return d[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(r,i){if(""===e.trim(r.term))return i;if(i.children&&i.children.length>0){for(var o=e.extend(!0,{},i),s=i.children.length-1;s>=0;s--){null==n(r,i.children[s])&&o.children.splice(s,1)}return o.children.length>0?o:n(r,o)}var a=t(i.text).toUpperCase(),l=t(r.term).toUpperCase();return a.indexOf(l)>-1?i:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:{},matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},F.prototype.applyFromElement=function(e,t){var n=e.language,r=this.defaults.language,i=t.prop("lang"),o=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(o));return e.language=s,e},F.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var n;n=e.isArray(t)?t:[t];for(var r=[],i=0;i<n.length;i++)if(r.push(n[i]),"string"==typeof n[i]&&n[i].indexOf("-")>0){var o=n[i].split("-"),s=o[0];r.push(s)}return r},F.prototype._processTranslations=function(t,n){for(var r=new c,i=0;i<t.length;i++){var o=new c,s=t[i];if("string"==typeof s)try{o=c.loadPath(s)}catch(e){try{s=this.defaults.amdLanguageBase+s,o=c.loadPath(s)}catch(e){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+s+'" could not be automatically loaded. A fallback will be used instead.')}}else o=e.isPlainObject(s)?new c(s):s;r.extend(o)}return r},F.prototype.set=function(t,n){var r=e.camelCase(t),i={};i[r]=n;var o=u._convertData(i);e.extend(!0,this.defaults,o)},new F}),define("select2/select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,r){function i(t,i){if(this.options=t,null!=i&&this.fromElement(i),null!=i&&(this.options=n.applyFromElement(this.options,i)),this.options=n.apply(this.options),i&&i.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,o)}}return i.prototype.fromElement=function(e){function n(e,t){return t.toUpperCase()}var i=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),r.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),r.StoreData(e[0],"data",r.GetData(e[0],"select2Tags")),r.StoreData(e[0],"tags",!0)),r.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",r.GetData(e[0],"ajaxUrl")),r.StoreData(e[0],"ajax-Url",r.GetData(e[0],"ajaxUrl")));for(var o={},s=0;s<e[0].attributes.length;s++){var a=e[0].attributes[s].name;if("data-"==a.substr(0,"data-".length)){var l=a.substring("data-".length),u=r.GetData(e[0],l);o[l.replace(/-([a-z])/g,n)]=u}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var c=t.extend(!0,{},r.GetData(e[0]),o);c=r._convertData(c);for(var d in c)t.inArray(d,i)>-1||(t.isPlainObject(this.options[d])?t.extend(this.options[d],c[d]):this.options[d]=c[d]);return this},i.prototype.get=function(e){return this.options[e]},i.prototype.set=function(e,t){this.options[e]=t},i}),define("select2/select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,r){var i=function(e,r){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),r=r||{},this.options=new t(r,e),i.__super__.constructor.call(this);var o=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",o),e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var u=this.options.get("dropdownAdapter");this.dropdown=new u(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(i,n.Observable),i.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},i.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},i.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var r=this._resolveWidth(e,"style");return null!=r?r:this._resolveWidth(e,"element")}if("element"==t){var i=e.outerWidth(!1);return i<=0?"auto":i+"px"}if("style"==t){var o=e.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var u=s[a].replace(/\s/g,""),c=u.match(n);if(null!==c&&c.length>=1)return c[1]}return null}if("computedstyle"==t){return window.getComputedStyle(e[0]).width}return t},i.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},i.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){e._syncA(),e._syncS(null,t)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},i.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(r,i){-1===e.inArray(r,n)&&t.trigger(r,i)})},i.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===r.ESC||n===r.TAB||n===r.UP&&t.altKey?(e.close(t),t.preventDefault()):n===r.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===r.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===r.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===r.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===r.ENTER||n===r.SPACE||n===r.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},i.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},i.prototype._isChangeMutation=function(t,n){var r=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(n)if(n.addedNodes&&n.addedNodes.length>0)for(var o=0;o<n.addedNodes.length;o++){var s=n.addedNodes[o];s.selected&&(r=!0)}else n.removedNodes&&n.removedNodes.length>0?r=!0:e.isArray(n)&&e.each(n,function(e,t){if(i._isChangeMutation(e,t))return r=!0,!1});else r=!0;return r}},i.prototype._syncSubtree=function(e,t){var n=this;this._isChangeMutation(e,t)&&this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})},i.prototype.trigger=function(e,t){var n=i.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in r){var o=r[e],s={prevented:!1,name:e,args:t};if(n.call(this,o,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},i.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},i.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},i.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},i.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},i.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},i.prototype.enable=function(e){
this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},i.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},i.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("input").trigger("change")},i.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},i.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},i}),define("select2/jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,n,r,i){if(null==e.fn.select2){var o=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var r=e.extend(!0,{},t);new n(e(this),r)}),this;if("string"==typeof t){var r,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=i.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),r=e[t].apply(e,s)}),e.inArray(t,o)>-1?this:r}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=r),n}),define("select2/select2/i18n/es",[],function(){return{errorLoading:function(){return"No se pudieron cargar los resultados"},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Por favor, elimine "+t+" car";return n+=1==t?"cter":"acteres"},inputTooShort:function(e){var t=e.minimum-e.input.length,n="Por favor, introduzca "+t+" car";return n+=1==t?"cter":"acteres"},loadingMore:function(){return"Cargando ms resultados"},maximumSelected:function(e){var t="Slo puede seleccionar "+e.maximum+" elemento";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No se encontraron resultados"},searching:function(){return"Buscando"},removeAllItems:function(){return"Eliminar todos los elementos"}}}),define("select2/select2/i18n/fr",[],function(){return{errorLoading:function(){return"Les rsultats ne peuvent pas tre chargs."},inputTooLong:function(e){var t=e.input.length-e.maximum;return"Supprimez "+t+" caractre"+(t>1?"s":"")},inputTooShort:function(e){var t=e.minimum-e.input.length;return"Saisissez au moins "+t+" caractre"+(t>1?"s":"")},loadingMore:function(){return"Chargement de rsultats supplmentaires"},maximumSelected:function(e){return"Vous pouvez seulement slectionner "+e.maximum+" lment"+(e.maximum>1?"s":"")},noResults:function(){return"Aucun rsultat trouv"},searching:function(){return"Recherche en cours"},removeAllItems:function(){return"Supprimer tous les lments"}}}),define("text!ev-script/templates/filter.html",[],function(){return'<div id="<%= id %>-org-select" class="ev-filter-item ev-org-select">\n  <label for="<%= id %>-org-select-select"><%= i18n.formatMessage(\'Organization:\') %></label>\n  <select id="<%= id %>-org-select-select" class="form-select organizations" title="<%= i18n.formatMessage(\'Select Organization\') %>" style="width: 200px"></select>\n</div>\n<div id="<%= id %>-lib-select" class="ev-filter-item ev-lib-select">\n  <label for="<%= id %>-lib-select-select"><%= i18n.formatMessage(\'Library:\') %></label>\n  <select id="<%= id %>-lib-select-select" class="form-select libraries" title="<%= i18n.formatMessage(\'Select Library\') %>" style="width: 200px"></select>\n</div>\n<div id="<%= id %>-type-select" class="ev-filter-item ev-type-select" style="display:none;">\n  <label for="<%= id %>-type-select-select"><%= i18n.formatMessage(\'Type:\') %></label>\n  <select id="<%= id %>-type-select-select" class="form-select source" title="<%= i18n.formatMessage(\'Select Library Type\') %>">\n    <option value="content" <% if (sourceId === \'content\') { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'Media Library\') %></option>\n    <option value="shared" <% if (sourceId === \'shared\') { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'Shared Library\') %></option>\n  </select>\n</div>\n<div id="<%= id %>-search" class="ev-filter-item ev-search">\n</div>\n<div class="ev-filter-item ev-actions">\n  <a href="#" class="action-home" style="display: none;" title="<%= i18n.formatMessage(\'Click to navigate to default library\') %>">\n    <i class="fa fa-home fa-fw fa-lg"></i>\n  </a>\n  <button type="button" class="action-upload" style="display: none;" title="<%= i18n.formatMessage(\'Click to upload new media\') %>">\n    <i class="fa fa-upload fa-fw"></i><span><%= i18n.formatMessage(\'Upload\') %><span>\n  </button>\n  <button type="button" class="action-record" style="display: none;" title="<%= i18n.formatMessage(\'Click to record screen\') %>">\n    <i class="record-inactive fa fa-circle fa-fw"></i>\n    <i class="record-active fa fa-refresh fa-spin fa-fw" style="display:none;"></i>\n    <span><%= i18n.formatMessage(\'Record\') %><span>\n  </button>\n</div>\n<div class="ev-filter-item loader"></div>\n'}),define("ev-script/views/filter",["require","jquery","underscore","loglevel","urijs/URITemplate","ev-script/views/base","ev-script/collections/base","ev-script/models/organizations","ev-script/models/libraries","ev-script/views/search","ev-script/util/hapiAdapter","select2/select2/compat/containerCss","select2/select2/compat/dropdownCss","select2/jquery.select2","select2/select2/i18n/en","select2/select2/i18n/es","select2/select2/i18n/fr","text!ev-script/templates/filter.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("loglevel"),i=e("urijs/URITemplate"),o=e("ev-script/views/base"),s=e("ev-script/collections/base"),a=e("ev-script/models/organizations"),l=e("ev-script/models/libraries"),u=e("ev-script/views/search"),c=e("ev-script/util/hapiAdapter");return e("select2/select2/compat/containerCss"),e("select2/select2/compat/dropdownCss"),e("select2/jquery.select2"),e("select2/select2/i18n/en"),e("select2/select2/i18n/es"),e("select2/select2/i18n/fr"),o.extend({template:n.template(e("text!ev-script/templates/filter.html")),initialize:function(e){o.prototype.initialize.call(this,e),n.bindAll(this,"loadOrgs","loadLibraries","changeOrganization","changeLibrary","changeSource","activateRecord","deactivateRecord","showHome","hideHome","showUpload","hideUpload","showRecord","hideRecord","setFocus","getLibrary","goHome"),this.picker=e.picker,this.id=e.id,this.language=this.i18n.cldr.locale.split("-")[0],this.$el.html(this.template({id:this.id,i18n:this.i18n,sourceId:this.picker.model.get("sourceId")})),this.requireSelection=e.requireLibrarySelection,(e.showTypeSelect||n.isUndefined(e.showTypeSelect))&&this.$(".ev-type-select").show(),this.searchView=new u({id:this.id+"-search",el:this.$(".ev-search"),picker:this.picker}),this.orgCollection=new s(null,{}),this.orgCollection.comparator="name",this.libCollection=new s(null,{}),this.libCollection.comparator="name";var i=this.$("div.loader");t(window.document).on("ajaxSend",n.bind(function(e,t,n){this.picker===n.picker&&i.addClass("loading")},this)).on("ajaxComplete",n.bind(function(e,t,n){this.picker===n.picker&&i.removeClass("loading")},this)),r.debug("[views/filter] Filter initialized"),r.debug(this)},events:{"click a.action-home":"goHome","change select.organizations":"changeOrganization","change select.libraries":"changeLibrary","change select.source":"changeSource"},goHome:function(e){this.$orgSelect.trigger("hapi:useGet"),this.$libSelect.trigger("hapi:useGet"),this.orgCollection.reset(null),e.preventDefault()},changeOrganization:function(e){r.debug("[views/filter] changeOrganization"),r.debug(arguments),this.picker.model.set({organizationId:e.target.value}),this.loadLibraries()},changeLibrary:function(e){r.debug("[views/filter] changeLibrary"),r.debug(arguments),this.picker.model.set({libraryId:e.target.value}),this.picker.model.get("organizationId")===this.root.getUser().get("defaultOrganizationId")&&this.picker.model.get("libraryId")===this.root.getUser().get("defaultLibraryId")?this.hideHome():this.showHome()},changeSource:function(e){r.debug("[views/filter] changeLibrary"),r.debug(arguments);var t=this.$(".source").val();this.picker.model.set({sourceId:t}),this.events.trigger("typeSelectChange",t),e.preventDefault()},loadOrgs:function(){r.debug("[views/filter] loadOrgs"),this.root.promise.done(n.bind(function(){new i(this.root.getLink("ev:Organizations/Search").href);this.$orgSelect||(this.$orgSelect=this.$(".organizations").select2({dataAdapter:c,width:"style",containerCssClass:"ui-widget",dropdownCssClass:"ui-widget",language:this.language,hapi:{collection:this.orgCollection,collectionName:"organizations",templates:{search:new i(this.root.getLink("ev:Organizations/Search").href),get:new i(this.root.getLink("ev:Organizations/Get").href)},useGet:!0,modelClass:a,picker:this.picker,ajaxError:this.ajaxError,noneOption:this.requireSelection?null:{id:"",text:"-- "+this.i18n.formatMessage("All Organizations")+" --"},defaultId:this.root.getUser().get("defaultOrganizationId")}}))},this))},loadLibraries:function(){r.debug("[views/filter] loadLibraries");var e=this.picker.model.get("organizationId"),t=this.orgCollection.findWhere({id:e}),n=new i(this.root.getLink("ev:Libraries/Get").href),o=new i(t?t.getLink("ev:Libraries/Search").href:this.root.getLink("ev:Libraries/Search").href);this.$libSelect?(this.$libSelect.trigger("hapi:updateTemplates",[{search:o,get:n}]),this.libCollection.reset(null)):this.$libSelect=this.$(".libraries").select2({dataAdapter:c,width:"style",containerCssClass:"ui-widget",dropdownCssClass:"ui-widget",language:this.language,hapi:{collection:this.libCollection,collectionName:"libraries",templates:{search:o,get:n},useGet:!0,modelClass:l,picker:this.picker,ajaxError:this.ajaxError,noneOption:this.requireSelection?null:{id:"",text:"-- "+this.i18n.formatMessage("All Libraries")+" --"},defaultId:this.root.getUser().get("defaultLibraryId")}})},getLibrary:function(e){return e?this.libCollection.findWhere({id:e}):null},activateRecord:function(){this.$(".record-active").show(),this.$(".record-inactive").hide()},deactivateRecord:function(){this.$(".record-active").hide(),this.$(".record-inactive").show()},showHome:function(){this.$(".action-home").show()},hideHome:function(){this.$(".action-home").hide()},showUpload:function(){this.$(".action-upload").show()},hideUpload:function(){this.$(".action-upload").hide()},showRecord:function(){this.$(".action-record").show()},hideRecord:function(){this.$(".action-record").hide()},setFocus:function(){this.$("select").filter(":visible").first().focus()},disable:function(){this.$("*").prop("disabled",!0)},enable:function(){this.$("*").prop("disabled",!1)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define("ev-scroll-loader",["jquery"],e):e("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(e){"use strict";var t={scrollStyle:"scroll",onScrolled:function(){}},n={init:function(n){var r=e.extend({},t,n);return this.each(function(){var t=e(this),n=t.wrap('<div class="scrollWrap"/>').closest(".scrollWrap");t.addClass("scroll-content"),n.append('<div class="loader"></div>'),n.css({position:"relative",height:r.height?"number"==typeof r.height?r.height+"px":r.height:"100%","max-height":t[0].scrollHeight+"px","overflow-y":r.scrollStyle}),n.scroll(function(){n.scrollTop()>=n[0].scrollHeight-n.height()-1&&r.onScrolled.call(t)})})},showLoader:function(){var t=e(this).closest(".scrollWrap");return e(".loader",t).show(),this},hideLoader:function(){var t=e(this).closest(".scrollWrap");return e(".loader",t).hide(),this},scrollTo:function(t){var n=e(this).closest(".scrollWrap");return n.scrollTop(t-n.offset().top+n.scrollTop()),this}};e.fn.evScrollLoader=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:n.init.apply(this,arguments)}}),define("text!ev-script/templates/results.html",[],function(){return'<div class="total">\n    <%= i18n.formatMessage(\'Search returned {0} results.\', totalResults) %>\n    <a href="#" class="action-refresh" title="<%= i18n.formatMessage(\'Click to reload search results\') %>"><i class="fa fa-fw fa-lg fa-refresh"></i><span><%= i18n.formatMessage(\'Reload\') %></span></a>\n</div>\n<div class="results">\n    <div class="content-list"></div>\n</div>\n'}),define("text!ev-script/templates/no-results.html",[],function(){return'<div class="odd result-item">\n    <div class="no-results">\n        <span><%= i18n.formatMessage(\'No results available.\') %></span>\n    </div>\n</div>\n'}),define("ev-script/views/results",["require","jquery","underscore","moment","ev-script/views/base","ev-scroll-loader","text!ev-script/templates/results.html","text!ev-script/templates/no-results.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("moment"),i=e("ev-script/views/base");return e("ev-scroll-loader"),i.extend({resultsTemplate:n.template(e("text!ev-script/templates/results.html")),emptyTemplate:n.template(e("text!ev-script/templates/no-results.html")),initialize:function(e){i.prototype.initialize.call(this,e),n.bindAll(this,"render","decorate","loadMore","addHandler","previewItem","refreshHandler","getPreviewInstance"),this.picker=e.picker},events:{"click .action-preview":"previewItem","click .action-refresh":"refreshHandler"},getItemHtml:function(e,t){if(this.resultTemplate)return this.resultTemplate({i18n:this.i18n,dateTimeFormat:this.config.getDateTimeFormat(),moment:r,item:e,index:t,showOrgName:!this.model.get("organizationId"),showLibName:!this.model.get("libraryId")})},previewItem:function(e){var r=e.currentTarget,i=t(r).attr("rel"),o=this.collection.get(i),s=this.picker.field.model;new this.getPreviewInstance({el:r,model:new s.constructor(n.extend({},s.toJSON(),{id:o.get("id"),content:o.toJSON()})),picker:this.picker});e.stopPropagation(),e.preventDefault()},loadMore:function(){var e=this.model.getLink("next");e&&(this.model.href=e.href,this.model.promise.done(n.bind(function(){this.model.fetch({picker:this.picker,success:n.bind(function(e,t,n){e.getLink("next")||this.$scrollLoader.evScrollLoader("hideLoader"),this.collection.add(e.getEmbedded(e.collectionKey).models)},this),error:n.bind(this.ajaxError,this)})},this)))},addHandler:function(e,n,r){var i=t(this.getItemHtml(e,n.indexOf(e)));this.decorate(i),this.$(".content-list").append(i)},decorate:function(e){e.attr("tabindex","0");var r;e.focus(n.bind(function(){t("a",e).attr("tabindex","-1"),r=-1,this.$scrollLoader.evScrollLoader("scrollTo",e.offset().top-2)},this)),e.keydown(n.bind(function(i){var o,s,a,l,u,c=this.$scrollLoader.closest(".scrollWrap"),d=n.bind(function(t){var n=e.height(),r=c.height(),i=n-r,o=e.offset().top,s=c.offset().top,a=o-s;return t?a>=0:Math.abs(a)>=i},this);if(33===i.which||33===i.keyCode){if(i.preventDefault(),s=e.prevAll(),!s.length)return;u=10,l=s.length-1,u=u>l?l:u,s.eq(u).focus()}else if(34===i.which||34===i.keyCode){if(a=e.nextAll(),!a.length)return;i.preventDefault(),u=10,l=a.length-1,u=u>l?l:u,a.eq(u).focus()}else if(35===i.which||35===i.keyCode){if(i.preventDefault(),a=e.nextAll(),!a.length)return;a.last().focus()}else if(36===i.which||36===i.keyCode){if(i.preventDefault(),s=e.prevAll(),!s.length)return;s.last().focus()}else if(37===i.which||37===i.keyCode){if(i.preventDefault(),o=t("a:visible",e),!o.length)return;l=o.length-1,r=--r<0?l:r,r=r>l?l:r,o.eq(r).focus()}else if(38!==i.which&&38!==i.keyCode||!d(!0)){if(39===i.which||39===i.keyCode){if(i.preventDefault(),o=t("a:visible",e),!o.length)return;l=o.length-1,r=++r>l?0:r,o.eq(r).focus()}else if((40===i.which||40===i.keyCode)&&d()){var h=e.next();h&&h.length&&(h.focus(),i.preventDefault())}}else{i.preventDefault();var p=e.prev();p&&p.length&&p.focus()}},this))},render:function(){this.$el.html(this.resultsTemplate({i18n:this.i18n,totalResults:parseInt(this.model.get("totalItemsCount"),10)})),this.$total=this.$(".total"),this.$results=this.$(".results");var e=this.$(".content-list");this.collection.isEmpty()?e.append(this.emptyTemplate({i18n:this.i18n})):this.collection.each(function(n,r){var i=t(this.getItemHtml(n,r));this.decorate(i),e.append(i)},this);var n=this.config.scrollHeight;this.$scrollLoader=e.evScrollLoader({height:n,onScrolled:this.loadMore}),this.$scrollLoader.closest(".scrollWrap").css("max-height",""),this.model.getLink("next")||this.$scrollLoader.evScrollLoader("hideLoader"),this.collection.off("add",this.addHandler).on("add",this.addHandler)},refreshHandler:function(e){},getPreviewInstance:function(e){}})}),define("ev-script/views/preview",["require","jquery","underscore","ev-script/views/base","ev-script/models/video-settings","jquery-ui/ui/widgets/dialog"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("ev-script/views/base");e("ev-script/models/video-settings");return e("jquery-ui/ui/widgets/dialog"),r.extend({initialize:function(e){r.prototype.initialize.call(this,e),n.bindAll(this,"render","getTitle"),this.render()},render:function(){var e=t('<div class="dialogWrap ev-preview"></div>'),r=new this.embedClass({model:new this.model.constructor(this.model.toJSON()),config:this.config}),i=Math.min(parseInt(r.getFrameWidth(),10)+50,t(window).width()-this.config.dialogMargin),o=Math.min(parseInt(r.getFrameHeight(),10)+70,t(window).height()-this.config.dialogMargin);this.$el.after(e),r.scale(i-50,o-70),e.dialog({title:this.getTitle(),modal:!0,width:i,height:o,draggable:!1,resizable:!1,dialogClass:"ev-dialog",create:n.bind(function(t,n){r.render(!0),r.$("iframe").attr("autofocus",!0),e.html(r.$el)},this),closeText:this.i18n.formatMessage("Close"),close:function(t,n){e.dialog("destroy").remove()}})},getTitle:function(){return this.unencode(this.model.get("content").name)}})}),define("ev-script/views/embed",["require","underscore","ev-script/views/base"],function(e){"use strict";var t=(e("underscore"),e("ev-script/views/base"));return t.extend({initialize:function(e){t.prototype.initialize.call(this,e)},render:function(){},getFrameWidth:function(){return this.model.get("width")},getFrameHeight:function(){return this.model.get("height")},scale:function(e,t){}})}),define("text!ev-script/templates/video-embed-fixed.html",[],function(){return'<iframe src="<%- src %>" title="<%- title %>" frameborder="0" width="<%- width %>" height="<%- frameHeight %>" scrolling="no" allowfullscreen></iframe>'}),define("text!ev-script/templates/video-embed-responsive.html",[],function(){return'<div style="position: relative; padding-bottom: 56.25%; padding-top: 0px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"><iframe src="<%- src %>" title="<%- title %>" frameborder="0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" scrolling="no" allowfullscreen></iframe></div>'}),define("ev-script/views/video-embed",["require","underscore","urijs/URI","ev-script/views/embed","text!ev-script/templates/video-embed-fixed.html","text!ev-script/templates/video-embed-responsive.html"],function(e){"use strict";var t=e("underscore"),n=e("urijs/URI");return e("ev-script/views/embed").extend({fixedTemplate:t.template(e("text!ev-script/templates/video-embed-fixed.html")),responsiveTemplate:t.template(e("text!ev-script/templates/video-embed-responsive.html")),render:function(e){var t,n=this.getMediaWidth(),r=this.getMediaHeight(),i=this.getFrameHeight(),o=this.model.get("isaudio"),s=this.model.get("embedtype"),a=this.model.get("content").name;"fixed"===s?t=this.fixedTemplate({src:this.getUrl(n,r,e),title:a,width:n,height:o?i:r,frameHeight:this.getFrameHeight()}):"responsive"===s&&(t=this.responsiveTemplate({src:this.getUrl(n,r,e),title:a})),this.$el.html(t)},getUrl:function(e,t,r){var i=this.model.get("id"),o=n(this.config.ensembleUrl),s=e||this.getMediaWidth(),a=t||this.getMediaHeight(),l="/hapi/v1/contents/"+i,u=!r||this.config.tpcEnabled&&!this.isTop()?"/plugin":"/launch";return o.path(l+u),o.addQuery({autoPlay:this.model.get("autoplay"),displayComments:this.model.get("comments"),displayTitle:this.model.get("showtitle"),displaySharing:this.model.get("socialsharing"),displayNotes:this.model.get("notes"),displayCaptionSearch:this.model.get("captionsearch"),displayAttachments:this.model.get("attachments"),audioPreviewImage:this.model.get("audiopreviewimage"),displayLinks:this.model.get("links"),displayMetaData:this.model.get("metadata"),displayEmbedCode:this.model.get("embedcode"),displayDownloadIcon:this.model.get("download"),displayViewersReport:this.model.get("viewersreport"),displayAxdxs:this.model.get("axdxs"),embedAsThumbnail:this.model.get("embedthumbnail"),startTime:0,displayCredits:this.model.get("metadata"),showCaptions:this.model.get("showcaptions"),hideControls:!0}),"fixed"===this.model.get("embedtype")&&o.addQuery({width:s,height:a}),r&&o.addQuery("isContentPreview",!0),o.toString()},getMediaWidth:function(){return parseInt(this.model.get("width"),10)||848},getMediaHeight:function(){return parseInt(this.model.get("height"),10)||480},getFrameWidth:function(){return this.getMediaWidth()},getFrameHeight:function(){var e=this.getMediaHeight(),t=this.model.get("isaudio"),n=this.model.get("audiopreviewimage");return t?e=this.isMenuVisible()?n?e+40:165:n?e:40:e+=40,e},isMenuVisible:function(){return this.model.get("socialsharing")||this.model.get("notes")||this.model.get("captionsearch")||this.model.get("attachments")||this.model.get("links")||this.model.get("metadata")||this.model.get("embedcode")||this.model.get("download")||this.model.get("viewersreport")},scale:function(e,t){var n,r=this.getFrameWidth(),i=this.getFrameHeight(),o=this.getMediaWidth(),s=this.getMediaHeight();if(!this.model.get("isaudio")&&"responsive"!==this.model.get("embedtype"))for(;r>e||i>t;)n=r>e?e/r:t/i,this.model.set("width",Math.floor(o*n)),this.model.set("height",Math.floor(s*n)),r=this.getFrameWidth(),i=this.getFrameHeight(),o=this.getMediaWidth(),s=this.getMediaHeight()}})}),define("ev-script/models/video-encoding",["require","backbone","ev-script/models/base","underscore","ev-script/util/cache","ev-script/models/video-settings"],function(e){"use strict";var t=(e("backbone"),e("ev-script/models/base")),n=(e("underscore"),e("ev-script/util/cache"),e("ev-script/models/video-settings"));return t.extend({cacheName:"encodings",getDims:function(e){var t=[],r=parseInt(this.get("width"),10)||848,i=parseInt(this.get("height"),10)||480,o=(new n).get("width");return this.isAudio()?(t[0]=400,t[1]=225):!e&&o<=r?(t[0]=parseInt(o,10)||848,t[1]=Math.ceil(t[0]/(r/i))):(t[0]=r,t[1]=i),t},getWidth:function(e){return this.getDims(e)[0]},getHeight:function(e){return this.getDims(e)[1]},isAudio:function(){return/^audio\//i.test(this.get("contentType")||"")},isGallery:function(){return!this.get("contentType")},isYouTube:function(){return/^audioVideo\/YouTube/i.test(this.get("contentType")||"")},isExternal:function(){return/^external\//i.test(this.get("contentType")||"")},updateSettingsModel:function(e){var t={width:this.getWidth(),height:this.getHeight(),isaudio:this.isAudio(),contenttype:this.get("contentType")};e.set(t,{silent:!0})}})}),define("ev-script/views/video-preview",["require","underscore","ev-script/models/base","ev-script/views/base","ev-script/views/preview","ev-script/views/video-embed","ev-script/models/video-encoding"],function(e){"use strict";var t=e("underscore"),n=e("ev-script/models/base"),r=e("ev-script/views/base"),i=e("ev-script/views/preview"),o=e("ev-script/views/video-embed"),s=e("ev-script/models/video-encoding");return i.extend({embedClass:o,initialize:function(e){var a,l,u,c;r.prototype.initialize.call(this,e),this.encoding=e.encoding,this.encoding||(a=new n(e.model.get("content")),this.encoding=new s({},{href:a.getLink("ev:Encodings/Default").href})),this.picker=e.picker,l=t.bind(function(){if(this.encoding.updateSettingsModel(this.model),this.encoding.updateSettingsModel(this.picker.model),this.config.tpcEnabled&&!this.isTop())return i.prototype.render.call(this,e);u=new o({model:new this.model.constructor(this.model.toJSON()),config:this.config}),c=u.getUrl(null,null,!0),window.open(c)},this),this.encoding.isNew()?this.encoding.fetch({picker:this.picker}).always(l):l()}})}),function(e){"function"==typeof define&&define.amd?define("jquery-expander",["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e:e(jQuery)}(function(e){e.expander={version:"2.0.1",defaults:{slicePoint:100,sliceOn:null,preserveWords:!0,normalizeWhitespace:!0,showWordCount:!1,detailPrefix:" ",wordCountText:" ({{count}} words)",widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,wordEnd:/(&(?:[^;]+;)?|[0-9a-zA-Z\u00C0-\u0100]+|[^\u0000-\u007F]+)$/,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",moreLinkClass:"more-link",lessLinkClass:"less-link",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},e.fn.expander=function(t){function n(e,t){var n="span",r=e.summary,i=g.exec(r),o=i?i[2].toLowerCase():"";return t?(n="div",i&&"a"!==o&&!e.expandAfterSummary?r=r.replace(g,e.moreLabel+"$1"):r+=e.moreLabel,r='<div class="'+e.summaryClass+'">'+r+"</div>"):r+=e.moreLabel,[r,e.detailPrefix||"","<",n+' class="'+e.detailClass+'"',">",e.details,"</"+n+">"].join("")}function r(e,t){var n='<span class="'+e.moreClass+'">'+e.expandPrefix;return e.showWordCount?e.wordCountText=e.wordCountText.replace(/\{\{count\}\}/,t.replace(p,"").replace(/\&(?:amp|nbsp);/g,"").replace(/(?:^\s+|\s+$)/,"").match(/\w+/g).length):e.wordCountText="",n+='<a href="#" class="'+e.moreLinkClass+'">'+e.expandText+e.wordCountText+"</a></span>"}function i(t,n){return t.lastIndexOf("<")>t.lastIndexOf(">")&&(t=t.slice(0,t.lastIndexOf("<"))),n&&(t=t.replace(h,"")),e.trim(t)}function o(e,t){t.stop(!0,!0)[e.collapseEffect](e.collapseSpeed,function(){t.prev("span."+e.moreClass).show().length||t.parent().children("div."+e.summaryClass).show().find("span."+e.moreClass).show(),e.afterCollapse&&e.afterCollapse.call(t)})}function s(t,n,r){t.collapseTimer&&(u=setTimeout(function(){o(t,n),e.isFunction(t.onCollapse)&&t.onCollapse.call(r,!1)},t.collapseTimer))}function a(t){var n=t.summaryText.replace(t.sliceOn,"ExpandMoreHere374216623");n=e("<div>"+n+"</div>").text();var r=n.indexOf("ExpandMoreHere374216623"),i=t.summaryText.indexOf(t.sliceOn);return-1!==r&&r<t.slicePoint&&(t.summaryText=t.allHtml.slice(0,i)),t}var l="init";"string"==typeof t&&(l=t,t={});var u,c=e.extend({},e.expander.defaults,t),d=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,h=c.wordEnd,p=/<\/?(\w+)[^>]*>/g,f=/<(\w+)[^>]*>/g,m=/<\/(\w+)>/g,g=/(<\/([^>]+)>)\s*$/,v=/^(<[^>]+>)+.?/,y=/\s\s+/g,_=function(t){return c.normalizeWhitespace?e.trim(t||"").replace(y," "):t},b={init:function(){this.each(function(){var t,l,h,g,y,b,w,k,L,M,S,x,T,D,F,A=[],E=[],P="",C={},Y=this,j=e(this),O=e([]),R=e.extend({},c,j.data("expander")||e.meta&&j.data()||{}),I=!!j.find("."+R.detailClass).length,U=!!j.find("*").filter(function(){return/^block|table|list/.test(e(this).css("display"))}).length,H=U?"div":"span",N=H+"."+R.detailClass,z=R.moreClass+"",B=R.lessClass+"",Z=R.expandSpeed||0,q=_(j.html()),W=q.slice(0,R.slicePoint);if(R.moreSelector="span."+z.split(" ").join("."),R.lessSelector="span."+B.split(" ").join("."),!e.data(this,"expanderInit")){for(e.data(this,"expanderInit",!0),e.data(this,"expander",R),e.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(t,n){C[n]=e.isFunction(R[n])}),W=i(W),y=W.replace(p,"").length;y<R.slicePoint;)g=q.charAt(W.length),"<"===g&&(g=q.slice(W.length).match(v)[0]),W+=g,y++;for(R.sliceOn&&(F=a({sliceOn:R.sliceOn,slicePoint:R.slicePoint,allHtml:q,summaryText:W}),W=F.summaryText),W=i(W,R.preserveWords&&q.slice(W.length).length),b=W.match(f)||[],w=W.match(m)||[],h=[],e.each(b,function(e,t){d.test(t)||h.push(t)}),b=h,l=w.length,t=0;t<l;t++)w[t]=w[t].replace(m,"$1");if(e.each(b,function(t,n){var r=n.replace(f,"$1"),i=e.inArray(r,w);-1===i?(A.push(n),E.push("</"+r+">")):w.splice(i,1)}),E.reverse(),I)L=j.find(N).remove().html(),W=j.html(),q=W+L,k="";else{if(L=q.slice(W.length),""===(M=e.trim(L.replace(p,"")))||M.split(/\s+/).length<R.widow)return;k=E.pop()||"",W+=E.join(""),L=A.join("")+L}R.moreLabel=j.find(R.moreSelector).length?"":r(R,L),U?L=q:"&"===W.charAt(W.length-1)&&(P=/^[#\w\d\\]+;/.exec(L))&&(L=L.slice(P[0].length),W+=P[0]),W+=k,R.summary=W,R.details=L,R.lastCloseTag=k,C.onSlice&&(h=R.onSlice.call(Y,R),R=h&&h.details?h:R),S=n(R,U),j.empty().append(S),T=j.find(N),D=j.find(R.moreSelector),"slideUp"===R.collapseEffect&&"slideDown"!==R.expandEffect||j.is(":hidden")?T.css({display:"none"}):T[R.collapseEffect](0),O=j.find("div."+R.summaryClass),x=function(e){e.preventDefault();var t=e.startExpanded?0:Z;D.hide(),O.hide(),C.beforeExpand&&R.beforeExpand.call(Y),T.stop(!1,!0)[R.expandEffect](t,function(){T.css({zoom:""}),C.afterExpand&&R.afterExpand.call(Y),s(R,T,Y)})},D.find("a").off("click.expander").on("click.expander",x),R.userCollapse&&!j.find(R.lessSelector).length&&j.find(N).append('<span class="'+R.lessClass+'">'+R.userCollapsePrefix+'<a href="#" class="'+R.lessLinkClass+'">'+R.userCollapseText+"</a></span>"),j.find(R.lessSelector+" a").off("click.expander").on("click.expander",function(t){t.preventDefault(),clearTimeout(u);var n=e(this).closest(N);o(R,n),C.onCollapse&&R.onCollapse.call(Y,!0)}),R.startExpanded&&x({preventDefault:function(){},startExpanded:!0})}})},destroy:function(){this.each(function(){var t,n,r=e(this);r.data("expanderInit")&&(t=e.extend({},r.data("expander")||{},c),n=r.find("."+t.detailClass).contents(),r.removeData("expanderInit"),r.removeData("expander"),r.find(t.moreSelector).remove(),r.find("."+t.summaryClass).remove(),r.find("."+t.detailClass).after(n).remove(),r.find(t.lessSelector).remove())})}};return b[l]&&b[l].call(this),this},e.fn.expander.defaults=e.expander.defaults}),define("text!ev-script/templates/video-result.html",[],function(){
return'<div class="<%= (index % 2 ? \'odd\' : \'even\') %> result-item">\n    <div class="content-actions">\n        <div class="thumbnail-wrap">\n            <img class="thumbnail" src="<%= item.getThumbnailUrl() %>" alt="<%= i18n.formatMessage(\'{0} preview thumbnail\', item.get(\'name\')) %>"/>\n            <% if (item.get(\'hasCaptions\')) { %>\n            <i class="badge fa fa-cc fa-lg text-dark5" title="<%= i18n.formatMessage(\'CC\') %>"></i>\n            <% } %>\n        </div>\n        <div class="action-links">\n            <a class="action-add" href="#" title="<%= i18n.formatMessage(\'Click to choose {0}\', item.get(\'name\')) %>" rel="<%= item.get(\'id\') %>"><i class="fa fa-plus-circle fa-lg"></i><span><%= i18n.formatMessage(\'Choose\') %></span></a>\n            <a class="action-preview" href="#" title="<%= i18n.formatMessage(\'Click to preview {0}\', item.get(\'name\')) %>" rel="<%= item.get(\'id\') %>"><i class="fa fa-play-circle fa-lg"></i><span><%= i18n.formatMessage(\'Preview\') %></span></a>\n        </div>\n    </div>\n    <div class="content-meta">\n        <div class="title">\n            <a class="action-preview" title="<%= i18n.formatMessage(\'Click to preview {0}\', item.get(\'name\')) %>" href="#" rel="<%= item.get(\'id\') %>"><%= item.get(\'name\') %></a>\n        </div>\n        <div class="content-info">\n            <% if (showOrgName) { %>\n                <div class="info-row">\n                    <div class="label"><%= i18n.formatMessage(\'Organization\') %></div>\n                    <div class="value"><%= item.get(\'organizationName\') %></div>\n                </div>\n            <% } %>\n            <% if (showLibName) { %>\n                <div class="info-row">\n                    <div class="label"><%= i18n.formatMessage(\'Library\') %></div>\n                    <div class="value"><%= item.get(\'libraryName\') %></div>\n                </div>\n            <% } %>\n            <div class="info-row trunc">\n                <div class="label"><%= i18n.formatMessage(\'Description\') %></div>\n                <div class="value"><%= item.getDescription() %></div>\n            </div>\n            <div class="info-row">\n                <div class="label"><%= i18n.formatMessage(\'Date Added\') %></div>\n                <div class="value">\n                    <%\n                        var dateAdded = new Date(item.get(\'dateAdded\')),\n                            localDate = dateAdded.setMinutes(dateAdded.getMinutes() - dateAdded.getTimezoneOffset());\n                        print(moment(localDate).format(dateTimeFormat));\n                    %>\n                </div>\n            </div>\n            <div class="info-row trunc">\n                <div class="label"><%= i18n.formatMessage(\'Keywords\') %></div>\n                <div class="value"><%= item.getKeywords() %></div>\n            </div>\n            <% if (item.getStatus()) { %>\n            <div class="info-row">\n                <div class="label"><%= i18n.formatMessage(\'Status\') %></div>\n                <div class="value"><%= item.getStatus() %></div>\n            </div>\n            <% } %>\n        </div>\n    </div>\n</div>\n'}),define("ev-script/views/video-results",["require","jquery","underscore","urijs/URITemplate","ev-script/views/results","ev-script/models/video-settings","ev-script/views/video-preview","jquery-expander","text!ev-script/templates/video-result.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("urijs/URITemplate"),i=e("ev-script/views/results"),o=(e("ev-script/models/video-settings"),e("ev-script/views/video-preview"));return e("jquery-expander"),i.extend({resultTemplate:n.template(e("text!ev-script/templates/video-result.html")),initialize:function(e){i.prototype.initialize.call(this,e)},getItemHtml:function(e,t){var o=this.root.getEmbedded("ev:Brandings/Current");return e.getThumbnailUrl=function(){var t=e.getLink("ev:Images/Thumbnail"),n=t?t.href:o.get("thumbnailImageUrlTemplate");return new r(n).expand({width:200,height:112})},e.getDescription=function(){return n.unescape(e.get("description"))},e.getKeywords=function(){return n.unescape(e.get("keywords"))},e.getStatus=n.bind(function(){var t=e.get("status")||"",n="";try{switch(t){case"":case"unknown":break;case"ready":case"file_ready":n='<span style="color:green;">'+this.i18n.formatMessage(t)+"</span>";break;case"failed":n='<span style="color:red;">'+this.i18n.formatMessage(t)+"</span>";break;default:n='<span style="color:#ff6600;">'+this.i18n.formatMessage(t)+"</span>"}}catch(e){console.error(e)}return n},this),i.prototype.getItemHtml.call(this,e,t)},decorate:function(e){t(window).width()<1100&&t(".trunc .value",e).each(n.bind(function(n,r){var i=t(r),o=function(){e.focus()};i.expander({expandText:this.i18n.formatMessage("More"),userCollapseText:this.i18n.formatMessage("Less"),afterExpand:o,afterCollapse:o})},this)),i.prototype.decorate.call(this,e)},refreshHandler:function(e){e.preventDefault(),this.events.trigger("reload","videos")},getPreviewInstance:function(e){return new o(e)}})}),define("ev-script/models/videos",["require","ev-script/models/base"],function(e){"use strict";return e("ev-script/models/base").extend({cacheName:"videos",collectionKey:"contents"})}),define("ev-script/models/shared-videos",["require","ev-script/models/base","underscore"],function(e){"use strict";var t=e("ev-script/models/base"),n=e("underscore");return t.extend({cacheName:"videos",collectionKey:"contents",parse:function(e,t){return e._embedded.contents=n.map(e._embedded.sharing,function(e){return e._embedded["ev:Contents/Get"]}),e}})}),define("ev-script/models/workflows",["require","ev-script/models/base"],function(e){"use strict";return e("ev-script/models/base").extend({cacheName:"workflows",collectionKey:"workflows"})}),define("text!ev-script/templates/options.html",[],function(){return'<% if (noneOption) { %>\n    <option value="<%= noneOption.value %>" <% if (selectedId === noneOption.value ) { print(\'selected="selected"\'); } %>><%- noneOption.name %></option>\n<% } %>\n<% collection.each(function(item) { %>\n    <option value="<%= item.id %>" <% if (selectedId === item.id) { print(\'selected="selected"\'); } %>><%- item.get(\'name\') %></option>\n<% }); %>\n'}),define("ev-script/views/workflow-select",["require","underscore","ev-script/views/base","text!ev-script/templates/options.html"],function(e){"use strict";var t=e("underscore"),n=e("ev-script/views/base");return n.extend({template:t.template(e("text!ev-script/templates/options.html")),initialize:function(e){n.prototype.initialize.call(this,e),t.bindAll(this,"render"),this.$el.html('<option value="-1">'+this.i18n.formatMessage("Loading...")+"</option>"),this.render()},render:function(){var e=this.collection.findWhere({isDefault:!0})||this.collection.at(0);this.$el.html(this.template({selectedId:e.id,collection:this.collection,noneOption:null}))},getSelected:function(){return this.collection.get(this.$("option:selected").val())}})}),define("ev-script/models/media-types",["require","ev-script/models/base","ev-script/util/cache"],function(e){"use strict";var t=e("ev-script/models/base");e("ev-script/util/cache");return t.extend({cacheName:"mediaTypes",collectionKey:"mediaTypes"})}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uppy",[],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Uppy=e()}(function(){function e(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function n(t){if(Gn===setTimeout)return setTimeout(t,0);if((Gn===e||!Gn)&&setTimeout)return Gn=setTimeout,setTimeout(t,0);try{return Gn(t,0)}catch(e){try{return Gn.call(null,t,0)}catch(e){return Gn.call(this,t,0)}}}function r(){or&&rr&&(or=!1,rr.length?ir=rr.concat(ir):sr=-1,ir.length&&i())}function i(){if(!or){var e=n(r);or=!0;for(var i=ir.length;i;){for(rr=ir,ir=[];++sr<i;)rr&&rr[sr].run();sr=-1,i=ir.length}rr=null,or=!1,function(e){if(Jn===clearTimeout)return clearTimeout(e);if((Jn===t||!Jn)&&clearTimeout)return Jn=clearTimeout,clearTimeout(e);try{Jn(e)}catch(t){try{return Jn.call(null,e)}catch(t){return Jn.call(this,e)}}}(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(){return fr((wr()*Mr<<0).toString(36),4)}function u(){return Lr=Lr<Mr?Lr:0,++Lr-1}function c(){return"c"+(new Date).getTime().toString(36)+fr(u().toString(36),4)+yr()+(l()+l())}function d(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){var t="";return e.replace(/[^A-Z0-9]/gi,function(e){return t+="-"+function(e){return e.charCodeAt(0).toString(32)}(e),"/"})+t}function f(e){return 2!==e.length?0+e:e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){var t="function"==typeof Map?new Map:void 0;return(y=function(e){function n(){return _(e,arguments,w(this).constructor)}if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)})(e)}function _(e,t,n){return(_=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i}).apply(null,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){var t="function"==typeof Map?new Map:void 0;return(k=function(e){function n(){return L(e,arguments,S(this).constructor)}if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),M(n,e)})(e)}function L(e,t,n){return(L=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&M(i,n.prototype),i}).apply(null,arguments)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){var t="function"==typeof Map?new Map:void 0;return(x=function(e){function n(){return T(e,arguments,F(this).constructor)}if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),D(n,e)})(e)}function T(e,t,n){return(T=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&D(i,n.prototype),i}).apply(null,arguments)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(){return di("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},di("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function Y(){return di("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},di("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function j(){return di("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},di("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),di("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function z(e){return Zi("div",{class:"uppy-Dashboard-Item-progress"},Zi("button",{class:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":N(e),title:N(e),onclick:function(){return function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.pauseUpload(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.cancelUpload(e.file.id):e.retryUpload(e.file.id))}(e)}},e.children))}function B(e){var t=e.children;return Zi("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",class:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function Z(e){var t=e.progress,n=2*Math.PI*15;return Zi("g",null,Zi("circle",{class:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),Zi("circle",{class:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)","stroke-width":"2",fill:"none","stroke-dasharray":n,"stroke-dashoffset":n-n/100*t}))}function q(e){var t=e.file,n=e.uploadInProgressOrComplete,r=e.metaFields,i=e.i18n,o=e.onClick;return!n&&r&&r.length>0?Ki("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFile")+" "+t.meta.name,title:i("editFile"),onclick:function(){return o()}},Ki("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},Ki("g",{"fill-rule":"evenodd"},Ki("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z","fill-rule":"nonzero"}),Ki("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),Ki("path",{"fill-rule":"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function W(e){var t=e.i18n,n=e.onClick;return Ki("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile"),title:t("removeFile"),onclick:function(){return n()}},Ki("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},Ki("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),Ki("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}function V(e){return Ki("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e.i18n("copyLink"),title:e.i18n("copyLink"),onclick:function(t){return Gi(t,e)}},Ki("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},Ki("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e){switch(function(e,t,n,r){if(void 0===r&&(r={}),e)return yo;if(t)return Lo;if(n)return Mo;for(var i=_o,o=Object.keys(r),s=0;s<o.length;s++){var a=r[o[s]].progress;if(a.uploadStarted&&!a.uploadComplete)return wo;a.preprocess&&i!==wo&&(i=bo),a.postprocess&&i!==wo&&i!==bo&&(i=ko)}return i}(e.isAllErrored,e.isAllComplete,e.isAllPaused,e.files)){case"uploading":return e.i18n("uploadingXFiles",{smart_count:e.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return e.i18n("processingXFiles",{smart_count:e.processingFiles.length});case"paused":return e.i18n("uploadPaused");case"waiting":return e.i18n("xFilesSelected",{smart_count:e.newFiles.length});case"complete":return e.i18n("uploadComplete")}}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function ie(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(as[(i=r)>>18&63]+as[i>>12&63]+as[i>>6&63]+as[63&i]);return o.join("")}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e,t){var n=t[0];n&&(n.focus(),e.preventDefault())}function ae(e,t,n){var r=ks(n,t),i=_s(r.querySelectorAll(Ls)),o=i.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(r)?se(e,i):e.shiftKey&&0===o?function(e,t){var n=t[t.length-1];n&&(n.focus(),e.preventDefault())}(e,i):e.shiftKey||o!==i.length-1||se(e,i)}function le(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}function he(){return Qs("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},Qs("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(){return Ia("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Ia("g",{fill:"none","fill-rule":"evenodd"},Ia("rect",{fill:"#FF753E",width:"32",height:"32",rx:"16"}),Ia("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF","fill-rule":"nonzero"})))}function Te(e,t){return-1!==e.indexOf(t)}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return"."===e[0]?Pr[e.slice(1)]:e}function Ee(e){return/^video\/[^*]+$/.test(e)}function Pe(e){return/^image\/[^*]+$/.test(e)}function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function Ie(e){try{return encodeURIComponent(e)}catch(e){return null}}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function He(e,t){return t||(t=new Error("Upload error")),"string"==typeof t&&(t=new Error(t)),t instanceof Error||(t=Ue(new Error("Upload error"),{data:t})),Dl(e)?t=new Gr(t,e):(t.request=e,t)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){var n=e.indexOf("<"+t+">"),r=e.indexOf("</"+t+">",n);return-1!==n&&-1!==r?e.slice(n+t.length+2,r):""}function Ze(e){if(e&&e.error){var t=new Error(e.message);throw ze(t,e.error),t}return e}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t,n){return t&&We(e.prototype,t),n&&We(e,n),e}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e,t,n){return(Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$e(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qe(e){if("string"==typeof e)return parseInt(e,10);if("number"==typeof e)return e
;throw new TypeError("Expected a number")}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nt(e){if(e&&e.error){var t=new Error(e.message);throw tt(t,e.error),t}return e}function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e){var t="function"==typeof Map?new Map:void 0;return(it=function(e){function n(){return ot(e,arguments,lt(this).constructor)}if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),at(n,e)})(e)}function ot(e,t,n){return(ot=st()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&at(i,n.prototype),i}).apply(null,arguments)}function st(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e){return e&&e.__esModule?e:{default:e}}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach(function(t){ht(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e){var t=[];for(var n in e)t.push(n+" "+tu.Base64.encode(e[n]));return t.join(",")}function mt(e,t){return e>=t&&e<t+100}function gt(e,t,n){var r=n.httpStack.createRequest(e,t);r.setHeader("Tus-Resumable","1.0.0");var i=n.headers||{};for(var o in i)r.setHeader(o,i[o]);if(n.addRequestId){var s=(0,cu.default)();r.setHeader("X-Request-ID",s)}return r}function vt(e,t,n){return("function"==typeof n.onBeforeRequest?Promise.resolve(n.onBeforeRequest(e)):Promise.resolve()).then(function(){return e.send(t).then(function(t){return("function"==typeof n.onAfterResponse?Promise.resolve(n.onAfterResponse(e,t)):Promise.resolve()).then(function(){return t})})})}function yt(e,t,n){if(null==n.retryDelays||t>=n.retryDelays.length||null==e.originalRequest)return!1;if(n&&"function"==typeof n.onShouldRetry)return n.onShouldRetry(e,t,n);var r,i=e.originalResponse?e.originalResponse.getStatus():0;return(!mt(i,400)||409===i||423===i)&&(r=!0,"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(r=!1),r)}function _t(e,t){return new lu.default(t,e).toString()}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),e}function St(e){return e&&e.__esModule?e:{default:e}}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t,n){return t&&Tt(e.prototype,t),n&&Tt(e,n),e}function Ft(e){return void 0===e?0:void 0!==e.size?e.size:e.length}function At(e){return e&&e.__esModule?e:{default:e}}function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach(function(t){Rt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}function Nt(e){function t(){if(t.enabled){var e=t,r=+new Date,i=r-(n||r);e.diff=i,e.prev=n,e.curr=r,n=r;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=ac.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;a++;var r=ac.formatters[n];if("function"==typeof r){var i=o[a];t=r.call(e,i),o.splice(a,1),a--}return t}),ac.formatArgs.call(e,o),(t.log||ac.log||console.log.bind(console)).apply(e,o)}}var n;return t.namespace=e,t.enabled=ac.enabled(e),t.useColors=ac.useColors(),t.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return ac.colors[Math.abs(n)%ac.colors.length]}(e),t.destroy=zt,"function"==typeof ac.init&&ac.init(t),ac.instances.push(t),t}function zt(){var e=ac.instances.indexOf(this);return-1!==e&&(ac.instances.splice(e,1),!0)}function Bt(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}function Zt(e){function t(){if(t.enabled){var e=t,r=+new Date,i=r-(n||r);e.diff=i,e.prev=n,e.curr=r,n=r;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=dc.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;a++;var r=dc.formatters[n];if("function"==typeof r){var i=o[a];t=r.call(e,i),o.splice(a,1),a--}return t}),dc.formatArgs.call(e,o),(t.log||dc.log||console.log.bind(console)).apply(e,o)}}var n;return t.namespace=e,t.enabled=dc.enabled(e),t.useColors=dc.useColors(),t.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return dc.colors[Math.abs(n)%dc.colors.length]}(e),t.destroy=qt,"function"==typeof dc.init&&dc.init(t),dc.instances.push(t),t}function qt(){var e=dc.instances.indexOf(this);return-1!==e&&(dc.instances.splice(e,1),!0)}function Wt(e){if(e)return function(e){for(var t in Wt.prototype)e[t]=Wt.prototype[t];return e}(e)}function Vt(){}function $t(e){var t=""+e.type;if(wc.BINARY_EVENT!==e.type&&wc.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data){var n=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===n)return Lc;t+=n}return kc("encoded %j as %s",e,t),t}function Kt(){this.reconstructor=null}function Gt(e){this.reconPack=e,this.buffers=[]}function Jt(e){return{type:wc.ERROR,data:"parser error: "+e}}function Xt(e){if(e)return function(e){for(var t in Xt.prototype)e[t]=Xt.prototype[t];return e}(e)}function Qt(){}function en(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function tn(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function nn(e,t){return Oc(e>>t&63|128)}function rn(e,t){if(0==(4294967168&e))return Oc(e);var n="";return 0==(4294965248&e)?n=Oc(e>>6&31|192):0==(4294901760&e)?(tn(e,t)||(e=65533),n=Oc(e>>12&15|224),n+=nn(e,6)):0==(4292870144&e)&&(n=Oc(e>>18&7|240),n+=nn(e,12),n+=nn(e,6)),n+Oc(63&e|128)}function on(){if(Yc>=Cc)throw Error("Invalid byte index");var e=255&Pc[Yc];if(Yc++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function sn(e){var t,n;if(Yc>Cc)throw Error("Invalid byte index");if(Yc==Cc)return!1;if(t=255&Pc[Yc],Yc++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|on())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|on()<<6|on())>=2048)return tn(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|on()<<12|on()<<6|on())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}function an(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function ln(e,t){t=t||{};var n=new Nc;return an(e).forEach(function(e){n.append(e)}),t.type?n.getBlob(t.type):n.getBlob()}function un(e,t){return new Blob(an(e),t||{})}function cn(e,t,n){for(var r=new Array(e.length),i=function(e,t,n){function r(e,o){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(i=!0,t(e),t=n):0!==r.count||i||t(null,o)}var i=!1;return n=n||Qt,r.count=e,0===e?t():r}(e.length,n),o=0;o<e.length;o++)!function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})}(o,e[o],i)}function dn(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}function hn(e){var t="";do{t=od[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function pn(){var e=hn(+new Date);return e!==td?(ad=0,td=e):e+"."+hn(ad++)}function fn(e){var t=e&&e.forceBase64;dd&&!t||(this.supportsBinary=!1),Qc.call(this,e)}function mn(){}function gn(e){if(cd.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function vn(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function yn(){for(var e in vn.requests)vn.requests.hasOwnProperty(e)&&vn.requests[e].abort()}function _n(e,t){if(!(this instanceof _n))return new _n(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=oc(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=oc(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=Tc.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function bn(e){if(e)return function(e){for(var t in bn.prototype)e[t]=bn.prototype[t];return e}(e)}function wn(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}function kn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}function Ln(e,t){if(!(this instanceof Ln))return new Ln(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Ad({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||wc;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}function Mn(e){if(e)return function(e){for(var t in Mn.prototype)e[t]=Mn.prototype[t];return e}(e)}function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xn(e,t){return Od.indexOf(e)>=Od.indexOf(t)}function Tn(e){if(!e)throw new Error("Transloadit: The `params` option is required.");if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw e.message="Transloadit: The `params` option is a malformed JSON string: "+e.message,e}if(!e.auth||!e.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/account/api-settings.")}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e,t){return{params:t.params,signature:t.signature,fields:t.fields}}function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cn(e,t){return t||(t=new Error("Upload error")),"string"==typeof t&&(t=new Error(t)),t instanceof Error||(t=Pn(new Error("Upload error"),{data:t})),Dl(e)?t=new Gr(t,e):(t.request=e,t)}function Yn(e){return e.data.slice(0,e.data.size,e.meta.type)}function jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trim:!1};if(!e)throw new Error("A form is required by getFormData, was given form="+e);for(var n={},r=void 0,i=[],o={},s=0,a=e.elements.length;s<a;s++){var l=e.elements[s];ih[l.type]||l.disabled||(r=l.name||l.id)&&!o[r]&&(i.push(r),o[r]=!0)}for(var u=0,c=i.length;u<c;u++){var d=On(e,r=i[u],t);null!=d&&(n[r]=d)}return n}function On(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{trim:!1};if(!e)throw new Error("A form is required by getFieldData, was given form="+e);if(!t&&"[object String]"!==lh.call(t))throw new Error("A field name is required by getFieldData, was given fieldName="+t);var r=e.elements[t];if(!r||r.disabled)return null;if(!rh[lh.call(r)])return Rn(r,n.trim);for(var i=[],o=!0,s=0,a=r.length;s<a;s++)if(!r[s].disabled){o&&"radio"!==r[s].type&&(o=!1);var l=Rn(r[s],n.trim);null!=l&&(i=i.concat(l))}return o&&1===i.length?i[0]:i.length>0?i:null}function Rn(e,t){var n=null,r=e.type;if("select-one"===r)return e.options.length&&(n=e.options[e.selectedIndex].value),n;if("select-multiple"===r){n=[];for(var i=0,o=e.options.length;i<o;i++)e.options[i].selected&&n.push(e.options[i].value);return 0===n.length&&(n=null),n}return"file"===r&&"files"in e?(e.multiple?0===(n=ah.call(e.files)).length&&(n=null):n=e.files[0],n):(oh[r]?e.checked&&(n=e.value):n=t?e.value.replace(sh,""):e.value,n)}function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nn(e){var t=gh.open(e,3);return new Promise(function(e,n){t.onupgradeneeded=function(t){var n=t.target.result,r=t.currentTarget.transaction;if(t.oldVersion<2&&n.createObjectStore("files",{keyPath:"id"}).createIndex("store","store",{unique:!1}),t.oldVersion<3){var i=r.objectStore("files");i.createIndex("expires","expires",{unique:!1}),i.openCursor().onsuccess=function(e){var t=e.target.result;if(t){var n=t.value;n.expires=Date.now()+864e5,t.update(n)}}}r.oncomplete=function(){e(n)}},t.onsuccess=function(t){e(t.target.result)},t.onerror=n})}function zn(e){return new Promise(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=n})}function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zn(e){try{return JSON.parse(e)}catch(e){return null}}function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Kn,Gn,Jn,Xn=function(e){var t;return function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}},Qn=Xn(function(e,t){function n(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o=cc(e),s=o.source,a=o.id,l=o.path,u=i[a]&&l in i[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(r("ignoring socket cache for %s",s),n=Ed(s,t)):(i[a]||(r("new io instance for %s",s),i[a]=Ed(s,t)),n=i[a]),o.query&&!t.query&&(t.query=o.query),n.socket(o.path,t)}var r=lc("socket.io-client");e.exports=t=n;var i=t.managers={};t.protocol=wc.protocol,t.connect=n,t.Manager=Ed,t.Socket=xd}),er=Xn(function(e,t){}),tr=Xn(function(e,t){(function(e){"use strict";function n(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return n.__proto__=e.prototype,n}function e(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return o(e)}return r(e,t,n)}function r(t,r,i){if("string"==typeof t)return function(t,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var i=0|l(t,r),o=n(i),s=o.write(t,r);return s!==i&&(o=o.slice(0,s)),o}(t,r);if(ArrayBuffer.isView(t))return s(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(P(t,ArrayBuffer)||t&&P(t.buffer,ArrayBuffer))return function(t,n,r){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r)).__proto__=e.prototype,i}(t,r,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=t.valueOf&&t.valueOf();if(null!=o&&o!==t)return e.from(o,r,i);var u=function(t){if(e.isBuffer(t)){var r=0|a(t.length),i=n(r);return 0===i.length||t.copy(i,0,0,r),i}return void 0!==t.length?"number"!=typeof t.length||C(t.length)?n(0):s(t):"Buffer"===t.type&&Array.isArray(t.data)?s(t.data):void 0}(t);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return e.from(t[Symbol.toPrimitive]("string"),r,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function o(e){return i(e),n(e<0?0:0|a(e))}function s(e){for(var t=e.length<0?0:0|a(e.length),r=n(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function a(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function l(t,n){if(e.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||P(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return A(t).length;default:if(o)return i?-1:F(t).length;n=(""+n).toLowerCase(),o=!0}}function u(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function c(t,n,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),C(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:d(t,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):d(t,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function d(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var s,a=1,l=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,l/=2,u/=2,n/=2}if(i){var c=-1;for(s=n;s<l;s++)if(o(e,s)===o(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===u)return c*a}else-1!==c&&(s-=s-c),c=-1}else for(n+u>l&&(n=l-u),s=n;s>=0;s--){for(var d=!0,h=0;h<u;h++)if(o(e,s+h)!==o(t,h)){d=!1;break}if(d)return s}return-1}function h(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(C(a))return s;e[n+s]=a}return s}function p(e,t,n,r){return E(F(t,e.length-n),e,n,r)}function f(e,t,n,r){return E(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return f(e,t,n,r)}function g(e,t,n,r){return E(A(t),e,n,r)}function v(e,t,n,r){return E(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function y(e,t,n){return 0===t&&n===e.length?ss.fromByteArray(e):ss.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var t=e.length;if(t<=Y)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Y));return n}(r)}function b(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function w(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",s=t;s<n;++s)o+=(r=e[s])<16?"0"+r.toString(16):r.toString(16);return o}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function S(t,n,r,i,o,s){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function x(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,r,i){return t=+t,n>>>=0,i||x(e,0,n,4),ms.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,i){return t=+t,n>>>=0,i||x(e,0,n,8),ms.write(e,t,n,r,52,8),n+8}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function A(e){return ss.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function E(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function C(e){return e!=e}t.Buffer=e,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),e.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(e,t,n){return r(e,t,n)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(e,t,r){return function(e,t,r){return i(e),e<=0?n(e):void 0!==t?"string"==typeof r?n(e).fill(t,r):n(e).fill(t):n(e)}(e,t,r)},e.allocUnsafe=function(e){return o(e)},e.allocUnsafeSlow=function(e){return o(e)},e.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==e.prototype},e.compare=function(t,n){if(P(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),P(n,Uint8Array)&&(n=e.from(n,n.offset,n.byteLength)),!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0
;for(var r=t.length,i=n.length,o=0,s=Math.min(r,i);o<s;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),o=0;for(r=0;r<t.length;++r){var s=t[r];if(P(s,Uint8Array)&&(s=e.from(s)),!e.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},e.byteLength=l,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)u(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)u(this,t,t+3),u(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)u(this,t,t+7),u(this,t+1,t+6),u(this,t+2,t+5),u(this,t+3,t+4);return this},e.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return b(this,t,n);case"latin1":case"binary":return w(this,t,n);case"base64":return y(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},e.prototype.compare=function(t,n,r,i,o){if(P(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),!e.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===t)return 0;for(var s=(o>>>=0)-(i>>>=0),a=(r>>>=0)-(n>>>=0),l=Math.min(s,a),u=this.slice(i,o),c=t.slice(n,r),d=0;d<l;++d)if(u[d]!==c[d]){s=u[d],a=c[d];break}return s<a?-1:a<s?1:0},e.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},e.prototype.indexOf=function(e,t,n){return c(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return c(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return h(this,e,t,n);case"utf8":case"utf-8":return p(this,e,t,n);case"ascii":return f(this,e,t,n);case"latin1":case"binary":return m(this,e,t,n);case"base64":return g(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;e.prototype.slice=function(t,n){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t);var i=this.subarray(t,n);return i.__proto__=e.prototype,i},e.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},e.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),ms.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),ms.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),ms.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),ms.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||S(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||S(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},e.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,1,255,0),this[t]=255&e,t+1},e.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},e.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},e.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},e.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);S(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);S(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},e.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},e.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},e.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},e.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},e.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},e.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(!e.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o=i-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,i);else if(this===t&&r<n&&n<i)for(var s=o-1;s>=0;--s)t[s+n]=this[s+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),n);return o},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var o=t.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(t=o)}}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var s;if(n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=n;s<r;++s)this[s]=t;else{var a=e.isBuffer(t)?t:e.from(t,i),l=a.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-n;++s)this[s+n]=a[s%l]}return this};var j=/[^+\/0-9A-Za-z-_]/g}).call(this,tr({}).Buffer)}),nr=Kn={};!function(){try{Gn="function"==typeof setTimeout?setTimeout:e}catch(t){Gn=e}try{Jn="function"==typeof clearTimeout?clearTimeout:t}catch(e){Jn=t}}();var rr,ir=[],or=!1,sr=-1;nr.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];ir.push(new o(e,t)),1!==ir.length||or||n(i)},o.prototype.run=function(){this.fun.apply(null,this.array)},nr.title="browser",nr.browser=!0,nr.env={},nr.argv=[],nr.version="",nr.versions={},nr.on=s,nr.addListener=s,nr.once=s,nr.off=s,nr.removeListener=s,nr.removeAllListeners=s,nr.emit=s,nr.prependListener=s,nr.prependOnceListener=s,nr.listeners=function(e){return[]},nr.binding=function(e){throw new Error("process.binding is not supported")},nr.cwd=function(){return"/"},nr.chdir=function(e){throw new Error("process.chdir is not supported")},nr.umask=function(){return 0};var ar={exports:{}};(function(e,t){!function(e,t){"object"==typeof ar.exports?ar.exports=t():e.ES6Promise=t()}(this,function(){"use strict";function n(e){return"function"==typeof e}function r(){var e=setTimeout;return function(){return e(i,1)}}function i(){for(var e=0;e<k;e+=2)(0,E[e])(E[e+1]),E[e]=void 0,E[e+1]=void 0;k=0}function o(e,t){var n=this,r=new this.constructor(a);void 0===r[C]&&g(r);var i=n._state;if(i){var o=arguments[i-1];S(function(){return m(i,r,o,n._result)})}else p(n,r,e,t);return r}function s(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(a);return u(t,e),t}function a(){}function l(e,t,r){t.constructor===e.constructor&&r===o&&t.constructor.resolve===s?function(e,t){1===t._state?d(e,t._result):2===t._state?h(e,t._result):p(t,void 0,function(t){return u(e,t)},function(t){return h(e,t)})}(e,t):void 0===r?d(e,t):n(r)?function(e,t,n){S(function(e){var r=!1,i=function(n,i,o,s){try{n.call(i,function(n){r||(r=!0,t!==n?u(e,n):d(e,n))},function(t){r||(r=!0,h(e,t))})}catch(e){return e}}(n,t,0,0,e._label);!r&&i&&(r=!0,h(e,i))},e)}(e,t,r):d(e,t)}function u(e,t){if(e===t)h(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)d(e,t);else{var n=void 0;try{n=t.then}catch(t){return void h(e,t)}l(e,t,n)}var r,i}function c(e){e._onerror&&e._onerror(e._result),f(e)}function d(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&S(f,e))}function h(e,t){void 0===e._state&&(e._state=2,e._result=t,S(c,e))}function p(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=n,i[o+2]=r,0===o&&e._state&&S(f,e)}function f(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?m(n,r,i,o):i(o);e._subscribers.length=0}}function m(e,t,r,i){var o=n(r),s=void 0,a=void 0,l=!0;if(o){try{s=r(i)}catch(e){l=!1,a=e}if(t===s)return void h(t,new TypeError("A promises callback cannot return that same promise."))}else s=i;void 0!==t._state||(o&&l?u(t,s):!1===l?h(t,a):1===e?d(t,s):2===e&&h(t,s))}function g(e){e[C]=Y++,e._state=void 0,e._result=void 0,e._subscribers=[]}var v,y,_,b,w=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},k=0,L=void 0,M=void 0,S=function(e,t){E[k]=e,E[k+1]=t,2===(k+=2)&&(M?M(i):P())},x="undefined"!=typeof window?window:void 0,T=x||{},D=T.MutationObserver||T.WebKitMutationObserver,F="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,E=new Array(1e3),P=void 0;F?P=function(){return e.nextTick(i)}:D?(y=0,_=new D(i),b=document.createTextNode(""),_.observe(b,{characterData:!0}),P=function(){b.data=y=++y%2}):A?((v=new MessageChannel).port1.onmessage=i,P=function(){return v.port2.postMessage(0)}):P=void 0===x?function(){try{var e=Function("return this")().require("vertx");return void 0!==(L=e.runOnLoop||e.runOnContext)?function(){L(i)}:r()}catch(e){return r()}}():r();var C=Math.random().toString(36).substring(2),Y=0,j=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(a),this.promise[C]||g(this.promise),w(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&d(this.promise,this._result))):h(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===s){var i=void 0,u=void 0,c=!1;try{i=e.then}catch(e){c=!0,u=e}if(i===o&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===O){var d=new n(a);c?h(d,u):l(d,e,i),this._willSettleAt(d,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?h(r,n):this._result[t]=n),0===this._remaining&&d(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;p(e,void 0,function(e){return n._settledAt(1,t,e)},function(e){return n._settledAt(2,t,e)})},e}(),O=function(){function e(t){this[C]=Y++,this._result=this._state=void 0,this._subscribers=[],a!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){u(e,t)},function(t){h(e,t)})}catch(t){h(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return n(e)?this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})}):this.then(e,e)},e}();return O.prototype.then=o,O.all=function(e){return new j(this,e).promise},O.race=function(e){var t=this;return new t(w(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},O.resolve=s,O.reject=function(e){var t=new this(a);return h(t,e),t},O._setScheduler=function(e){M=e},O._setAsap=function(e){S=e},O._asap=S,O.polyfill=function(){var e=void 0;if(void 0!==t)e=t;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}e.Promise=O},O.Promise=O,O})}).call(this,Kn,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),(ar=ar.exports).polyfill();var lr,ur={exports:{}};lr=function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:g&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:v&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:f&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():y&&g&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):y&&(ArrayBuffer.prototype.isPrototypeOf(e)||b(e))?this._bodyArrayBuffer=l(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e,t,n,r=o(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=s(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e,t){var n,r,o=(t=t||{}).body;if(e instanceof c){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function h(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}function p(t,n){return new Promise(function(r,o){function s(){l.abort()}var a=new c(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;l.onload=function(){var e,t,n={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new i,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var o="response"in l?l.response:l.responseText;r(new h(o,n))},l.onerror=function(){o(new TypeError("Network request failed"))},l.ontimeout=function(){o(new TypeError("Network request failed"))},l.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},l.open(a.method,a.url,!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&g&&(l.responseType="blob"),a.headers.forEach(function(e,t){l.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",s),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",s)}),l.send(void 0===a._bodyInit?null:a._bodyInit)})}var f="URLSearchParams"in self,m="Symbol"in self&&"iterator"in Symbol,g="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),v="FormData"in self,y="ArrayBuffer"in self;if(y)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(e){return e&&_.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+", "+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},u.call(c.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];h.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.DOMException=self.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}p.polyfill=!0,self.fetch||(self.fetch=p,self.Headers=i,self.Request=c,self.Response=h),e.Headers=i,e.Request=c,e.Response=h,e.fetch=p,Object.defineProperty(e,"__esModule",{value:!0})},lr("object"==typeof ur.exports?ur.exports:this.WHATWGFetch={}),ur=ur.exports;var cr,dr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},hr=function(){function e(e){var t=this;this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(e)?e.forEach(function(e){return t._apply(e)}):this._apply(e)}var t=e.prototype;return t._apply=function(e){if(e&&e.strings){var t=this.locale;this.locale=a({},t,{strings:a({},t.strings,e.strings)}),this.locale.pluralize=e.pluralize||t.pluralize}},t.interpolate=function(e,t){var n=String.prototype,r=n.split,i=n.replace,o=/\$/g,s=[e];for(var a in t)if("_"!==a&&dr(t,a)){var l=t[a];"string"==typeof l&&(l=i.call(t[a],o,"$$$$")),s=function(e,t,n){var i=[];return e.forEach(function(e){if("string"!=typeof e)return i.push(e);r.call(e,t).forEach(function(e,t,r){""!==e&&i.push(e),t<r.length-1&&i.push(n)})}),i}(s,new RegExp("%\\{"+a+"\\}","g"),l)}return s},t.translate=function(e,t){return this.translateArray(e,t).join("")},t.translateArray=function(e,t){if(!dr(this.locale.strings,e))throw new Error("missing string: "+e);var n=this.locale.strings[e];if("object"==typeof n){if(t&&void 0!==t.smart_count){var r=this.locale.pluralize(t.smart_count);return this.interpolate(n[r],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return this.interpolate(n,t)},e}(),pr=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,o,s,a){var l=function(e){for(var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],o=Object.keys(t),s=0,a=o.length;s<a;s++){var l=o[s];if("*"===l&&(n=n.concat(t[l])),2===i.length&&i[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){for(var r=0,i=t.length;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,l,[n,r,i,o,s,a])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,function r(){n.apply(this,arguments),e.off(t,r)})},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,o=r?r.length:0;i<o;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e},fr=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},mr="object"==typeof window?window:self,gr=Object.keys(mr).length,vr=fr(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+gr.toString(36),4),yr=function(){return vr},_r="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(_r){var br=Math.pow(2,32)-1;cr=function(){return Math.abs(_r.getRandomValues(new Uint32Array(1))[0]/br)}}else cr=Math.random;var wr=cr,kr={},Lr=0,Mr=Math.pow(36,4);c.slug=function(){var e=(new Date).getTime().toString(36),t=u().toString(36).slice(-4),n=yr().slice(0,1)+yr().slice(-1),r=l().slice(-2);return e.slice(-2)+t+n+r},c.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},c.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return t>=7&&t<=10},c.fingerprint=yr,kr=c;var Sr={};(function(e){function t(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function n(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(t(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=t(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var l=o.test(e);return l||s.test(e)?a(e.slice(2),l?2:8):i.test(e)?NaN:+e}var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return c.Date.now()};Sr=function(e,r,i){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),function(e,r,i){function o(t){var n=c,r=d;return c=d=void 0,_=t,g=e.apply(r,n)}function s(e){var t=e-y;return void 0===y||t>=r||t<0||w&&e-_>=m}function a(){var e=f();if(s(e))return l(e);v=setTimeout(a,function(e){var t=r-(e-y);return w?p(t,m-(e-_)):t}(e))}function l(e){return v=void 0,k&&c?o(e):(c=d=void 0,g)}function u(){var e=f(),t=s(e);if(c=arguments,d=this,y=e,t){if(void 0===v)return function(e){return _=e,v=setTimeout(a,r),b?o(e):g}(y);if(w)return v=setTimeout(a,r),o(y)}return void 0===v&&(v=setTimeout(a,r)),g}var c,d,m,g,v,y,_=0,b=!1,w=!1,k=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r=n(r)||0,t(i)&&(b=!!i.leading,m=(w="maxWait"in i)?h(n(i.maxWait)||0,r):m,k="trailing"in i?!!i.trailing:k),u.cancel=function(){void 0!==v&&clearTimeout(v),_=0,c=y=d=v=void 0},u.flush=function(){return void 0===v?g:l(f())},u}(e,r,{leading:o,maxWait:r,trailing:s})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var xr,Tr=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,r));var i=n[r];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+i:(t?"-":"")+e.toFixed(1)+" "+i};d.prototype.match=function(e){var t,n,r=!0,i=this.parts,o=i.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;r&&t<o;t++)"*"!==i[t]&&(r=t<n.length&&i[t]===n[t]);r=r&&n}else r=!1;else if("function"==typeof e.splice)for(r=[],t=e.length;t--;)this.match(e[t])&&(r[r.length]=e[t]);else if("object"==typeof e)for(var s in r={},e)this.match(s)&&(r[s]=e[s]);return r},xr=function(e,t,n){var r=new d(e,n||/[\/\.]/);return void 0!==t?r.match(t):r};var Dr,Fr=/[\/\+\.]/,Ar=function(){function e(){this.state={},this.callbacks=[]}var t=e.prototype;return t.getState=function(){return this.state},t.setState=function(e){var t=h({},this.state),n=h({},this.state,e);this.state=n,this._publish(t,n,e)},t.subscribe=function(e){var t=this;return this.callbacks.push(e),function(){t.callbacks.splice(t.callbacks.indexOf(e),1)}},t._publish=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.forEach(function(e){e.apply(void 0,t)})},e}();Ar.VERSION="1.2.4",Dr=function(){return new Ar};var Er=function(e){var t=e.lastIndexOf(".")
;return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}},Pr={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf"},Cr=function(e){var t=e.name?Er(e.name).extension:null;return t=t?t.toLowerCase():null,e.type?e.type:t&&Pr[t]?Pr[t]:"application/octet-stream"},Yr=function(e){var t="uppy";return"string"==typeof e.name&&(t+="-"+p(e.name.toLowerCase())),void 0!==e.type&&(t+="-"+e.type),e.meta&&"string"==typeof e.meta.relativePath&&(t+="-"+p(e.meta.relativePath.toLowerCase())),void 0!==e.data.size&&(t+="-"+e.data.size),void 0!==e.data.lastModified&&(t+="-"+e.data.lastModified),t},jr=function(e){if(null==e&&(e="undefined"!=typeof navigator?navigator.userAgent:null),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split("."),r=n[0],i=n[1];return r=parseInt(r,10),i=parseInt(i,10),r<15||15===r&&i<15063||r>18||18===r&&i>=18218},Or=function(){var e=new Date;return f(e.getHours().toString())+":"+f(e.getMinutes().toString())+":"+f(e.getSeconds().toString())},Rr={justErrorsLogger:{debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] ["+Or()+"]"].concat(n))}},debugLogger:{debug:function(){for(var e=console.debug||console.log,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.call.apply(e,[console,"[Uppy] ["+Or()+"]"].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] ["+Or()+"]"].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] ["+Or()+"]"].concat(n))}}},Ir={exports:{}};!function(){"use strict";function e(){}function t(t,n){var r,i,o,s,a=k;for(s=arguments.length;s-- >2;)w.push(arguments[s]);for(n&&null!=n.children&&(w.length||w.push(n.children),delete n.children);w.length;)if((i=w.pop())&&void 0!==i.pop)for(s=i.length;s--;)w.push(i[s]);else"boolean"==typeof i&&(i=null),(o="function"!=typeof t)&&(null==i?i="":"number"==typeof i?i=String(i):"string"!=typeof i&&(o=!1)),o&&r?a[a.length-1]+=i:a===k?a=[i]:a.push(i),r=o;var l=new e;return l.nodeName=t,l.children=a,l.attributes=null==n?void 0:n,l.key=null==n?void 0:n.key,void 0!==b.vnode&&b.vnode(l),l}function n(e,t){for(var n in t)e[n]=t[n];return e}function r(e){!e.__d&&(e.__d=!0)&&1==S.push(e)&&(b.debounceRendering||L)(i)}function i(){var e,t=S;for(S=[];e=t.pop();)e.__d&&v(e)}function o(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function s(e){var t=n({},e.attributes);t.children=e.children;var r=e.nodeName.defaultProps;if(void 0!==r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);return t}function a(e){var t=e.parentNode;t&&t.removeChild(e)}function l(e,t,n,r,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||i)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var o in n)o in r||(e.style[o]="");for(var o in r)e.style[o]="number"==typeof r[o]&&!1===M.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var s=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,u,s):e.removeEventListener(t,u,s),(e.__l||(e.__l={}))[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var a=i&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function u(e){return this.__l[e.type](b.event&&b.event(e)||e)}function c(){for(var e;e=x.pop();)b.afterMount&&b.afterMount(e),e.componentDidMount&&e.componentDidMount()}function d(e,t,n,r,i,u){T++||(D=null!=i&&void 0!==i.ownerSVGElement,F=null!=e&&!("__preactattr_"in e));var d=function e(t,n,r,i,u){var c=t,d=D;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||u)?t.nodeValue!=n&&(t.nodeValue=n):(c=document.createTextNode(n),t&&(t.parentNode&&t.parentNode.replaceChild(c,t),h(t,!0))),c.__preactattr_=!0,c;var p,m,v=n.nodeName;if("function"==typeof v)return function(e,t,n,r){for(var i=e&&e._component,o=i,a=e,l=i&&e._componentConstructor===t.nodeName,u=l,c=s(t);i&&!u&&(i=i.__u);)u=i.constructor===t.nodeName;return i&&u&&(!r||i._component)?(g(i,c,3,n,r),e=i.base):(o&&!l&&(y(o),e=a=null),i=f(t.nodeName,c,n),e&&!i.__b&&(i.__b=e,a=null),g(i,c,1,n,r),e=i.base,a&&e!==a&&(a._component=null,h(a,!1))),e}(t,n,r,i);if(D="svg"===v||"foreignObject"!==v&&D,v=String(v),(!t||!o(t,v))&&(p=v,(m=D?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p)).__n=p,c=m,t)){for(;t.firstChild;)c.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(c,t),h(t,!0)}var _=c.firstChild,b=c.__preactattr_,w=n.children;if(null==b){b=c.__preactattr_={};for(var k=c.attributes,L=k.length;L--;)b[k[L].name]=k[L].value}return!F&&w&&1===w.length&&"string"==typeof w[0]&&null!=_&&void 0!==_.splitText&&null==_.nextSibling?_.nodeValue!=w[0]&&(_.nodeValue=w[0]):(w&&w.length||null!=_)&&function(t,n,r,i,s){var l,u,c,d,p,f,m,g,v=t.childNodes,y=[],_={},b=0,w=0,k=v.length,L=0,M=n?n.length:0;if(0!==k)for(var S=0;S<k;S++){var x=v[S],T=x.__preactattr_;null!=(D=M&&T?x._component?x._component.__k:T.key:null)?(b++,_[D]=x):(T||(void 0!==x.splitText?!s||x.nodeValue.trim():s))&&(y[L++]=x)}if(0!==M)for(S=0;S<M;S++){var D;if(p=null,null!=(D=(d=n[S]).key))b&&void 0!==_[D]&&(p=_[D],_[D]=void 0,b--);else if(!p&&w<L)for(l=w;l<L;l++)if(void 0!==y[l]&&(f=u=y[l],g=s,"string"==typeof(m=d)||"number"==typeof m?void 0!==f.splitText:"string"==typeof m.nodeName?!f._componentConstructor&&o(f,m.nodeName):g||f._componentConstructor===m.nodeName)){p=u,y[l]=void 0,l===L-1&&L--,l===w&&w++;break}p=e(p,d,r,i),c=v[S],p&&p!==t&&p!==c&&(null==c?t.appendChild(p):p===c.nextSibling?a(c):t.insertBefore(p,c))}if(b)for(var S in _)void 0!==_[S]&&h(_[S],!1);for(;w<=L;)void 0!==(p=y[L--])&&h(p,!1)}(c,w,r,i,F||null!=b.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||l(e,r,n[r],n[r]=void 0,D);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||l(e,r,n[r],n[r]=t[r],D)}(c,n.attributes,b),D=d,c}(e,t,n,r,u);return i&&d.parentNode!==i&&i.appendChild(d),--T||(F=!1,u||c()),d}function h(e,t){var n=e._component;n?y(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||a(e),p(e))}function p(e){for(e=e.lastChild;e;){var t=e.previousSibling;h(e,!0),e=t}}function f(e,t,n){var r,i=A[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),_.call(r,t,n)):((r=new _(t,n)).constructor=e,r.render=m),i)for(var o=i.length;o--;)if(i[o].constructor===e){r.__b=i[o].__b,i.splice(o,1);break}return r}function m(e,t,n){return this.constructor(e,n)}function g(e,t,n,i,o){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i),i&&i!==e.context&&(e.__c||(e.__c=e.context),e.context=i),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===b.syncComponentUpdates&&e.base?r(e):v(e,1,o)),e.__r&&e.__r(e))}function v(e,t,r,i){if(!e.__x){var o,a,l,u=e.props,p=e.state,m=e.context,_=e.__p||u,w=e.__s||p,k=e.__c||m,L=e.base,M=e.__b,S=L||M,D=e._component,F=!1;if(L&&(e.props=_,e.state=w,e.context=k,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(u,p,m)?F=!0:e.componentWillUpdate&&e.componentWillUpdate(u,p,m),e.props=u,e.state=p,e.context=m),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!F){o=e.render(u,p,m),e.getChildContext&&(m=n(n({},m),e.getChildContext()));var A,E,P=o&&o.nodeName;if("function"==typeof P){var C=s(o);(a=D)&&a.constructor===P&&C.key==a.__k?g(a,C,1,m,!1):(A=a,e._component=a=f(P,C,m),a.__b=a.__b||M,a.__u=e,g(a,C,0,m,!1),v(a,1,r,!0)),E=a.base}else l=S,(A=D)&&(l=e._component=null),(S||1===t)&&(l&&(l._component=null),E=d(l,o,m,r||!L,S&&S.parentNode,!0));if(S&&E!==S&&a!==D){var Y=S.parentNode;Y&&E!==Y&&(Y.replaceChild(E,S),A||(S._component=null,h(S,!1)))}if(A&&y(A),e.base=E,E&&!i){for(var j=e,O=e;O=O.__u;)(j=O).base=E;E._component=j,E._componentConstructor=j.constructor}}if(!L||r?x.unshift(e):F||(e.componentDidUpdate&&e.componentDidUpdate(_,w,k),b.afterUpdate&&b.afterUpdate(e)),null!=e.__h)for(;e.__h.length;)e.__h.pop().call(e);T||i||c()}}function y(e){b.beforeUnmount&&b.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?y(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,a(t),function(e){var t=e.constructor.name;(A[t]||(A[t]=[])).push(e)}(e),p(t)),e.__r&&e.__r(null)}function _(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}var b={},w=[],k=[],L="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,M=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,S=[],x=[],T=0,D=!1,F=!1,A={};n(_.prototype,{setState:function(e,t){var i=this.state;this.__s||(this.__s=n({},i)),n(i,"function"==typeof e?e(i,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),v(this,2)},render:function(){}});var E={h:t,createElement:t,cloneElement:function(e,r){return t(e.nodeName,n(n({},e.attributes),r),arguments.length>2?[].slice.call(arguments,2):e.children)},Component:_,render:function(e,t,n){return d(n,e,{},!1,t,!1)},rerender:i,options:b};Ir.exports=E}(),Ir=Ir.exports;var Ur,Hr=function(e){return e&&"object"==typeof e&&e.nodeType===Node.ELEMENT_NODE},Nr=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):Hr(e)?e:void 0},zr=function(){function e(e,t){this.uppy=e,this.opts=t||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}var t=e.prototype;return t.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},t.setPluginState=function(e){var t,n=this.uppy.getState().plugins;this.uppy.setState({plugins:m({},n,(t={},t[this.id]=m({},n[this.id],e),t))})},t.setOptions=function(e){this.opts=m({},this.opts,e),this.setPluginState()},t.update=function(e){void 0!==this.el&&this._updateUI&&this._updateUI(e)},t.afterUpdate=function(){},t.onMount=function(){},t.mount=function(t,n){var r,i,o,s,a=this,l=n.id,u=Nr(t);if(u)return this.isTargetDOMEl=!0,this.rerender=function(e){a.uppy.getPlugin(a.id)&&(a.el=Ir.render(a.render(e),u,a.el),a.afterUpdate())},this._updateUI=(r=this.rerender,i=null,o=null,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o=t,i||(i=Promise.resolve().then(function(){return i=null,r.apply(void 0,o)})),i}),this.uppy.log("Installing "+l+" to a DOM element '"+t+"'"),this.opts.replaceTargetContent&&(u.innerHTML=""),this.el=Ir.render(this.render(this.uppy.getState()),u),this.onMount(),this.el;if("object"==typeof t&&t instanceof e)s=t;else if("function"==typeof t){var c=t;this.uppy.iteratePlugins(function(e){if(e instanceof c)return s=e,!1})}if(s)return this.uppy.log("Installing "+l+" to "+s.id),this.parent=s,this.el=s.addTarget(n),this.onMount(),this.el;this.uppy.log("Not installing "+l);var d="Invalid target option given to "+l+".";throw new Error(d+="function"==typeof t?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.")},t.render=function(e){throw new Error("Extend the render method to add your plugin to a DOM element")},t.addTarget=function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},t.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},t.install=function(){},t.uninstall=function(){this.unmount()},e}(),Br=Rr.justErrorsLogger,Zr=Rr.debugLogger,qr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).isRestriction=!0,t}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t}(y(Error)),Wr=function(){function e(e){var t=this;this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize2:"%{backwardsCompat} %{size}",exceedsSize:"This file exceeds maximum allowed size of",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noNewAlreadyUploading:"Cannot add new files: already uploading",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},selectAllFilesFromFolderNamed:"Select all files from folder %{name}",unselectAllFilesFromFolderNamed:"Unselect all files from folder %{name}",selectFileNamed:"Select file %{name}",unselectFileNamed:"Unselect file %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",emptyFolderAdded:"No files were added from empty folder",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};var n={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(e,t){return e},onBeforeUpload:function(e){return e},store:Dr(),logger:Br};if(this.opts=g({},n,e,{restrictions:g({},n.restrictions,e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=Zr),this.log("Using Core v"+this.constructor.VERSION),this.opts.restrictions.allowedFileTypes&&null!==this.opts.restrictions.allowedFileTypes&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this._calculateProgress=Sr(this._calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=pr(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:jr(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:g({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(e,n,r){t.emit("state-update",e,n,r),t.updateAll(n)}),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),this._addListeners()}var t,n,r=e.prototype;return r.on=function(e,t){return this.emitter.on(e,t),this},r.off=function(e,t){return this.emitter.off(e,t),this},r.updateAll=function(e){this.iteratePlugins(function(t){t.update(e)})},r.setState=function(e){this.store.setState(e)},r.getState=function(){return this.store.getState()},r.setFileState=function(e,t){var n;if(!this.getState().files[e])throw new Error("Cant set state for "+e+" (the file could have been removed)");this.setState({files:g({},this.getState().files,(n={},n[e]=g({},this.getState().files[e],t),n))})},r.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.opts.locale]),this.locale=this.translator.locale,this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator)},r.setOptions=function(e){this.opts=g({},this.opts,e,{restrictions:g({},this.opts.restrictions,e&&e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(function(e){e.setOptions()}),this.setState()},r.resetProgress=function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=g({},this.getState().files),n={};Object.keys(t).forEach(function(r){var i=g({},t[r]);i.progress=g({},i.progress,e),n[r]=i}),this.setState({files:n,totalProgress:0}),this.emit("reset-progress")},r.addPreProcessor=function(e){this.preProcessors.push(e)},r.removePreProcessor=function(e){var t=this.preProcessors.indexOf(e);-1!==t&&this.preProcessors.splice(t,1)},r.addPostProcessor=function(e){this.postProcessors.push(e)},r.removePostProcessor=function(e){var t=this.postProcessors.indexOf(e);-1!==t&&this.postProcessors.splice(t,1)},r.addUploader=function(e){this.uploaders.push(e)},r.removeUploader=function(e){var t=this.uploaders.indexOf(e);-1!==t&&this.uploaders.splice(t,1)},r.setMeta=function(e){var t=g({},this.getState().meta,e),n=g({},this.getState().files);Object.keys(n).forEach(function(t){n[t]=g({},n[t],{meta:g({},n[t].meta,e)})}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})},r.setFileMeta=function(e,t){var n=g({},this.getState().files);if(n[e]){var r=g({},n[e].meta,t);n[e]=g({},n[e],{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)},r.getFile=function(e){return this.getState().files[e]},r.getFiles=function(){var e=this.getState().files;return Object.keys(e).map(function(t){return e[t]})},r._checkMinNumberOfFiles=function(e){var t=this.opts.restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new qr(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))},r._checkRestrictions=function(e,t){var n=this.opts.restrictions,r=n.maxFileSize,i=n.minFileSize,o=n.maxNumberOfFiles,s=n.allowedFileTypes;if(o&&Object.keys(e).length+1>o)throw new qr(""+this.i18n("youCanOnlyUploadX",{smart_count:o}));if(s&&!s.some(function(e){return e.indexOf("/")>-1?!!t.type&&function(e,t){function n(t){var n=xr(t,e,Fr);return n&&n.length>=2}return t?n(t.split(";")[0]):n}(t.type.replace(/;.*?$/,""),e):"."===e[0]&&t.extension.toLowerCase()===e.substr(1).toLowerCase()})){var a=s.join(", ");throw new qr(this.i18n("youCanOnlyUploadFileTypes",{types:a}))}if(r&&null!=t.data.size&&t.data.size>r)throw new qr(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:Tr(r)}));if(i&&null!=t.data.size&&t.data.size<i)throw new qr(this.i18n("inferiorSize",{size:Tr(i)}))},r._showOrLogErrorAndThrow=function(e,t){var n=void 0===t?{}:t,r=n.showInformer,i=void 0===r||r,o=n.file,s=void 0===o?null:o,a=n.throwErr,l=void 0===a||a,u="object"==typeof e?e.message:e,c="object"==typeof e&&e.details?e.details:"",d=u;if(c&&(d+=" "+c),e.isRestriction?(this.log(d),this.emit("restriction-failed",s,e)):this.log(d,"error"),i&&this.info({message:u,details:c},"error",5e3),l)throw"object"==typeof e?e:new Error(e)},r._assertNewUploadAllowed=function(e){!1===this.getState().allowNewUpload&&this._showOrLogErrorAndThrow(new qr(this.i18n("noNewAlreadyUploading")),{file:e})},r._checkAndCreateFileStateObject=function(e,t){var n=Cr(t);t.type=n;var r,i=this.opts.onBeforeFileAdded(t,e);!1===i&&this._showOrLogErrorAndThrow(new qr("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,file:t}),"object"==typeof i&&i&&(t=i),r=t.name?t.name:"image"===n.split("/")[0]?n.split("/")[0]+"."+n.split("/")[1]:"noname";var o=Er(r).extension,s=t.isRemote||!1,a=Yr(t);e[a]&&this._showOrLogErrorAndThrow(new qr(this.i18n("noDuplicates",{fileName:r})),{file:t});var l=t.meta||{};l.name=r,l.type=n;var u=isFinite(t.data.size)?t.data.size:null,c={source:t.source||"",id:a,name:r,extension:o||"",meta:g({},this.getState().meta,l),type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:u,uploadComplete:!1,uploadStarted:null},size:u,isRemote:s,remote:t.remote||"",preview:t.preview};try{this._checkRestrictions(e,c)}catch(e){this._showOrLogErrorAndThrow(e,{file:c})}return c},r._startIfAutoProceed=function(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){e.scheduledAutoProceed=null,e.upload().catch(function(t){t.isRestriction||e.log(t.stack||t.message||t)})},4))},r.addFile=function(e){var t;this._assertNewUploadAllowed(e);var n=this.getState().files,r=this._checkAndCreateFileStateObject(n,e);return this.setState({files:g({},n,(t={},t[r.id]=r,t))}),this.emit("file-added",r),this.log("Added file: "+r.name+", "+r.id+", mime type: "+r.type),this._startIfAutoProceed(),r.id},r.addFiles=function(e){var t=this;this._assertNewUploadAllowed();for(var n=g({},this.getState().files),r=[],i=[],o=0;o<e.length;o++)try{var s=this._checkAndCreateFileStateObject(n,e[o]);r.push(s),n[s.id]=s}catch(l){l.isRestriction||i.push(l)}if(this.setState({files:n}),r.forEach(function(e){t.emit("file-added",e)}),r.length>5?this.log("Added batch of "+r.length+" files"):Object.keys(r).forEach(function(e){t.log("Added file: "+r[e].name+"\n id: "+r[e].id+"\n type: "+r[e].type)}),r.length>0&&this._startIfAutoProceed(),i.length>0){var a="Multiple errors occurred while adding files:\n";i.forEach(function(e){a+="\n * "+e.message}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:i.length}),details:a},"error",5e3);var l=new Error(a);throw l.errors=i,l}},r.removeFiles=function(e,t){function n(e){return void 0===u[e]}var r=this,i=this.getState(),o=i.files,s=i.currentUploads,a=g({},o),l=g({},s),u=Object.create(null);e.forEach(function(e){o[e]&&(u[e]=o[e],delete a[e])});var c=[];Object.keys(l).forEach(function(e){var t=s[e].fileIDs.filter(n);0!==t.length?l[e]=g({},s[e],{fileIDs:t}):c.push(e)}),c.forEach(function(e){delete l[e]});var d={currentUploads:l,files:a};0===Object.keys(a).length&&(d.allowNewUpload=!0,d.error=null),this.setState(d),this._calculateTotalProgress();var h=Object.keys(u);h.forEach(function(e){r.emit("file-removed",u[e],t)}),h.length>5?this.log("Removed "+h.length+" files"):this.log("Removed files: "+h.join(", "))},r.removeFile=function(e,t){void 0===t&&(t=null),this.removeFiles([e],t)},r.pauseResume=function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).uploadComplete){var t=!this.getFile(e).isPaused;return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}},r.pauseAll=function(){var e=g({},this.getState().files);Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted}).forEach(function(t){var n=g({},e[t],{isPaused:!0});e[t]=n}),this.setState({files:e}),this.emit("pause-all")},r.resumeAll=function(){var e=g({},this.getState().files);Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted}).forEach(function(t){var n=g({},e[t],{isPaused:!1,error:null});e[t]=n}),this.setState({files:e}),this.emit("resume-all")},r.retryAll=function(){var e=g({},this.getState().files),t=Object.keys(e).filter(function(t){return e[t].error});if(t.forEach(function(t){var n=g({},e[t],{isPaused:!1,error:null});e[t]=n}),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=this._createUpload(t,{forceAllowNewUpload:!0});return this._runUpload(n)},r.cancelAll=function(){this.emit("cancel-all");var e=this.getState().files,t=Object.keys(e);t.length&&this.removeFiles(t,"cancel-all"),this.setState({totalProgress:0,error:null})},r.retryUpload=function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=this._createUpload([e],{forceAllowNewUpload:!0});return this._runUpload(t)},r.reset=function(){this.cancelAll()},r._calculateProgress=function(e,t){if(this.getFile(e.id)){var n=isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:g({},this.getFile(e.id).progress,{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:n?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),this._calculateTotalProgress()}else this.log("Not setting progress for a file that has been removed: "+e.id)},r._calculateTotalProgress=function(){var e=this.getFiles().filter(function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess});if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter(function(e){return null!=e.progress.bytesTotal}),n=e.filter(function(e){return null==e.progress.bytesTotal});if(0!==t.length){var r=t.reduce(function(e,t){return e+t.progress.bytesTotal},0),i=r/t.length;r+=i*n.length;var o=0;t.forEach(function(e){o+=e.progress.bytesUploaded}),n.forEach(function(e){o+=i*(e.progress.percentage||0)/100});var s=0===r?0:Math.round(o/r*100);s>100&&(s=100),this.setState({totalProgress:s}),this.emit("progress",s)}else{var a=100*e.length,l=n.reduce(function(e,t){return e+t.progress.percentage},0),u=Math.round(l/a*100);this.setState({totalProgress:u})}},r._addListeners=function(){var e=this;this.on("error",function(t){var n="Unknown error";t.message&&(n=t.message),t.details&&(n+=" "+t.details),e.setState({error:n})}),this.on("upload-error",function(t,n,r){var i="Unknown error";if(n.message&&(i=n.message),n.details&&(i+=" "+n.details),e.setFileState(t.id,{error:i,response:r}),e.setState({error:n.message}),"object"==typeof n&&n.message){var o=new Error(n.message);o.details=n.message,n.details&&(o.details+=" "+n.details),o.message=e.i18n("failedToUpload",{file:t.name}),e._showOrLogErrorAndThrow(o,{throwErr:!1})}else e._showOrLogErrorAndThrow(n,{throwErr:!1})}),this.on("upload",function(){e.setState({error:null})}),this.on("upload-started",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("upload-progress",this._calculateProgress),this.on("upload-success",function(t,n){if(e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:g({},r,{uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),e._calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("preprocess-progress",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:g({},e.getFile(t.id).progress,{preprocess:n})}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("preprocess-complete",function(t){if(e.getFile(t.id)){var n=g({},e.getState().files);n[t.id]=g({},n[t.id],{progress:g({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("postprocess-progress",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:g({},e.getState().files[t.id].progress,{postprocess:n})}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("postprocess-complete",function(t){if(e.getFile(t.id)){var n=g({},e.getState().files);n[t.id]=g({},n[t.id],{progress:g({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("restored",function(){e._calculateTotalProgress()}),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",function(){return e.updateOnlineStatus()}),window.addEventListener("offline",function(){return e.updateOnlineStatus()}),setTimeout(function(){return e.updateOnlineStatus()},3e3))},r.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},r.getID=function(){return this.opts.id},r.use=function(e,t){if("function"!=typeof e)throw new TypeError("Expected a plugin class, but got "+(null===e?"null":typeof e)+". Please verify that the plugin was imported and spelled correctly.");var n=new e(this,t),r=n.id;if(this.plugins[n.type]=this.plugins[n.type]||[],!r)throw new Error("Your plugin must have an id")
;if(!n.type)throw new Error("Your plugin must have a type");var i=this.getPlugin(r);if(i){var o="Already found a plugin named '"+i.id+"'. Tried to use: '"+r+"'.\nUppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(o)}return e.VERSION&&this.log("Using "+r+" v"+e.VERSION),this.plugins[n.type].push(n),n.install(),this},r.getPlugin=function(e){var t=null;return this.iteratePlugins(function(n){if(n.id===e)return t=n,!1}),t},r.iteratePlugins=function(e){var t=this;Object.keys(this.plugins).forEach(function(n){t.plugins[n].forEach(e)})},r.removePlugin=function(e){this.log("Removing plugin "+e.id),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=this.plugins[e.type].slice(),n=t.indexOf(e);-1!==n&&(t.splice(n,1),this.plugins[e.type]=t);var r=this.getState();delete r.plugins[e.id],this.setState(r)},r.close=function(){var e=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(t){e.removePlugin(t)})},r.info=function(e,t,n){void 0===t&&(t="info"),void 0===n&&(n=3e3);var r="object"==typeof e;this.setState({info:{isHidden:!1,type:t,message:r?e.message:e,details:r?e.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==n?setTimeout(this.hideInfo,n):void 0},r.hideInfo=function(){var e=g({},this.getState().info,{isHidden:!0});this.setState({info:e}),this.emit("info-hidden")},r.log=function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}},r.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},r.restore=function(e){return this.log('Core: attempting to restore upload "'+e+'"'),this.getState().currentUploads[e]?this._runUpload(e):(this._removeUpload(e),Promise.reject(new Error("Nonexistent upload")))},r._createUpload=function(e,t){var n;void 0===t&&(t={});var r=t.forceAllowNewUpload,i=void 0!==r&&r,o=this.getState(),s=o.allowNewUpload,a=o.currentUploads;if(!s&&!i)throw new Error("Cannot create a new upload: already uploading.");var l=kr();return this.emit("upload",{id:l,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploads,currentUploads:g({},a,(n={},n[l]={fileIDs:e,step:0,result:{}},n))}),l},r._getUpload=function(e){return this.getState().currentUploads[e]},r.addResultData=function(e,t){var n;if(this._getUpload(e)){var r=this.getState().currentUploads,i=g({},r[e],{result:g({},r[e].result,t)});this.setState({currentUploads:g({},r,(n={},n[e]=i,n))})}else this.log("Not setting result for an upload that has been removed: "+e)},r._removeUpload=function(e){var t=g({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})},r._runUpload=function(e){var t=this,n=this.getState().currentUploads[e].step,r=[].concat(this.preProcessors,this.uploaders,this.postProcessors),i=Promise.resolve();return r.forEach(function(r,o){o<n||(i=i.then(function(){var n,i=t.getState().currentUploads,s=i[e];if(s){var a=g({},s,{step:o});return t.setState({currentUploads:g({},i,(n={},n[e]=a,n))}),r(a.fileIDs,e)}}).then(function(e){return null}))}),i.catch(function(n){t.emit("error",n,e),t._removeUpload(e)}),i.then(function(){var n=t.getState().currentUploads[e];if(n){var r=n.fileIDs.map(function(e){return t.getFile(e)}),i=r.filter(function(e){return!e.error}),o=r.filter(function(e){return e.error});t.addResultData(e,{successful:i,failed:o,uploadID:e})}}).then(function(){var n=t.getState().currentUploads;if(n[e]){var r=n[e].result;return t.emit("complete",r),t._removeUpload(e),r}}).then(function(n){return null==n&&t.log("Not setting result for an upload that has been removed: "+e),n})},r.upload=function(){var e=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var t=this.getState().files,n=this.opts.onBeforeUpload(t);return!1===n?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&"object"==typeof n&&(t=n,this.setState({files:t})),Promise.resolve().then(function(){return e._checkMinNumberOfFiles(t)}).catch(function(t){e._showOrLogErrorAndThrow(t)}).then(function(){var n=e.getState().currentUploads,r=Object.keys(n).reduce(function(e,t){return e.concat(n[t].fileIDs)},[]),i=[];Object.keys(t).forEach(function(t){var n=e.getFile(t);n.progress.uploadStarted||-1!==r.indexOf(t)||i.push(n.id)});var o=e._createUpload(i);return e._runUpload(o)}).catch(function(t){e._showOrLogErrorAndThrow(t,{showInformer:!1})}))},t=e,(n=[{key:"state",get:function(){return this.getState()}}])&&v(t.prototype,n),e}();Wr.VERSION="1.13.2",(Ur=function(e){return new Wr(e)}).Uppy=Wr,Ur.Plugin=zr,Ur.debugLogger=Zr;var Vr,$r,Kr=function(e){function t(){var t;return(t=e.call(this,"Authorization required")||this).name="AuthError",t.isAuthError=!0,t}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t}(k(Error)),Gr=function(e){function t(t,n){var r;return void 0===n&&(n=null),(r=e.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.\n\nSource error: ["+t+"]")||this).isNetworkError=!0,r.request=n,r}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t}(x(Error)),Jr=function(){return fetch.apply(void 0,arguments).catch(function(e){throw"AbortError"===e.name?e:new Gr(e)})},Xr=($r=Vr=function(){function e(e,t){this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}var t,n,r=e.prototype;return r.headers=function(){var e=this.opts.companionHeaders||this.opts.serverHeaders||{};return Promise.resolve(A({},this.defaultHeaders,e))},r._getPostResponseFunc=function(e){var t=this;return function(n){return e?n:t.onReceiveResponse(n)}},r.onReceiveResponse=function(e){var t,n=this.uppy.getState().companion||{},r=this.opts.companionUrl,i=e.headers;return i.has("i-am")&&i.get("i-am")!==n[r]&&this.uppy.setState({companion:A({},n,(t={},t[r]=i.get("i-am"),t))}),e},r._getUrl=function(e){return/^(https?:|)\/\//.test(e)?e:this.hostname+"/"+e},r._json=function(e){if(401===e.status)throw new Kr;if(e.status<200||e.status>300){var t="Failed request with status: "+e.status+". "+e.statusText;return e.json().then(function(e){throw t=e.message?t+" message: "+e.message:t,t=e.requestId?t+" request-Id: "+e.requestId:t,new Error(t)}).catch(function(){throw new Error(t)})}return e.json()},r.preflight=function(e){var t=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(this._getUrl(e),{method:"OPTIONS"}).then(function(e){return e.headers.has("access-control-allow-headers")&&(t.allowedHeaders=e.headers.get("access-control-allow-headers").split(",").map(function(e){return e.trim().toLowerCase()})),t.preflightDone=!0,t.allowedHeaders.slice()}).catch(function(e){return t.uppy.log("[CompanionClient] unable to make preflight request "+e,"warning"),t.preflightDone=!0,t.allowedHeaders.slice()})},r.preflightAndHeaders=function(e){var t=this;return Promise.all([this.preflight(e),this.headers()]).then(function(e){var n=e[0],r=e[1];return Object.keys(r).forEach(function(e){-1===n.indexOf(e.toLowerCase())&&(t.uppy.log("[CompanionClient] excluding unallowed header "+e),delete r[e])}),r})},r.get=function(e,t){var n=this;return this.preflightAndHeaders(e).then(function(t){return Jr(n._getUrl(e),{method:"get",headers:t,credentials:"same-origin"})}).then(this._getPostResponseFunc(t)).then(function(e){return n._json(e)}).catch(function(t){return t=t.isAuthError?t:new Error("Could not get "+n._getUrl(e)+". "+t),Promise.reject(t)})},r.post=function(e,t,n){var r=this;return this.preflightAndHeaders(e).then(function(n){return Jr(r._getUrl(e),{method:"post",headers:n,credentials:"same-origin",body:JSON.stringify(t)})}).then(this._getPostResponseFunc(n)).then(function(e){return r._json(e)}).catch(function(t){return t=t.isAuthError?t:new Error("Could not post "+r._getUrl(e)+". "+t),Promise.reject(t)})},r.delete=function(e,t,n){var r=this;return this.preflightAndHeaders(e).then(function(n){return Jr(r.hostname+"/"+e,{method:"delete",headers:n,credentials:"same-origin",body:t?JSON.stringify(t):null})}).then(this._getPostResponseFunc(n)).then(function(e){return r._json(e)}).catch(function(t){return t=t.isAuthError?t:new Error("Could not delete "+r._getUrl(e)+". "+t),Promise.reject(t)})},t=e,(n=[{key:"hostname",get:function(){var e=this.uppy.getState().companion,t=this.opts.companionUrl;return(e&&e[t]?e[t]:t).replace(/\/$/,"")}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client="+e.VERSION}}}])&&E(t.prototype,n),e}(),Vr.VERSION="1.5.4",$r),Qr={};Qr.setItem=function(e,t){return new Promise(function(n){localStorage.setItem(e,t),n()})},Qr.getItem=function(e){return Promise.resolve(localStorage.getItem(e))},Qr.removeItem=function(e){return new Promise(function(t){localStorage.removeItem(e),t()})};var ei={RequestClient:Xr,Provider:function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).provider=n.provider,r.id=r.provider,r.name=r.opts.name||r.id.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "),r.pluginId=r.opts.pluginId,r.tokenKey="companion-"+r.pluginId+"-auth-token",r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.headers=function(){return Promise.all([e.prototype.headers.call(this),this.getAuthToken()]).then(function(e){return P({},e[0],{"uppy-auth-token":e[1]})})},i.onReceiveResponse=function(t){t=e.prototype.onReceiveResponse.call(this,t);var n=this.uppy.getPlugin(this.pluginId),r=n.getPluginState().authenticated?401!==t.status:t.status<400;return n.setPluginState({authenticated:r}),t},i.setAuthToken=function(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)},i.getAuthToken=function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},i.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},i.fileUrl=function(e){return this.hostname+"/"+this.id+"/get/"+e},i.list=function(e){return this.get(this.id+"/list/"+(e||""))},i.logout=function(){var e=this;return this.get(this.id+"/logout").then(function(t){return Promise.all([t,e.uppy.getPlugin(e.pluginId).storage.removeItem(e.tokenKey)])}).then(function(e){return e[0]})},t.initPlugin=function(e,t,n){if(e.type="acquirer",e.files=[],n&&(e.opts=P({},n,t)),t.serverUrl||t.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(t.companionAllowedHosts){var r=t.companionAllowedHosts;if(!("string"==typeof r||Array.isArray(r)||r instanceof RegExp))throw new TypeError(e.id+': the option "companionAllowedHosts" must be one of string, Array, RegExp');e.opts.companionAllowedHosts=r}else/^(?!https?:\/\/).*$/i.test(t.companionUrl)?e.opts.companionAllowedHosts="https://"+t.companionUrl.replace(/^\/\//,""):e.opts.companionAllowedHosts=t.companionUrl;e.storage=e.opts.storage||Qr},t}(Xr),Socket:function(){function e(e){this.opts=e,this._queued=[],this.isOpen=!1,this.emitter=pr(),this._handleMessage=this._handleMessage.bind(this),this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this),e&&!1===e.autoOpen||this.open()}var t=e.prototype;return t.open=function(){var e=this;this.socket=new WebSocket(this.opts.target),this.socket.onopen=function(t){for(e.isOpen=!0;e._queued.length>0&&e.isOpen;){var n=e._queued[0];e.send(n.action,n.payload),e._queued=e._queued.slice(1)}},this.socket.onclose=function(t){e.isOpen=!1},this.socket.onmessage=this._handleMessage},t.close=function(){this.socket&&this.socket.close()},t.send=function(e,t){this.isOpen?this.socket.send(JSON.stringify({action:e,payload:t})):this._queued.push({action:e,payload:t})},t.on=function(e,t){this.emitter.on(e,t)},t.emit=function(e,t){this.emitter.emit(e,t)},t.once=function(e,t){this.emitter.once(e,t)},t._handleMessage=function(e){try{var t=JSON.parse(e.data);this.emit(t.action,t.payload)}catch(e){console.log(e)}},e}()},ti=Ir.h,ni=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t.prototype.render=function(){var e=ti("span",{class:"uppy-Provider-authTitleName"},this.props.pluginName,ti("br",null));return ti("div",{class:"uppy-Provider-auth"},ti("div",{class:"uppy-Provider-authIcon"},this.props.pluginIcon()),ti("div",{class:"uppy-Provider-authTitle"},this.props.i18nArray("authenticateWithTitle",{pluginName:e})),ti("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onclick:this.props.handleAuth,"data-uppy-super-focusable":!0},this.props.i18nArray("authenticateWith",{pluginName:this.props.pluginName})))},t}(Ir.Component),ri={exports:{}};!function(){"use strict";function e(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)n.push(i);else if(Array.isArray(i)&&i.length){var s=e.apply(null,i);s&&n.push(s)}else if("object"===o)for(var a in i)t.call(i,a)&&i[a]&&n.push(a)}}return n.join(" ")}var t={}.hasOwnProperty;ri.exports?(e.default=e,ri.exports=e):window.classNames=e}(),ri=ri.exports;var ii,oi,si,ai=Ir.h,li=function(e){return ai("span",null,ai("button",{type:"button",class:"uppy-u-reset",onclick:e.getFolder},e.title),e.isLast?"":" / ")},ui=Ir.h,ci=function(e){function t(t){var n;return(n=e.call(this,t)||this).preventEnterPress=n.preventEnterPress.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.preventEnterPress=function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault())},i.render=function(){var e=this;return ui("div",{class:"uppy-ProviderBrowser-search"},ui("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:this.props.i18n("filter"),"aria-label":this.props.i18n("filter"),onkeyup:this.preventEnterPress,onkeydown:this.preventEnterPress,onkeypress:this.preventEnterPress,oninput:function(t){return e.props.filterQuery(t)},value:this.props.filterInput}),ui("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},ui("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),this.props.filterInput&&ui("button",{class:"uppy-u-reset uppy-ProviderBrowser-searchClose",type:"button","aria-label":this.props.i18n("resetFilter"),title:this.props.i18n("resetFilter"),onclick:this.props.filterQuery},ui("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",viewBox:"0 0 19 19"},ui("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))},t}(Ir.Component),di=Ir.h,hi=function(e){if(null!==e.itemIconString)switch(e.itemIconString){case"file":return di(C,null);case"folder":return di(Y,null);case"video":return di(j,null);default:return di("img",{src:e.itemIconString})}},pi=Ir.h,fi=function(e){return pi("li",{class:e.className},pi("div",{"aria-hidden":!0,class:"uppy-ProviderBrowserItem-fakeCheckbox "+(e.isChecked?"uppy-ProviderBrowserItem-fakeCheckbox--is-checked":"")}),pi("button",{type:"button",class:"uppy-u-reset uppy-ProviderBrowserItem-inner",onclick:e.toggleCheckbox,role:"option","aria-label":e.isChecked?e.i18n("unselectFileNamed",{name:e.title}):e.i18n("selectFileNamed",{name:e.title}),"aria-selected":e.isChecked,"aria-disabled":e.isDisabled,"data-uppy-super-focusable":!0},e.itemIconEl,e.showTitles&&e.title))},mi=Ir.h,gi=function(e){return"folder"===e.type?e.isChecked?e.i18n("unselectAllFilesFromFolderNamed",{name:e.title}):e.i18n("selectAllFilesFromFolderNamed",{name:e.title}):e.isChecked?e.i18n("unselectFileNamed",{name:e.title}):e.i18n("selectFileNamed",{name:e.title})},vi=function(e){return mi("li",{class:e.className},mi("button",{type:"button",class:"uppy-u-reset uppy-ProviderBrowserItem-fakeCheckbox "+(e.isChecked?"uppy-ProviderBrowserItem-fakeCheckbox--is-checked":""),onClick:e.toggleCheckbox,id:e.id,role:"option","aria-label":gi(e),"aria-selected":e.isChecked,"aria-disabled":e.isDisabled,"data-uppy-super-focusable":!0}),"file"===e.type?mi("label",{for:e.id,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},e.itemIconEl,e.showTitles&&e.title):mi("button",{type:"button",class:"uppy-u-reset uppy-ProviderBrowserItem-inner",onclick:e.handleFolderClick,"aria-label":e.i18n("openFolderNamed",{name:e.title})},e.itemIconEl,e.showTitles&&mi("span",null,e.title)))},yi=Ir.h,_i=function(e){var t=e.getItemIcon(),n=ri("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":e.isChecked},{"uppy-ProviderBrowserItem--noPreview":"video"===t}),r=yi(hi,{itemIconString:t});switch(e.viewType){case"grid":return yi(fi,O({},e,{className:n,itemIconEl:r}));case"list":return yi(vi,O({},e,{className:n,itemIconEl:r}));default:throw new Error("There is no such type "+e.viewType)}},bi=Ir.h,wi=function(e,t){return{id:e.id,title:e.name,getItemIcon:function(){return e.icon},isChecked:t.isChecked(e),toggleCheckbox:function(n){return t.toggleCheckbox(n,e)},columns:t.columns,showTitles:t.showTitles,viewType:t.viewType,i18n:t.i18n}},ki=function(e){return e.folders.length||e.files.length?bi("div",{class:"uppy-ProviderBrowser-body"},bi("ul",{class:"uppy-ProviderBrowser-list",onscroll:e.handleScroll,role:"listbox",tabindex:"-1"},e.folders.map(function(t){return _i(R({},wi(t,e),{type:"folder",isDisabled:!!e.isChecked(t)&&e.isChecked(t).loading,handleFolderClick:function(){return e.handleFolderClick(t)}}))}),e.files.map(function(t){return _i(R({},wi(t,e),{type:"file",isDisabled:!1}))}))):bi("div",{class:"uppy-Provider-empty"},e.i18n("noFilesFound"))},Li=Ir.h,Mi=function(e){return Li("div",{class:"uppy-ProviderBrowser-footer"},Li("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onclick:e.done},e.i18n("selectX",{smart_count:e.selected})),Li("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onclick:e.cancel},e.i18n("cancel")))},Si=Ir.h,xi=function(e){var t=e.folders,n=e.files;""!==e.filterInput&&(t=e.filterItems(e.folders),n=e.filterItems(e.files));var r=e.currentSelection.length;return Si("div",{class:ri("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--"+e.viewType)},Si("div",{class:"uppy-ProviderBrowser-header"},Si("div",{class:ri("uppy-ProviderBrowser-headerBar",!e.showBreadcrumbs&&"uppy-ProviderBrowser-headerBar--simple")},e.showBreadcrumbs&&function(e){return ai("div",{class:"uppy-Provider-breadcrumbs"},ai("div",{class:"uppy-Provider-breadcrumbsIcon"},e.breadcrumbsIcon),e.directories.map(function(t,n){return ai(li,{key:t.id,getFolder:function(){return e.getFolder(t.id)},title:0===n?e.title:t.title,isLast:n+1===e.directories.length})}))}({getFolder:e.getFolder,directories:e.directories,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title}),Si("span",{class:"uppy-ProviderBrowser-user"},e.username),Si("button",{type:"button",onclick:e.logout,class:"uppy-u-reset uppy-ProviderBrowser-userLogout"},e.i18n("logOut")))),e.showFilter&&Si(ci,e),Si(ki,{columns:[{name:"Name",key:"title"}],folders:t,files:n,activeRow:e.isActiveRow,sortByTitle:e.sortByTitle,sortByDate:e.sortByDate,isChecked:e.isChecked,handleFolderClick:e.getNextFolder,toggleCheckbox:e.toggleCheckbox,handleScroll:e.handleScroll,title:e.title,showTitles:e.showTitles,i18n:e.i18n,viewType:e.viewType}),r>0&&Si(Mi,I({selected:r},e)))},Ti=Ir.h,Di=function(e){return Ti("div",{class:"uppy-Provider-loading"},Ti("span",null,e.i18n("loading")))},Fi=function(e){return!!e&&!!/^(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e.split("/")[1])},Ai=Ir.h,Ei=function(e){function t(){return e.apply(this,arguments)||this}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.componentWillUnmount=function(){this.props.onUnmount()},i.render=function(){return this.props.children[0]},t}(Ir.Component),Pi=(oi=ii=function(){function e(e,t){this.plugin=e,this.provider=t.provider,this.opts=U({},{viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},t),this.addFile=this.addFile.bind(this),this.filterItems=this.filterItems.bind(this),this.filterQuery=this.filterQuery.bind(this),this.toggleSearch=this.toggleSearch.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.preFirstRender=this.preFirstRender.bind(this),this.handleAuth=this.handleAuth.bind(this),this.sortByTitle=this.sortByTitle.bind(this),this.sortByDate=this.sortByDate.bind(this),this.isActiveRow=this.isActiveRow.bind(this),this.isChecked=this.isChecked.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.handleError=this.handleError.bind(this),this.handleScroll=this.handleScroll.bind(this),this.listAllFiles=this.listAllFiles.bind(this),this.donePicking=this.donePicking.bind(this),this.cancelPicking=this.cancelPicking.bind(this),this.clearSelection=this.clearSelection.bind(this),this.render=this.render.bind(this),this.clearSelection(),this.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1})}var t=e.prototype;return t.tearDown=function(){},t._updateFilesAndFolders=function(e,t,n){this.nextPagePath=e.nextPagePath,e.items.forEach(function(e){e.isFolder?n.push(e):t.push(e)}),this.plugin.setPluginState({folders:n,files:t})},t.preFirstRender=function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()},t.getFolder=function(e,t){var n=this;return this._loaderWrapper(this.provider.list(e),function(r){var i,o=n.plugin.getPluginState(),s=function(t,n){for(var r=0;r<t.length;r++)if(i=t[r],e===i.id)return r;var i;return-1}(o.directories);i=-1!==s?o.directories.slice(0,s+1):o.directories.concat([{id:e,title:t}]),n.username=r.username||n.username,n._updateFilesAndFolders(r,[],[]),n.plugin.setPluginState({directories:i})},this.handleError)},t.getNextFolder=function(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0},t.addFile=function(e){var t={id:this.providerFileToId(e),source:this.plugin.id,data:e,name:e.name||e.id,type:e.mimeType,isRemote:!0,body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:""+this.provider.fileUrl(e.requestPath),body:{fileId:e.id},providerOptions:this.provider.opts}},n=Cr(t);n&&Fi(n)&&(t.preview=e.thumbnail),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(t),!0}catch(e){return e.isRestriction||this.plugin.uppy.log(e),!1}},t.removeFile=function(e){var t=this.plugin.getPluginState().currentSelection;this.plugin.setPluginState({currentSelection:t.filter(function(t){return t.id!==e})})},t.logout=function(){var e=this;this.provider.logout().then(function(t){if(t.ok){if(!t.revoked){var n=e.plugin.uppy.i18n("companionUnauthorizeHint",{provider:e.plugin.title,url:t.manual_revoke_url});e.plugin.uppy.info(n,"info",7e3)}e.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[]})}}).catch(this.handleError)},t.filterQuery=function(e){var t=this.plugin.getPluginState();this.plugin.setPluginState(U({},t,{filterInput:e?e.target.value:""}))},t.toggleSearch=function(e){var t=this.plugin.getPluginState();this.plugin.setPluginState({isSearchVisible:!t.isSearchVisible,filterInput:""})},t.filterItems=function(e){var t=this.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase())}):e},t.sortByTitle=function(){var e=U({},this.plugin.getPluginState()),t=e.files,n=e.folders,r=e.sorting,i=t.sort(function(e,t){return"titleDescending"===r?t.name.localeCompare(e.name):e.name.localeCompare(t.name)}),o=n.sort(function(e,t){return"titleDescending"===r?t.name.localeCompare(e.name):e.name.localeCompare(t.name)});this.plugin.setPluginState(U({},e,{files:i,folders:o,sorting:"titleDescending"===r?"titleAscending":"titleDescending"}))},t.sortByDate=function(){var e=U({},this.plugin.getPluginState()),t=e.files,n=e.folders,r=e.sorting,i=t.sort(function(e,t){var n=new Date(e.modifiedDate),i=new Date(t.modifiedDate);return"dateDescending"===r?n>i?-1:n<i?1:0:n>i?1:n<i?-1:0}),o=n.sort(function(e,t){var n=new Date(e.modifiedDate),i=new Date(t.modifiedDate);return"dateDescending"===r?n>i?-1:n<i?1:0:n>i?1:n<i?-1:0});this.plugin.setPluginState(U({},e,{files:i,folders:o,sorting:"dateDescending"===r?"dateAscending":"dateDescending"}))},t.sortBySize=function(){var e=U({},this.plugin.getPluginState()),t=e.files,n=e.sorting;if(t.length&&this.plugin.getItemData(t[0]).size){var r=t.sort(function(e,t){var r=e.size,i=t.size;return"sizeDescending"===n?r>i?-1:r<i?1:0:r>i?1:r<i?-1:0});this.plugin.setPluginState(U({},e,{files:r,sorting:"sizeDescending"===n?"sizeAscending":"sizeDescending"}))}},t.isActiveRow=function(e){return this.plugin.getPluginState().activeRow===this.plugin.getItemId(e)},t.isChecked=function(e){return this.plugin.getPluginState().currentSelection.some(function(t){return t.id===e.id})},t.addFolder=function(e){var t=this,n=this.providerFileToId(e),r=U({},this.plugin.getPluginState().selectedFolders);if(!(n in r&&r[n].loading))return r[n]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:U({},r)}),this.listAllFiles(e.requestPath).then(function(i){var o=0;i.forEach(function(e){t.addFile(e)&&o++});var s,a=i.map(t.providerFileToId);r[n]={loading:!1,files:a},t.plugin.setPluginState({selectedFolders:r}),s=i.length?t.plugin.uppy.i18n("folderAdded",{smart_count:o,folder:e.name}):t.plugin.uppy.i18n("emptyFolderAdded"),t.plugin.uppy.info(s)}).catch(function(e){var r=U({},t.plugin.getPluginState().selectedFolders);delete r[n],t.plugin.setPluginState({selectedFolders:r}),t.handleError(e)})},t.toggleCheckbox=function(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();var n=this.plugin.getPluginState(),r=n.folders,i=n.files,o=this.filterItems(r.concat(i));if(this.lastCheckbox&&e.shiftKey){var s,a=o.indexOf(this.lastCheckbox),l=o.indexOf(t);return s=a<l?o.slice(a,l+1):o.slice(l,a+1),void this.plugin.setPluginState({currentSelection:s})}this.lastCheckbox=t;var u=this.plugin.getPluginState().currentSelection;this.isChecked(t)?this.plugin.setPluginState({currentSelection:u.filter(function(e){return e.id!==t.id})}):this.plugin.setPluginState({currentSelection:u.concat([t])})},t.providerFileToId=function(e){return Yr({data:e,name:e.name||e.id,type:e.mimeType})},t.handleAuth=function(){var t=this,n=btoa(JSON.stringify({origin:"origin"in location?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")})),r=encodeURIComponent("@uppy/provider-views="+e.VERSION),i=this.provider.authUrl()+"?state="+n+"&uppyVersions="+r,o=window.open(i,"_blank");window.addEventListener("message",function e(n){if(t._isOriginAllowed(n.origin,t.plugin.opts.companionAllowedHosts)&&n.source===o){var r="string"==typeof n.data?JSON.parse(n.data):n.data;r.token?(o.close(),window.removeEventListener("message",e),t.provider.setAuthToken(r.token),t.preFirstRender()):t.plugin.uppy.log("did not receive token from auth window")}else t.plugin.uppy.log("rejecting event from "+n.origin+" vs allowed pattern "+t.plugin.opts.companionAllowedHosts)})},t._isOriginAllowed=function(e,t){var n=function(e){return"string"==typeof e?new RegExp("^"+e+"$"):e instanceof RegExp?e:void 0};return(Array.isArray(t)?t.map(n):[n(t)]).filter(function(e){return null!=e}).some(function(t){return t.test(e)||t.test(e+"/")})},t.handleError=function(e){var t=this.plugin.uppy;if(t.log(e.toString()),!e.isAuthError){var n=t.i18n("companionError");t.info({message:n,details:e.toString()},"error",5e3)}},t.handleScroll=function(e){var t=this,n=e.target.scrollHeight-(e.target.scrollTop+e.target.offsetHeight),r=this.nextPagePath||null;n<50&&r&&!this._isHandlingScroll&&(this.provider.list(r).then(function(e){var n=t.plugin.getPluginState(),r=n.files,i=n.folders;t._updateFilesAndFolders(e,r,i)}).catch(this.handleError).then(function(){t._isHandlingScroll=!1}),this._isHandlingScroll=!0)},t.listAllFiles=function(e,t){var n=this;return void 0===t&&(t=null),t=t||[],new Promise(function(r,i){n.provider.list(e).then(function(e){e.items.forEach(function(e){e.isFolder?n.addFolder(e):t.push(e)});var o=e.nextPagePath||null;return o?n.listAllFiles(o,t).then(function(e){return r(e)}).catch(function(e){return i(e)}):r(t)}).catch(function(e){return i(e)})})},t.donePicking=function(){var e=this,t=this.plugin.getPluginState().currentSelection.map(function(t){return t.isFolder?e.addFolder(t):e.addFile(t)});this._loaderWrapper(Promise.all(t),function(){e.clearSelection()},function(){})},t.cancelPicking=function(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()},t.clearSelection=function(){this.plugin.setPluginState({currentSelection:[]})},t._loaderWrapper=function(e,t,n){var r=this;e.then(function(e){r.plugin.setPluginState({loading:!1}),t(e)}).catch(function(e){r.plugin.setPluginState({loading:!1}),n(e)}),this.plugin.setPluginState({loading:!0})},t.render=function(e,t){void 0===t&&(t={});var n=this.plugin.getPluginState(),r=n.authenticated;if(n.didFirstRender||this.preFirstRender(),this.plugin.getPluginState().loading)return Ai(Ei,{onUnmount:this.clearSelection},Ai(Di,{i18n:this.plugin.uppy.i18n}));if(!r)return Ai(Ei,{onUnmount:this.clearSelection},Ai(ni,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}));var i=U({},this.opts,t),o=U({},this.plugin.getPluginState(),{username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.filterItems,filterQuery:this.filterQuery,toggleSearch:this.toggleSearch,sortByTitle:this.sortByTitle,sortByDate:this.sortByDate,logout:this.logout,isActiveRow:this.isActiveRow,isChecked:this.isChecked,toggleCheckbox:this.toggleCheckbox,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,title:this.plugin.title,viewType:i.viewType,showTitles:i.showTitles,showFilter:i.showFilter,showBreadcrumbs:i.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n});return Ai(Ei,{onUnmount:this.clearSelection},Ai(xi,o))},e}(),ii.VERSION="1.7.7",oi),Ci=function(){function e(e){var t;this._store=e.store,this._id=e.id||kr(),this._selector=e.selector||(t=this._id,function(e){return e.uppy[t]}),this.setState({})}var t=e.prototype;return t.setState=function(e){this._store.dispatch({type:"uppy/STATE_UPDATE",id:this._id,payload:e})},t.getState=function(){return this._selector(this._store.getState())},t.subscribe=function(e){var t=this,n=this.getState()
;return this._store.subscribe(function(){var r=t.getState();if(n!==r){var i=function(e,t){var n=Object.keys(t),r={};return n.forEach(function(n){e[n]!==t[n]&&(r[n]=t[n])}),r}(n,r);e(n,r,i),n=r}})},e}();Ci.VERSION="1.2.4",(si=function(e){return new Ci(e)}).STATE_UPDATE="uppy/STATE_UPDATE",si.reducer=function(e,t){if(void 0===e&&(e={}),"uppy/STATE_UPDATE"===t.type){var n,r=H({},e[t.id],t.payload);return H({},e,((n={})[t.id]=r,n))}return e},si.middleware=function(){return function(){return function(e){return function(t){e(t)}}}};for(var Yi,ji,Oi,Ri,Ii=Ir.h,Ui=function(e){var t={color:"#838999",icon:Ii("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},Ii("g",{fill:"#A7AFB7","fill-rule":"nonzero"},Ii("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),Ii("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;var n=e.split("/")[0],r=e.split("/")[1];return"text"===n?{color:"#5a5e69",icon:Ii("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},Ii("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69","fill-rule":"nonzero"}))}:"image"===n?{color:"#686de0",icon:Ii("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},Ii("g",{fill:"#686DE0","fill-rule":"evenodd"},Ii("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z","fill-rule":"nonzero"}),Ii("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z","fill-rule":"nonzero"}),Ii("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}:"audio"===n?{color:"#068dbb",icon:Ii("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},Ii("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF","fill-rule":"nonzero"}))}:"video"===n?{color:"#19af67",icon:Ii("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},Ii("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67","fill-rule":"nonzero"}))}:"application"===n&&"pdf"===r?{color:"#e25149",icon:Ii("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},Ii("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A","fill-rule":"nonzero"}))}:"application"===n&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-gtar","x-apple-diskimage","x-diskcopy"].indexOf(r)?{color:"#00C469",icon:Ii("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},Ii("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469","fill-rule":"nonzero"}))}:t},Hi=Ir.h,Ni=function(e){var t=e.file;if(t.preview)return Hi("img",{class:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var n=Ui(t.type),r=n.color,i=n.icon;return Hi("div",{class:"uppy-Dashboard-Item-previewIconWrap"},Hi("span",{class:"uppy-Dashboard-Item-previewIcon",style:{color:r}},i),Hi("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},Hi("rect",{fill:"#FFF",width:"58",height:"76",rx:"3","fill-rule":"evenodd"})))},zi=Ir.h,Bi=function(e){return zi("div",{class:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:Ui(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&zi("a",{class:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name}),zi(Ni,{file:e.file}))},Zi=Ir.h,qi=function(e){return e.file.progress.uploadStarted?e.isUploaded?Zi("div",{class:"uppy-Dashboard-Item-progress"},Zi("div",{class:"uppy-Dashboard-Item-progressIndicator"},Zi(B,null,Zi("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),Zi("polygon",{class:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.error&&!e.hideRetryButton?Zi(z,e,Zi("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},Zi("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),Zi("path",{d:"M7.9 3H10v2H7.9z"}),Zi("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),Zi("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?Zi(z,e,Zi(B,null,Zi(Z,{progress:e.file.progress.percentage}),e.file.isPaused?Zi("polygon",{class:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):Zi("g",{class:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},Zi("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),Zi("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?Zi("div",{class:"uppy-Dashboard-Item-progress"},Zi("div",{class:"uppy-Dashboard-Item-progressIndicator"},Zi(B,null,Zi(Z,{progress:e.file.progress.percentage})))):Zi(z,e,Zi(B,null,Zi(Z,{progress:e.file.progress.percentage}),Zi("polygon",{class:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null},Wi=Ir.h,Vi=function(e){var t=e.file,n=e.onClick;return t.error?Wi("span",{class:"uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",onclick:n},"?"):null},$i=function(e){return Wi("div",{class:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.file.source},function(e){var t;return t=e.containerWidth<=352?35:e.containerWidth<=576?60:30,Wi("div",{class:"uppy-Dashboard-Item-name",title:e.file.meta.name},function(e,t){if(e.length<=t)return e;if(t<="...".length)return e.substr(0,t);var n=t-"...".length,r=Math.ceil(n/2),i=Math.floor(n/2);return e.substr(0,r)+"..."+e.substr(e.length-i)}(e.file.meta.name,t))}(e),Wi("div",{class:"uppy-Dashboard-Item-status"},function(e){return e.file.data.size&&Wi("div",{class:"uppy-Dashboard-Item-statusSize"},Tr(e.file.data.size))}(e),function(e){return e.file.source&&e.file.source!==e.id&&Wi("div",{class:"uppy-Dashboard-Item-sourceIcon"},e.acquirers.map(function(t){if(t.id===e.file.source)return function(e,t){return Wi("span",{title:t.i18n("fileSource",{name:e.name})},e.icon())}(t,e)}))}(e),Wi(Vi,{file:e.file,onClick:function(){alert(e.file.error)}})))},Ki=Ir.h,Gi=function(e,t){var n,r;(n=t.file.uploadURL,r=t.i18n("copyLinkToClipboardFallback"),r=r||"Copy the URL below",new Promise(function(e){var t=document.createElement("textarea");t.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),t.value=n,document.body.appendChild(t),t.select();var i=function(){document.body.removeChild(t),window.prompt(r,n),e()};try{return document.execCommand("copy")?(document.body.removeChild(t),e()):i()}catch(e){return document.body.removeChild(t),i()}})).then(function(){t.log("Link copied to clipboard."),t.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log).then(function(){return e.target.focus({preventScroll:!0})})},Ji=function(e){var t=e.file,n=e.uploadInProgressOrComplete,r=e.metaFields,i=e.showLinkToFileUploadResult,o=e.showRemoveButton,s=e.i18n,a=e.removeFile,l=e.toggleFileCard,u=e.log,c=e.info;return Ki("div",{className:"uppy-Dashboard-Item-actionWrapper"},Ki(q,{i18n:s,file:t,uploadInProgressOrComplete:n,metaFields:r,onClick:function(){return l(t.id)}}),i&&t.uploadURL?Ki(V,{file:t,i18n:s,info:c,log:u}):null,o?Ki(W,{i18n:s,info:e.info,log:e.log,onClick:function(){return a(t.id,"removed-by-user")}}):null)},Xi=Ir.h,Qi=(function(e){function t(){return e.apply(this,arguments)||this}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.shouldComponentUpdate=function(e){return!function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0}(this.props,e)},i.componentDidMount=function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)},i.componentWillUnmount=function(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e)},i.render=function(){var e=this.props.file,t=e.progress.preprocess||e.progress.postprocess,n=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,o=e.error||!1,s=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(s=!0);var a=ri({"uppy-Dashboard-Item":!0,"is-inprogress":i,"is-processing":t,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation});return Xi("div",{class:a,id:"uppy_"+e.id,role:this.props.role},Xi("div",{class:"uppy-Dashboard-Item-preview"},Xi(Bi,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult}),Xi(qi,{file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,pauseUpload:this.props.pauseUpload,cancelUpload:this.props.cancelUpload,retryUpload:this.props.retryUpload,i18n:this.props.i18n})),Xi("div",{class:"uppy-Dashboard-Item-fileInfoAndButtons"},Xi($i,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n}),Xi(Ji,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:s,uploadInProgressOrComplete:r,removeFile:this.props.removeFile,toggleFileCard:this.props.toggleFileCard,i18n:this.props.i18n,log:this.props.log,info:this.props.info})))},t}(Ir.Component)),eo=Ir.h,to=Ir.Component,no={position:"relative",width:"100%",minHeight:"100%"},ro={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},io=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleResize=function(){n.resize()},n.handleScroll=function(){n.setState({offset:n.base.scrollTop}),n.props.sync&&n.forceUpdate()},n.focusElement=null,n.state={offset:0,height:0},n}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.resize=function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})},i.componentWillUpdate=function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)},i.componentDidUpdate=function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()},i.componentDidMount=function(){this.resize(),window.addEventListener("resize",this.handleResize)},i.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)},i.render=function(e){var t=e.data,n=e.rowHeight,r=e.renderRow,i=e.overscanCount,o=void 0===i?10:i,s=(e.sync,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["data","rowHeight","renderRow","overscanCount","sync"])),a=this.state,l=a.offset,u=a.height,c=Math.floor(l/n),d=Math.floor(u/n);o&&(c=Math.max(0,c-c%o),d+=o);var h=c+d+4,p=t.slice(c,h),f=$({},no,{height:t.length*n}),m=$({},ro,{top:c*n});return eo("div",$({onScroll:this.handleScroll},s),eo("div",{role:"presentation",style:f},eo("div",{role:"presentation",style:m},p.map(r))))},t}(to),oo=Ir.h,so=function(e){var t,n,r,i,o=0===e.totalFileCount,s=ri("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":o}),a=1===e.itemsPerRow?71:200,l={id:e.id,error:e.error,i18n:e.i18n,log:e.log,info:e.info,acquirers:e.acquirers,resumableUploads:e.resumableUploads,individualCancellation:e.individualCancellation,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,retryUpload:e.retryUpload,pauseUpload:e.pauseUpload,cancelUpload:e.cancelUpload,toggleFileCard:e.toggleFileCard,removeFile:e.removeFile,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail},u=(t=Object.keys(e.files),n=e.itemsPerRow,r=[],i=[],t.forEach(function(e,t){i.length<n?i.push(e):(r.push(i),i=[e])}),i.length&&r.push(i),r);return oo(io,{class:s,role:"list",data:u,renderRow:function(t){return oo("div",{role:"presentation",key:t[0]},t.map(function(t){return oo(Qi,K({key:t},l,{role:"listitem",file:e.files[t]}))}))},rowHeight:a})},ao=Ir.h,lo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).triggerFileInputClick=function(){t.fileInput.click()},t.triggerFolderInputClick=function(){t.folderInput.click()},t.onFileInputChange=function(e){t.props.handleInputChange(e),e.target.value=null},t.renderHiddenInput=function(e,n){return ao("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:1!==t.props.maxNumberOfFiles,onchange:t.onFileInputChange,accept:t.props.allowedFileTypes,ref:n})},t.renderMyDeviceAcquirer=function(){return ao("div",{class:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},ao("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,"data-uppy-super-focusable":!0,onclick:t.triggerFileInputClick},ao("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},ao("g",{fill:"none","fill-rule":"evenodd"},ao("rect",{width:"32",height:"32",rx:"16",fill:"#2275D7"}),ao("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),ao("div",{class:"uppy-DashboardTab-name"},t.props.i18n("myDevice"))))},t.renderBrowseButton=function(e,n){var r=t.props.acquirers.length;return ao("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-browse",onclick:n,"data-uppy-super-focusable":0===r},e)},t.renderDropPasteBrowseTagline=function(){var e=t.props.acquirers.length,n=t.props.fileManagerSelectionType,r=n.charAt(0).toUpperCase()+n.slice(1),i="browse",o="browse",s="browse";if("files"===n)try{i=t.props.i18n("browse"),o=t.props.i18n("browse"),s=t.props.i18n("browse")}catch(e){}try{o=t.props.i18n("browseFiles"),s=t.props.i18n("browseFolders")}catch(e){}var a,l=t.renderBrowseButton(i,t.triggerFileInputClick),u=t.renderBrowseButton(o,t.triggerFileInputClick),c=t.renderBrowseButton(s,t.triggerFolderInputClick);if(a=e>0?t.props.i18nArray("dropPasteImport"+r,{browseFiles:u,browseFolders:c,browse:l}):t.props.i18nArray("dropPaste"+r,{browseFiles:u,browseFolders:c,browse:l}),"files"===n)try{a=e>0?t.props.i18nArray("dropPasteImport",{browse:l}):t.props.i18nArray("dropPaste",{browse:l})}catch(e){}return ao("div",{class:"uppy-Dashboard-AddFiles-title"},a)},t.renderAcquirer=function(e){return ao("div",{class:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},ao("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,"aria-controls":"uppy-DashboardContent-panel--"+e.id,"aria-selected":t.props.activePickerPanel.id===e.id,"data-uppy-super-focusable":!0,onclick:function(){return t.props.showPanel(e.id)}},e.icon(),ao("div",{class:"uppy-DashboardTab-name"},e.name)))},t.renderAcquirers=function(e){var n=[].concat(e),r=n.splice(e.length-2,e.length);return ao("div",{class:"uppy-Dashboard-AddFiles-list",role:"tablist"},t.renderMyDeviceAcquirer(),n.map(function(e){return t.renderAcquirer(e)}),ao("span",{role:"presentation",style:"white-space: nowrap;"},r.map(function(e){return t.renderAcquirer(e)})))},t}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.renderPoweredByUppy=function(){var e=ao("span",null,ao("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},ao("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z","fill-rule":"evenodd"})),ao("span",{class:"uppy-Dashboard-poweredByUppy"},"Uppy")),t=this.props.i18nArray("poweredBy2",{backwardsCompat:this.props.i18n("poweredBy"),uppy:e});return ao("a",{tabindex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",class:"uppy-Dashboard-poweredBy"},t)},i.render=function(){var e=this;return ao("div",{class:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(t){e.fileInput=t}),this.renderHiddenInput(!0,function(t){e.folderInput=t}),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers),ao("div",{class:"uppy-Dashboard-AddFiles-info"},this.props.note&&ao("div",{class:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))},t}(Ir.Component),uo=Ir.h,co=function(e){return uo("div",{class:ri("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},uo("div",{class:"uppy-DashboardContent-bar"},uo("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),uo("button",{class:"uppy-DashboardContent-back",type:"button",onclick:function(t){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),uo(lo,e))},ho=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()},po=Ir.h,fo=function(e){return po("div",{class:ri("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--"+e.activePickerPanel.id,onDragOver:ho,onDragLeave:ho,onDrop:ho,onPaste:ho},po("div",{class:"uppy-DashboardContent-bar"},po("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("importFrom",{name:e.activePickerPanel.name})),po("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.hideAllPanels},e.i18n("done"))),po("div",{class:"uppy-DashboardContent-panelBody"},e.getPlugin(e.activePickerPanel.id).render(e.state)))},mo=Ir.h,go=function(e){var t=this.props.files[this.props.fileCardFor];return mo("div",{class:ri("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},mo("div",{class:"uppy-DashboardContent-bar"},mo("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:mo("span",{class:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),mo("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.hideAllPanels},e.i18n("done"))),mo("div",{class:"uppy-DashboardContent-panelBody"},e.editors.map(function(t){return e.getPlugin(t.id).render(e.state)})))},vo=Ir.h,yo="error",_o="waiting",bo="preprocessing",wo="uploading",ko="postprocessing",Lo="complete",Mo="paused",So=function(e){var t=e.allowNewUpload;return t&&e.maxNumberOfFiles&&(t=e.totalFileCount<e.maxNumberOfFiles),vo("div",{class:"uppy-DashboardContent-bar"},e.isAllComplete||e.hideCancelButton?vo("div",null):vo("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.cancelAll},e.i18n("cancel")),vo("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},vo(G,e)),t?vo("button",{class:"uppy-DashboardContent-addMore",type:"button","aria-label":e.i18n("addMoreFiles"),title:e.i18n("addMoreFiles"),onclick:function(){return e.toggleAddFilesPanel(!0)}},vo("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},vo("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),vo("span",{class:"uppy-DashboardContent-addMoreCaption"},e.i18n("addMore"))):vo("div",null))},xo=Ir.h,To=function(e){function t(t){var n;(n=e.call(this,t)||this).saveOnEnter=function(e){if(13===e.keyCode){e.stopPropagation(),e.preventDefault();var t=n.props.files[n.props.fileCardFor];n.props.saveFileCard(n.state.formState,t.id)}},n.updateMeta=function(e,t){var r;n.setState({formState:J({},n.state.formState,(r={},r[t]=e,r))})},n.handleSave=function(){var e=n.props.fileCardFor;n.props.saveFileCard(n.state.formState,e)},n.handleCancel=function(){n.props.toggleFileCard()},n.renderMetaFields=function(){var e=n.props.metaFields||[],t={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(function(e){var r="uppy-Dashboard-FileCard-input-"+e.id;return xo("fieldset",{key:e.id,class:"uppy-Dashboard-FileCard-fieldset"},xo("label",{class:"uppy-Dashboard-FileCard-label",for:r},e.name),void 0!==e.render?e.render({value:n.state.formState[e.id],onChange:function(t){return n.updateMeta(t,e.id)},fieldCSSClasses:t},xo):xo("input",{class:t.text,id:r,type:e.type||"text",value:n.state.formState[e.id],placeholder:e.placeholder,onkeyup:n.saveOnEnter,onkeydown:n.saveOnEnter,onkeypress:n.saveOnEnter,oninput:function(t){return n.updateMeta(t.target.value,e.id)},"data-uppy-super-focusable":!0}))})};var r=n.props.files[n.props.fileCardFor],i=n.props.metaFields||[],o={};return i.forEach(function(e){o[e.id]=r.meta[e.id]||""}),n.state={formState:o},n}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t.prototype.render=function(){var e=this,t=this.props.files[this.props.fileCardFor],n=this.props.canEditFile(t);return xo("div",{class:ri("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:ho,onDragLeave:ho,onDrop:ho,onPaste:ho},xo("div",{class:"uppy-DashboardContent-bar"},xo("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:xo("span",{class:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),xo("button",{class:"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onclick:this.handleSave},this.props.i18n("done"))),xo("div",{class:"uppy-Dashboard-FileCard-inner"},xo("div",{class:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Ui(t.type).color}},xo(Ni,{file:t}),n&&xo("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(){return e.props.openFileEditor(t)}},this.props.i18n("editFile"))),xo("div",{class:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),xo("div",{class:"uppy-Dashboard-FileCard-actions"},xo("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"button",onclick:this.handleSave},this.props.i18n("saveChanges")),xo("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onclick:this.handleCancel},this.props.i18n("cancel")))))},t}(Ir.Component),Do=Ir.cloneElement,Fo=Ir.Component,Ao="uppy-transition-slideDownUp",Eo=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={cachedChildren:null,className:""},n}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.componentWillUpdate=function(e){var t=this,n=this.state.cachedChildren,r=e.children[0];if(n!==r){var i={cachedChildren:r};r&&!n&&(i.className=Ao+"-enter",cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){t.base.getBoundingClientRect(),t.setState({className:Ao+"-enter "+Ao+"-enter-active"}),t.enterTimeout=setTimeout(function(){t.setState({className:""})},250)})),n&&!r&&void 0===this.leaveTimeout&&(i.cachedChildren=n,i.className=Ao+"-leave",cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){t.setState({className:Ao+"-leave "+Ao+"-leave-active"}),t.leaveTimeout=setTimeout(function(){t.setState({cachedChildren:null,className:""})},250)})),this.setState(i)}},i.render=function(){var e=this.state,t=e.cachedChildren,n=e.className;return t?Do(t,{className:ri(n,t.attributes.className)}):null},t}(Fo),Po=(function(){var e=document.createElement("div");return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&"FormData"in window&&"FileReader"in window}),Co=Ir.h,Yo="waiting",jo="preprocessing",Oo="uploading",Ro="postprocessing",Io="complete",Uo=function(e){var t,n=(t=e,{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}),r=n.hours?n.hours+"h ":"",i=n.hours?("0"+n.minutes).substr(-2):n.minutes,o=i?i+"m":"",s=i?("0"+n.seconds).substr(-2):n.seconds;return""+r+o+(n.hours?"":i?" "+s+"s":s+"s")},Ho=Ir.h,No=function(e){var t=ri("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":e.uploadState===Yo});return Ho("button",{type:"button",class:t,"aria-label":e.i18n("uploadXFiles",{smart_count:e.newFiles}),onclick:e.startUpload,"data-uppy-super-focusable":!0},e.newFiles&&e.isUploadStarted?e.i18n("uploadXNewFiles",{smart_count:e.newFiles}):e.i18n("uploadXFiles",{smart_count:e.newFiles}))},zo=function(e){return Ho("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e.i18n("retryUpload"),onclick:e.retryAll,"data-uppy-super-focusable":!0},Ho("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},Ho("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e.i18n("retry"))},Bo=function(e){return Ho("button",{type:"button",class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e.i18n("cancel"),"aria-label":e.i18n("cancel"),onclick:e.cancelAll,"data-uppy-super-focusable":!0},Ho("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},Ho("g",{fill:"none","fill-rule":"evenodd"},Ho("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),Ho("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},Zo=function(e){var t=e.isAllPaused,n=(0,e.i18n)(t?"resume":"pause");return Ho("button",{title:n,"aria-label":n,class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onclick:function(){return function(e){if(!e.isAllComplete)return e.resumableUploads?e.isAllPaused?e.resumeAll():e.pauseAll():e.cancelAll()}(e)},"data-uppy-super-focusable":!0},Ho("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},Ho("g",{fill:"none","fill-rule":"evenodd"},Ho("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),Ho("path",t?{fill:"#FFF",d:"M6 4.25L11.5 8 6 11.75z"}:{d:"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z",fill:"#FFF"}))))},qo=function(){return Ho("svg",{class:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},Ho("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0","fill-rule":"evenodd"}))},Wo=function(e){var t=Math.round(100*e.value);return Ho("div",{class:"uppy-StatusBar-content"},Ho(qo,null),"determinate"===e.mode?t+"%  ":"",e.message)},Vo=function(e){return Ho("div",{class:"uppy-StatusBar-statusSecondary"},e.i18n("filesUploadedOfTotal",{
complete:e.complete,smart_count:e.numUploads}))},$o=function(e){var t=ri("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return Ho("div",{class:"uppy-StatusBar-statusSecondary"},Ho("div",{class:"uppy-StatusBar-statusSecondaryHint"},e.i18n("xMoreFilesAdded",{smart_count:e.newFiles})),Ho("button",{type:"button",class:t,"aria-label":e.i18n("uploadXFiles",{smart_count:e.newFiles}),onclick:e.startUpload},e.i18n("upload")))},Ko=Sr(function(e){var t=e.numUploads>1;return Ho("div",{class:"uppy-StatusBar-statusSecondary"},t&&e.i18n("filesUploadedOfTotal",{complete:e.complete,smart_count:e.numUploads}),Ho("span",{class:"uppy-StatusBar-additionalInfo"},t&&"  ",e.i18n("dataUploadedOfTotal",{complete:Tr(e.totalUploadedSize),total:Tr(e.totalSize)}),"  ",e.i18n("xTimeLeft",{time:Uo(e.totalETA)})))},500,{leading:!0,trailing:!0}),Go=function(e){if(!e.isUploadStarted||e.isAllComplete)return null;var t=e.isAllPaused?e.i18n("paused"):e.i18n("uploading"),n=e.newFiles&&e.isUploadStarted;return Ho("div",{class:"uppy-StatusBar-content","aria-label":t,title:t},e.isAllPaused?null:Ho(qo,null),Ho("div",{class:"uppy-StatusBar-status"},Ho("div",{class:"uppy-StatusBar-statusPrimary"},e.supportsUploadProgress?t+": "+e.totalProgress+"%":t),e.isAllPaused||n||!e.showProgressDetails?null:e.supportsUploadProgress?Ho(Ko,e):Ho(Vo,e),n?Ho($o,e):null))},Jo=function(e){e.totalProgress;var t=e.i18n;return Ho("div",{class:"uppy-StatusBar-content",role:"status",title:t("complete")},Ho("div",{class:"uppy-StatusBar-status"},Ho("div",{class:"uppy-StatusBar-statusPrimary"},Ho("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},Ho("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))},Xo=function(e){var t=e.error,n=(e.retryAll,e.hideRetryButton,e.i18n);return Ho("div",{class:"uppy-StatusBar-content",role:"alert",title:n("uploadFailed")},Ho("div",{class:"uppy-StatusBar-status"},Ho("div",{class:"uppy-StatusBar-statusPrimary"},Ho("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},Ho("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),n("uploadFailed"))),Ho("span",{class:"uppy-StatusBar-details","aria-label":t,"data-microtip-position":"top-right","data-microtip-size":"medium",role:"tooltip",onclick:function(){var e=n("uploadFailed")+" \n\n "+t;alert(e)}},"?"))},Qo=(ji=Yi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).startUpload=function(){return r.uppy.upload().catch(function(){})},r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale={strings:{uploading:"Uploading",upload:"Upload",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",retryUpload:"Retry upload",cancel:"Cancel",pause:"Pause",resume:"Resume",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"}}},r.opts=ee({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0},n),r.i18nInit(),r.render=r.render.bind(te(r)),r.install=r.install.bind(te(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},i.getTotalSpeed=function(e){var t=0;return e.forEach(function(e){t+=function(e){if(!e.bytesUploaded)return 0;var t=new Date-e.uploadStarted;return e.bytesUploaded/(t/1e3)}(e.progress)}),t},i.getTotalETA=function(e){var t=this.getTotalSpeed(e);if(0===t)return 0;var n=e.reduce(function(e,t){return e+((n=t.progress).bytesTotal-n.bytesUploaded);var n},0);return Math.round(n/t*10)/10},i.getUploadingState=function(e,t,n){if(e)return"error";if(t)return Io;for(var r=Yo,i=Object.keys(n),o=0;o<i.length;o++){var s=n[i[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return Oo;s.preprocess&&r!==Oo&&(r=jo),s.postprocess&&r!==Oo&&r!==jo&&(r=Ro)}return r},i.render=function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,o=e.error,s=Object.keys(n).map(function(e){return n[e]}),a=s.filter(function(e){return!e.progress.uploadStarted&&!e.progress.preprocess&&!e.progress.postprocess}),l=s.filter(function(e){return e.progress.uploadStarted}).filter(function(e){return e.isPaused}),u=s.filter(function(e){return e.progress.uploadComplete}),c=s.filter(function(e){return e.error}),d=s.filter(function(e){return!e.progress.uploadComplete&&e.progress.uploadStarted}),h=d.filter(function(e){return!e.isPaused}),p=s.filter(function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}),f=s.filter(function(e){return e.progress.preprocess||e.progress.postprocess}),m=this.getTotalETA(h),g=0,v=0;p.forEach(function(e){g+=e.progress.bytesTotal||0,v+=e.progress.bytesUploaded||0});var y=p.length>0,_=100===i&&u.length===Object.keys(n).length&&0===f.length,b=o&&c.length===s.length,w=0!==d.length&&l.length===d.length,k=d.length>0,L=t.resumableUploads||!1,M=!1!==t.uploadProgress;return function(e){var t,n,r=e=e||{},i=r.newFiles,o=r.allowNewUpload,s=r.isUploadInProgress,a=r.isAllPaused,l=r.resumableUploads,u=r.error,c=r.hideUploadButton,d=r.hidePauseResumeButton,h=r.hideCancelButton,p=r.hideRetryButton,f=e.uploadState,m=e.totalProgress;if(f===jo||f===Ro){var g=function(e){var t=[];Object.keys(e).forEach(function(n){var r=e[n].progress;r.preprocess&&t.push(r.preprocess),r.postprocess&&t.push(r.postprocess)});var n=t[0];return{mode:n.mode,message:n.message,value:t.filter(function(e){return"determinate"===e.mode}).reduce(function(e,t,n,r){return e+t.value/r.length},0)}}(e.files);"determinate"===(t=g.mode)&&(m=100*g.value),n=Wo(g)}else f===Io?n=Jo(e):f===Oo?(e.supportsUploadProgress||(t="indeterminate",m=null),n=Go(e)):"error"===f&&(m=void 0,n=Xo(e));var v="number"==typeof m?m:100,y=f===Yo&&e.hideUploadButton||f===Yo&&!e.newFiles>0||f===Io&&e.hideAfterFinish,_=!u&&i&&!s&&!a&&o&&!c,b=!h&&f!==Yo&&f!==Io,w=l&&!d&&f===Oo,k=u&&!p,L="uppy-StatusBar-progress\n                           "+(t?"is-"+t:""),M=ri({"uppy-Root":e.isTargetDOMEl},"uppy-StatusBar","is-"+f);return Ho("div",{class:M,"aria-hidden":y},Ho("div",{class:L,style:{width:v+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":m}),n,Ho("div",{class:"uppy-StatusBar-actions"},_?Ho(No,Q({},e,{uploadState:f})):null,k?Ho(zo,e):null,w?Ho(Zo,e):null,b?Ho(Bo,e):null))}({error:o,uploadState:this.getUploadingState(b,_,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:g,totalUploadedSize:v,isAllComplete:_,isAllPaused:w,isAllErrored:b,isUploadStarted:y,isUploadInProgress:k,complete:u.length,newFiles:a.length,numUploads:p.length,totalETA:m,files:n,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,resumableUploads:L,supportsUploadProgress:M,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},i.install=function(){var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.unmount()},t}(Ur.Plugin),Yi.VERSION="1.7.6",ji),es=Ur.Plugin,ts=Ir.h,ns=(Ri=Oi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).render=function(e){var t=e.info,n=t.isHidden,i=t.message,o=t.details;return ts("div",{class:"uppy uppy-Informer","aria-hidden":n},ts("p",{role:"alert"},i," ",o&&ts("span",{"aria-label":o,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onclick:function(){alert(i+" \n\n "+o)},onMouseOver:function(){clearTimeout(r.uppy.infoTimeoutID)},onMouseLeave:function(){r.uppy.infoTimeoutID=setTimeout(r.uppy.hideInfo,2e3)}},"?")))},r.type="progressindicator",r.id=r.opts.id||"Informer",r.title="Informer",r.opts=ne({},{},n),r}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t.prototype.install=function(){var e=this.opts.target;e&&this.mount(e,this)},t}(es),Oi.VERSION="1.5.11",Ri),rs=function(e,t,n){var r=e.split(",")[1],i=t.mimeType||e.split(",")[0].split(":")[1].split(";")[0];null==i&&(i="plain/text");for(var o,s=atob(r),a=[],l=0;l<s.length;l++)a.push(s.charCodeAt(l));try{o=new Uint8Array(a)}catch(e){return null}return n?new File([o],t.name||"",{type:i}):new Blob([o],{type:i})},is=function(e){return 0===e.indexOf("blob:")},os=Math.log2||function(e){return Math.log(e)*Math.LOG2E},ss={toByteArray:function(e){var t,n,r=re(e),i=r[0],o=r[1],s=new us(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),a=0,l=o>0?i-4:i;for(n=0;n<l;n+=4)t=ls[e.charCodeAt(n)]<<18|ls[e.charCodeAt(n+1)]<<12|ls[e.charCodeAt(n+2)]<<6|ls[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=ls[e.charCodeAt(n)]<<2|ls[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===o&&(t=ls[e.charCodeAt(n)]<<10|ls[e.charCodeAt(n+1)]<<4|ls[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(ie(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i.push(as[t>>2]+as[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(as[t>>10]+as[t>>4&63]+as[t<<2&63]+"=")),i.join("")}},as=[],ls=[],us="undefined"!=typeof Uint8Array?Uint8Array:Array,cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ds=0,hs=cs.length;ds<hs;++ds)as[ds]=cs[ds],ls[cs.charCodeAt(ds)]=ds;ls["-".charCodeAt(0)]=62,ls["_".charCodeAt(0)]=63;var ps,fs,ms={read:function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+p]=255&s,p+=f,s/=256,u-=8);e[n+p-f]|=128*m}},gs={exports:{}};(function(e,t,n){var r;r=this,function(r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});var n=["prototype","__proto__","caller","arguments","length","name"];Object.getOwnPropertyNames(t).forEach(function(r){-1===n.indexOf(r)&&e[r]!==t[r]&&(e[r]=t[r])}),t&&c(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return(d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return(h=function(e){function n(){return d(e,arguments,u(this).constructor)}if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function g(e){return-1!==this.indexOf(e)}function v(e){return void 0===e||(e instanceof le?0===e.size:0===Q(e).filter(me).length)}function y(e){var t=new Error(e);throw delete t.stack,t}function _(e){var t=function(e){var t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}function b(e,t){y("".concat(e," '").concat(t,"' was not loaded, try using full build of exifr."))}function w(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function k(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function L(e,t){return(n=e).startsWith("data:")||n.length>1e4?Se(e,t,"base64"):ce?xe(e,t,"url",Le):he?Se(e,t,"fs"):void y("Invalid input argument");var n}function M(e,t,n){var r=new Te,i=n;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=re(i));for(var o=0;o<i.length;o++){var s=i[o],a=s[0],l=s[1];r.set(a,l)}if(Array.isArray(t)){var u=t;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=re(u));for(var c=0;c<u.length;c++){var d=u[c];e.set(d,r)}}else e.set(t,r);return r}function S(e,t,n){var r,i=e.get(t),o=n;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=re(o));for(var s=0;s<o.length;s++)r=o[s],i.set(r[0],r[1])}function x(e,t){var n,r,i,o=[],s=t;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=re(s));for(var a=0;a<s.length;a++){r=s[a],n=[];var l=De.get(r);Array.isArray(l)||("function"==typeof l.entries&&(l=l.entries()),l=re(l));for(var u=0;u<l.length;u++)i=l[u],(e.includes(i[0])||e.includes(i[1]))&&n.push(i[0]);n.length&&o.push([r,n])}return o}function T(e,t){return void 0!==e?e:void 0!==t?t:void 0}function D(e,t){var n=t;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=re(n));for(var r=0;r<n.length;r++){var i=n[r];e.add(i)}}function F(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function A(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function E(){}function P(){}function C(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Y(){}function j(e,t){if(!t)return e&&e.then?e.then(Y):Promise.resolve()}function O(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function R(e,t,n){if(!e.s){if(n instanceof Ge){if(!n.s)return void(n.o=R.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(R.bind(null,e,t),R.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}function I(e){return e instanceof Ge&&1&e.s}function U(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function H(e){return e>=224&&e<=239}function N(e,t){var n=be;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=re(n));for(var r=0;r<n.length;r++){var i=n[r],o=i[0];if(i[1].canHandle(e,t))return o}}function z(){}function B(e,t){if(!t)return e&&e.then?e.then(z):Promise.resolve()}function Z(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function q(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}function W(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function V(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function $(){}function K(e,t,n){return e<=t&&t<=n}function G(){}function J(e,t){if(!t)return e&&e.then?e.then(G):Promise.resolve()}function X(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var Q=Object.values||function(e){var t=[];for(var n in e)t.push(e[n]);return t},ee=Object.entries||function(e){var t=[];for(var n in e)t.push([n,e[n]]);return t},te=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)e[n]=t[n]}),e},ne=Object.fromEntries||function(e){var t={};return re(e).forEach(function(e){var n=e[0],r=e[1];t[n]=r}),t},re=Array.from||function(e){if(e instanceof le){var t=[];return e.forEach(function(e,n){return t.push([n,e])}),t}return Array.prototype.slice.call(e)};Array.prototype.includes||(Array.prototype.includes=g),String.prototype.includes||(String.prototype.includes=g),String.prototype.startsWith||(String.prototype.startsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.substring(t,t+e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return this.substring(t-e.length,t)===e});var ie="undefined"!=typeof self?self:t,oe=ie.fetch||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var i=new XMLHttpRequest;if(i.open("get",e,!0),i.responseType="arraybuffer",i.onerror=r,t.headers)for(var o in t.headers)i.setRequestHeader(o,t.headers[o]);i.onload=function(){n({ok:i.status>=200&&i.status<300,status:i.status,arrayBuffer:function(){return Promise.resolve(i.response)}})},i.send(null)})},se=function(e){var t=[];if(Object.defineProperties(t,{size:{get:function(){return this.length}},has:{value:function(e){return-1!==this.indexOf(e)}},add:{value:function(e){this.has(e)||this.push(e)}},delete:{value:function(e){if(this.has(e)){var t=this.indexOf(e);this.splice(t,1)}}}}),Array.isArray(e))for(var n=0;n<e.length;n++)t.add(e[n]);return t},ae=function(e){return new le(e)},le=void 0!==ie.Map&&void 0!==ie.Map.prototype.keys?ie.Map:function(){function e(t){if(i(this,e),this.clear(),t)for(var n=0;n<t.length;n++)this.set(t[n][0],t[n][1])}return s(e,[{key:"clear",value:function(){this._map={},this._keys=[]}},{key:"get",value:function(e){return this._map["map_"+e]}},{key:"set",value:function(e,t){return this._map["map_"+e]=t,this._keys.indexOf(e)<0&&this._keys.push(e),this}},{key:"has",value:function(e){return this._keys.indexOf(e)>=0}},{key:"delete",value:function(e){var t=this._keys.indexOf(e);return!(t<0||(delete this._map["map_"+e],this._keys.splice(t,1),0))}},{key:"keys",value:function(){return this._keys.slice(0)}},{key:"values",value:function(){var e=this;return this._keys.map(function(t){return e.get(t)})}},{key:"entries",value:function(){var e=this;return this._keys.map(function(t){return[t,e.get(t)]})}},{key:"forEach",value:function(e,t){for(var n=0;n<this._keys.length;n++)e.call(t,this._map["map_"+this._keys[n]],this._keys[n],this)}},{key:"size",get:function(){return this._keys.length}}]),e}(),ue="undefined"!=typeof self?self:t,ce="undefined"!=typeof navigator,de=ce&&"undefined"==typeof HTMLImageElement,he=!(void 0===t||void 0===e||!e.versions||!e.versions.node),pe=ue.Buffer,fe=!!pe,me=function(e){return void 0!==e},ge="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0,ve=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(i(this,e),"boolean"==typeof o&&(this.le=o),Array.isArray(t)&&(t=new Uint8Array(t)),0===t)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){void 0===r&&(r=t.byteLength-n);var s=new DataView(t,n,r);this._swapDataView(s)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof e){void 0===r&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength&&y("Creating view outside of available memory in ArrayBuffer");var a=new DataView(t.buffer,n,r);this._swapDataView(a)}else if("number"==typeof t){var l=new DataView(new ArrayBuffer(t));this._swapDataView(l)}else y("Invalid input argument for BufferView: "+t)}return s(e,null,[{key:"from",value:function(t,n){return t instanceof this&&t.le===n?t:new e(t,void 0,void 0,n)}}]),s(e,[{key:"_swapArrayBuffer",value:function(e){this._swapDataView(new DataView(e))}},{key:"_swapBuffer",value:function(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}},{key:"_swapDataView",value:function(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}},{key:"_lengthToEnd",value:function(e){return this.byteLength-e}},{key:"set",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return t instanceof DataView||t instanceof e?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||y("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new r(this,n,t.byteLength)}},{key:"subarray",value:function(t,n){return new e(this,t,n=n||this._lengthToEnd(t))}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}},{key:"getString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;return function(e){return ge?ge.decode(e):fe?n.from(e).toString("utf8"):decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}(this.getUint8Array(e,t))}},{key:"getUnicodeString",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,n=[],r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return n.map(function(e){return String.fromCharCode(e)}).join("")}},{key:"getInt8",value:function(e){return this.dataView.getInt8(e)}},{key:"getUint8",value:function(e){return this.dataView.getUint8(e)}},{key:"getInt16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt16(e,t)}},{key:"getInt32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt32(e,t)}},{key:"getUint16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint16(e,t)}},{key:"getUint32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint32(e,t)}},{key:"getFloat32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getFloat64",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getDouble",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getUintBytes",value:function(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}},{key:"getUint",value:function(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}},{key:"toString",value:function(e){return this.dataView.toString(e,this.constructor.name)}},{key:"ensureChunk",value:function(){}}]),e}(),ye=function(e){function t(e){var n;return i(this,t),(n=f(this,u(t).call(this))).kind=e,n}return l(t,h(le)),s(t,[{key:"get",value:function(e,n){return this.has(e)||b(this.kind,e),n&&(e in n||function(e,t){y("Unknown ".concat(e," '").concat(t,"'."))}(this.kind,e),n[e].enabled||b(this.kind,e)),m(u(t.prototype),"get",this).call(this,e)}},{key:"keyList",value:function(){return re(this.keys())}}]),t}(),_e=new ye("file parser"),be=new ye("segment parser"),we=new ye("file reader"),ke=w(function(e){return new Promise(function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result||new ArrayBuffer)},r.onerror=n,r.readAsArrayBuffer(e)})}),Le=w(function(e){return oe(e).then(function(e){return e.arrayBuffer()})}),Me=w(function(e,t){return k(t(e),function(e){return new ve(e)})}),Se=w(function(e,t,n){var r=new(we.get(n))(e,t);return k(r.read(),function(){return r})}),xe=w(function(e,t,n,r){return we.has(n)?Se(e,t,n):r?Me(e,r):(y("Parser ".concat(n," is not loaded")),k())}),Te=function(e){function t(){return i(this,t),f(this,u(t).apply(this,arguments))}return l(t,h(le)),s(t,[{key:"tagKeys",get:function(){return this.allKeys||(this.allKeys=re(this.keys())),this.allKeys}},{key:"tagValues",get:function(){return this.allValues||(this.allValues=re(this.values())),this.allValues}}]),t}(),De=ae(),Fe=ae(),Ae=ae(),Ee=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Pe=["jfif","xmp","icc","iptc"],Ce=["tiff"].concat(Pe),Ye=["ifd0","ifd1","exif","gps","interop"],je=[].concat(Ce,Ye),Oe=["makerNote","userComment"],Re=["translateKeys","translateValues","reviveValues","multiSegment"],Ie=[].concat(Re,["sanitize","mergeOutput"]),Ue=function(){function e(){i(this,e)}return s(e,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),e}(),He=function(e){function t(e,n,r,o){var s;if(i(this,t),a(p(s=f(this,u(t).call(this))),"enabled",!1),a(p(s),"skip",se()),a(p(s),"pick",se()),a(p(s),"deps",se()),a(p(s),"translateKeys",!1),a(p(s),"translateValues",!1),a(p(s),"reviveValues",!1),s.key=e,s.enabled=n,s.parse=s.enabled,s.applyInheritables(o),s.canBeFiltered=Ye.includes(e),s.canBeFiltered&&(s.dict=De.get(e)),void 0!==r)if(Array.isArray(r))s.parse=s.enabled=!0,s.canBeFiltered&&r.length>0&&s.translateTagSet(r,s.pick);else if("object"==typeof r){if(s.enabled=!0,s.parse=!1!==r.parse,s.canBeFiltered){var l=r.pick,c=r.skip;l&&l.length>0&&s.translateTagSet(l,s.pick),c&&c.length>0&&s.translateTagSet(c,s.skip)}s.applyInheritables(r)}else!0===r||!1===r?s.parse=s.enabled=r:y("Invalid options argument: ".concat(r));return s}return l(t,Ue),s(t,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}}]),s(t,[{key:"applyInheritables",value:function(e){var t,n,r=Re;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=re(r));for(var i=0;i<r.length;i++)void 0!==(n=e[t=r[i]])&&(this[t]=n)}},{key:"translateTagSet",value:function(e,t){if(this.dict){var n,r,i=this.dict,o=i.tagKeys,s=i.tagValues,a=e;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=re(a));for(var l=0;l<a.length;l++)"string"==typeof(n=a[l])?(-1===(r=s.indexOf(n))&&(r=o.indexOf(Number(n))),-1!==r&&t.add(Number(o[r]))):t.add(n)}else{var u=e;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=re(u));for(var c=0;c<u.length;c++){var d=u[c];t.add(d)}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,D(this.pick,this.deps)):this.enabled&&this.pick.size>0&&D(this.pick,this.deps)}}]),t}(),Ne={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},ze=ae(),Be=function(e){function t(e){var n;return i(this,t),n=f(this,u(t).call(this)),!0===e?n.setupFromTrue():void 0===e?n.setupFromUndefined():Array.isArray(e)?n.setupFromArray(e):"object"==typeof e?n.setupFromObject(e):y("Invalid options argument ".concat(e)),void 0===n.firstChunkSize&&(n.firstChunkSize=ce?n.firstChunkSizeBrowser:n.firstChunkSizeNode),n.mergeOutput&&(n.ifd1.enabled=!1),n.filterNestedSegmentTags(),n.traverseTiffDependencyTree(),n.checkLoadedPlugins(),n}return l(t,Ue),s(t,null,[{key:"useCached",value:function(e){var t=ze.get(e);return void 0!==t||(t=new this(e),ze.set(e,t)),t}}]),s(t,[{key:"setupFromUndefined",value:function(){var e,t=Ee;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=re(t));for(var n=0;n<t.length;n++)this[e=t[n]]=Ne[e];var r=Ie;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=re(r));for(var i=0;i<r.length;i++)this[e=r[i]]=Ne[e];var o=Oe;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=re(o));for(var s=0;s<o.length;s++)this[e=o[s]]=Ne[e];var a=je;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=re(a));for(var l=0;l<a.length;l++)this[e=a[l]]=new He(e,Ne[e],void 0,this)}},{key:"setupFromTrue",value:function(){var e,t=Ee;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=re(t));for(var n=0;n<t.length;n++)this[e=t[n]]=Ne[e];var r=Ie;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=re(r));for(var i=0;i<r.length;i++)this[e=r[i]]=Ne[e];var o=Oe;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=re(o));for(var s=0;s<o.length;s++)this[e=o[s]]=!0;var a=je;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=re(a));for(var l=0;l<a.length;l++)this[e=a[l]]=new He(e,!0,void 0,this)}},{key:"setupFromArray",value:function(e){var t,n=Ee;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=re(n));for(var r=0;r<n.length;r++)this[t=n[r]]=Ne[t];var i=Ie;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=re(i));for(var o=0;o<i.length;o++)this[t=i[o]]=Ne[t];var s=Oe;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=re(s));for(var a=0;a<s.length;a++)this[t=s[a]]=Ne[t];var l=je;Array.isArray(l)||("function"==typeof l.entries&&(l=l.entries()),l=re(l));for(var u=0;u<l.length;u++)this[t=l[u]]=new He(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,Ye)}},{key:"setupFromObject",value:function(e){var t;Ye.ifd0=Ye.ifd0||Ye.image,Ye.ifd1=Ye.ifd1||Ye.thumbnail,te(this,e);var n=Ee;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=re(n));for(var r=0;r<n.length;r++)this[t=n[r]]=T(e[t],Ne[t]);var i=Ie;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=re(i));for(var o=0;o<i.length;o++)this[t=i[o]]=T(e[t],Ne[t]);var s=Oe
;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=re(s));for(var a=0;a<s.length;a++)this[t=s[a]]=T(e[t],Ne[t]);var l=Ce;Array.isArray(l)||("function"==typeof l.entries&&(l=l.entries()),l=re(l));for(var u=0;u<l.length;u++)this[t=l[u]]=new He(t,Ne[t],e[t],this);var c=Ye;Array.isArray(c)||("function"==typeof c.entries&&(c=c.entries()),c=re(c));for(var d=0;d<c.length;d++)this[t=c[d]]=new He(t,Ne[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Ye,je),!0===e.tiff?this.batchEnableWithBool(Ye,!0):!1===e.tiff?this.batchEnableWithUserValue(Ye,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Ye):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Ye)}},{key:"batchEnableWithBool",value:function(e,t){var n=e;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=re(n));for(var r=0;r<n.length;r++)this[n[r]].enabled=t}},{key:"batchEnableWithUserValue",value:function(e,t){var n=e;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=re(n));for(var r=0;r<n.length;r++){var i=n[r],o=t[i];this[i].enabled=!1!==o&&void 0!==o}}},{key:"setupGlobalFilters",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(e&&e.length){var i=r;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=re(i));for(var o=0;o<i.length;o++)this[i[o]].enabled=!1;var s=x(e,n);Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=re(s));for(var a=0;a<s.length;a++){var l=s[a],u=l[0],c=l[1];D(this[u].pick,c),this[u].enabled=!0}}else if(t&&t.length){var d=x(t,n);Array.isArray(d)||("function"==typeof d.entries&&(d=d.entries()),d=re(d));for(var h=0;h<d.length;h++){var p=d[h],f=p[0],m=p[1];D(this[f].skip,m)}}}},{key:"filterNestedSegmentTags",value:function(){var e=this.ifd0,t=this.exif,n=this.xmp,r=this.iptc,i=this.icc;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}},{key:"traverseTiffDependencyTree",value:function(){var e=this,t=this.ifd0,n=this.exif,r=this.gps;this.interop.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=Ye.some(function(t){return!0===e[t].enabled})||this.makerNote||this.userComment;var i=Ye;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=re(i));for(var o=0;o<i.length;o++)this[i[o]].finalizeFilters()}},{key:"checkLoadedPlugins",value:function(){var e=Ce;Array.isArray(e)||("function"==typeof e.entries&&(e=e.entries()),e=re(e));for(var t=0;t<e.length;t++){var n=e[t];this[n].enabled&&!be.has(n)&&b("segment parser",n)}}},{key:"onlyTiff",get:function(){var e=this;return!Pe.map(function(t){return e[t].enabled}).some(function(e){return!0===e})&&this.tiff.enabled}}]),t}();a(Be,"default",Ne);var Ze,qe=function(){function e(t){i(this,e),a(this,"parsers",{}),this.options=Be.useCached(t)}return s(e,[{key:"setup",value:function(){if(!this.fileParser){var e=this.file,t=e.getUint16(0),n=_e;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=re(n));for(var r=0;r<n.length;r++){var i=n[r],o=i[0],s=i[1];if(s.canHandle(e,t))return this.fileParser=new s(this.options,this.file,this.parsers),e[o]=!0}y("Unknown file format")}}},{key:"read",value:function(e){try{var t=this;return F(function(e,t){return"string"==typeof e?L(e,t):ce&&!de&&e instanceof HTMLImageElement?L(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new ve(e):ce&&e instanceof Blob?xe(e,t,"blob",ke):void y("Invalid input argument")}(e,t.options),function(e){t.file=e})}catch(e){return Promise.reject(e)}}},{key:"parse",value:function(){try{var e=this;return e.setup(),F(e.fileParser.parse(),function(){var t,n={},r=[],i=Q(e.parsers).map((t=function(t){var i;return A(function(){return e.options.silentErrors?(o=function(){r.push.apply(r,t.errors)},(n=function(e,t){try{var n=function(){return F(t.parse(),function(e){i=e})}()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(0,function(e){r.push(e)}))&&n.then?n.then(o):o()):F(t.parse(),function(e){i=e});var n,o},function(){t.assignToOutput(n,i)})},function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(e){return Promise.reject(e)}}));return F(Promise.all(i),function(){return e.options.silentErrors&&r.length>0&&(n.errors=r),e.file.close&&e.file.close(),v(t=n)?void 0:t;var t})})}catch(e){return Promise.reject(e)}}},{key:"extractThumbnail",value:function(){try{var e=this;e.setup();var t,n=e.options,r=e.file,i=be.get("tiff",n);return A(function(){if(!r.tiff)return function(e){var t=function(){if(r.jpeg)return F(e.fileParser.getOrFindSegment("tiff"),function(e){t=e})}();if(t&&t.then)return t.then(E)}();t={start:0,type:"tiff"}},function(){if(void 0!==t)return F(e.fileParser.ensureSegmentChunk(t),function(t){return F((e.parsers.tiff=new i(t,n,r)).extractThumbnail(),function(e){return r.close&&r.close(),e})})})}catch(e){return Promise.reject(e)}}}]),e}(),We=(Ze=function(e,t){var n,r,i=new qe(t);return r=function(){return i.parse()},(n=i.read(e))&&n.then||(n=Promise.resolve(n)),r?n.then(r):n},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(Ze.apply(this,e))}catch(e){return Promise.reject(e)}}),Ve=Object.freeze({__proto__:null,parse:We,Exifr:qe,fileParsers:_e,segmentParsers:be,fileReaders:we,tagKeys:De,tagValues:Fe,tagRevivers:Ae,createDictionary:M,extendDictionary:S,fetchUrlAsArrayBuffer:Le,readBlobAsArrayBuffer:ke,chunkedProps:Ee,otherSegments:Pe,segments:Ce,tiffBlocks:Ye,segmentsAndBlocks:je,tiffExtractables:Oe,inheritables:Re,allFormatters:Ie,Options:Be}),$e=function(){function e(t,n,r){var o=this;i(this,e),a(this,"ensureSegmentChunk",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(function(e){var t,n,r,i=e.start,s=e.size||65536;return t=function(){if(o.file.chunked)return function(e){var t=function(){if(!o.file.available(i,s))return function(e){if(e&&e.then)return e.then(P)}(function(e,t){try{var n=function(){return n=function(t){e.chunk=t},(t=o.file.readChunk(i,s))&&t.then||(t=Promise.resolve(t)),n?t.then(n):t;var t,n}()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(0,function(t){y("Couldn't read segment: ".concat(JSON.stringify(e),". ").concat(t.message))}));e.chunk=o.file.subarray(i,s)}();if(t&&t.then)return t.then(P)}();o.file.byteLength>i+s?e.chunk=o.file.subarray(i,s):void 0===e.size?e.chunk=o.file.subarray(i):y("Segment unreachable: "+JSON.stringify(e))},n=function(){return e.chunk},(r=t())&&r.then?r.then(n):n()}.apply(this,e))}catch(e){return Promise.reject(e)}}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=r}return s(e,[{key:"createParser",value:function(e,t){var n=new(be.get(e))(t,this.options,this.file);return this.parsers[e]=n}}]),e}(),Ke=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;i(this,e),a(this,"errors",[]),a(this,"raw",ae()),a(this,"handleError",function(e){if(!n.options.silentErrors)throw e;n.errors.push(e.message)}),this.chunk=this.normalizeInput(t),this.file=o,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return s(e,[{key:"normalizeInput",value:function(e){return e instanceof ve?e:new ve(e)}}],[{key:"findPosition",value:function(e,t){var n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,o=n-r;return{offset:t,length:n,headerLength:r,start:i,size:o,end:i+o}}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this(e,new Be(a({},this.type,t))).parse()}}]),s(e,[{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"translateBlock",value:function(e,t){var n=Ae.get(t),r=Fe.get(t),i=De.get(t),o=this.options[t],s=o.reviveValues&&!!n,a=o.translateValues&&!!r,l=o.translateKeys&&!!i,u={},c=e;Array.isArray(c)||("function"==typeof c.entries&&(c=c.entries()),c=re(c));for(var d=0;d<c.length;d++){var h=c[d],p=h[0],f=h[1];s&&n.has(p)?f=n.get(p)(f):a&&r.has(p)&&(f=this.translateValue(f,r.get(p))),l&&i.has(p)&&(p=i.get(p)||p),u[p]=f}return u}},{key:"translateValue",value:function(e,t){return t[e]||e}},{key:"assignToOutput",value:function(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}},{key:"assignObjectToOutput",value:function(e,t,n){if(this.globalOptions.mergeOutput)return te(e,n);e[t]?te(e[t],n):e[t]=n}},{key:"output",get:function(){return this.translated?this.translated:this.raw?ne(this.raw):void 0}}]),e}();a(Ke,"headerLength",4),a(Ke,"type",void 0),a(Ke,"multiSegment",!1),a(Ke,"canHandle",function(){return!1});var Ge=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var o=1&i?t:n;if(o){try{R(r,1,o(this.v))}catch(e){R(r,2,e)}return r}return this}return this.o=function(e){try{var i=e.v;1&e.s?R(r,1,t?t(i):i):n?R(r,1,n(i)):R(r,2,i)}catch(e){R(r,2,e)}},r},e}(),Je=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return a(p(n=f(this,(e=u(t)).call.apply(e,[this].concat(o)))),"appSegments",[]),a(p(n),"jpegSegments",[]),a(p(n),"unknownSegments",[]),n}return l(t,$e),s(t,[{key:"parse",value:function(){try{var e=this;return C(e.findAppSegments(),function(){return C(e.readSegments(),function(){e.mergeMultiSegments(),e.createParsers()})})}catch(e){return Promise.reject(e)}}},{key:"readSegments",value:function(){try{var e=this.appSegments.map(this.ensureSegmentChunk);return j(Promise.all(e))}catch(e){return Promise.reject(e)}}},{key:"setupSegmentFinderArgs",value:function(e){var t=this;!0===e?(this.findAll=!0,this.wanted=se(be.keyList())):(e=void 0===e?be.keyList().filter(function(e){return t.options[e].enabled}):e.filter(function(e){return t.options[e].enabled&&be.has(e)}),this.findAll=!1,this.remaining=se(e),this.wanted=se(e)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{var n=this;n.setupSegmentFinderArgs(t);var r=n.file,i=n.findAll,o=n.wanted,s=n.remaining;return O(function(){if(!i&&n.file.chunked)return i=re(o).some(function(e){var t=be.get(e),r=n.options[e];return t.multiSegment&&r.multiSegment}),function(e){var t=function(){if(i)return j(n.file.readWhole())}();if(t&&t.then)return t.then(Y)}()},function(){var t=!1;if(e=n._findAppSegments(e,r.byteLength,i,o,s),!n.options.onlyTiff)return function(){if(r.chunked){var i=!1;return function(e,t,n){function r(t){u=t;do{if(!(a=e())||I(a)&&!a.v)return void R(c,1,u);if(a.then)return void a.then(i).then(void 0,d);I(u=n())&&(u=u.v)}while(!u||!u.then);u.then(r).then(void 0,d)}function i(e){e?(u=n())&&u.then?u.then(r).then(void 0,d):r(u):R(c,1,u)}function o(){(a=e())?a.then?a.then(i).then(void 0,d):i(a):R(c,1,u)}for(var s;;){var a=e();if(I(a)&&(a=a.v),!a)return u;if(a.then){s=0;break}var l,u=n();if(u&&u.then){if(!I(u)){s=1;break}u=u.s}}var c=new Ge,d=R.bind(null,c,2);return(0===s?a.then(i):1===s?u.then(r):l.then(o)).then(void 0,d),c}(function(){return!t&&s.size>0&&!i&&(!!r.canReadNextChunk||!!n.unfinishedMultiSegment)},0,function(){var o=r.nextChunkOffset,s=n.appSegments.some(function(e){return!n.file.available(e.offset||e.start,e.length||e.size)});return O(function(){return C(e>o&&!s?r.readNextChunk(e):r.readNextChunk(o),function(e){i=!e})},function(){void 0===(e=n._findAppSegments(e,r.byteLength))&&(t=!0)})})}}()})}catch(e){return Promise.reject(e)}}},{key:"_findAppSegments",value:function(e,t){t-=2;for(var n,r,i,o,s,a,l=this.file,u=this.findAll,c=this.wanted,d=this.remaining,h=this.options;e<t;e++)if(255===l.getUint8(e))if(H(n=l.getUint8(e+1))){if(r=l.getUint16(e+2),(i=N(l,e))&&c.has(i)&&(s=(o=be.get(i)).findPosition(l,e),a=h[i],s.type=i,this.appSegments.push(s),!u&&(o.multiSegment&&a.multiSegment?(this.unfinishedMultiSegment=s.chunkNumber<s.chunkCount,this.unfinishedMultiSegment||d.delete(i)):d.delete(i),0===d.size)))break;h.recordUnknownSegments&&((s=Ke.findPosition(l,e)).marker=n,this.unknownSegments.push(s)),e+=r+1}else if(U(n)){if(r=l.getUint16(e+2),218===n&&!1!==h.stopAfterSos)return;h.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}},{key:"mergeMultiSegments",value:function(){var e=this;if(this.appSegments.some(function(e){return e.multiSegment})){var t=function(e,t){for(var n,r,i,o=ae(),s=0;s<e.length;s++)r=(n=e[s]).type,o.has(r)?i=o.get(r):o.set(r,i=[]),i.push(n);return re(o)}(this.appSegments);this.mergedAppSegments=t.map(function(t){var n=t[0],r=t[1],i=be.get(n,e.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}}},{key:"createParsers",value:function(){try{var e=this.mergedAppSegments||this.appSegments;Array.isArray(e)||("function"==typeof e.entries&&(e=e.entries()),e=re(e));for(var t=0;t<e.length;t++){var n=e[t],r=n.type,i=n.chunk;if(this.options[r].enabled){var o=this.parsers[r];if(o&&o.append);else if(!o){var s=new(be.get(r,this.options))(i,this.options,this.file);this.parsers[r]=s}}}return C()}catch(e){return Promise.reject(e)}}},{key:"getSegment",value:function(e){return this.appSegments.find(function(t){return t.type===e})}},{key:"getOrFindSegment",value:function(e){try{var t=this,n=t.getSegment(e);return O(function(){if(void 0===n)return C(t.findAppSegments(0,[e]),function(){n=t.getSegment(e)})},function(){return n})}catch(e){return Promise.reject(e)}}}],[{key:"canHandle",value:function(e,t){return 65496===t}}]),t}();a(Je,"type","jpeg"),_e.set("jpeg",Je);var Xe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],Qe=function(e){function t(){return i(this,t),f(this,u(t).apply(this,arguments))}return l(t,e),s(t,[{key:"parse",value:function(){try{var e=this;e.parseHeader();var t=e.options;return Z(function(){if(t.ifd0.enabled)return B(e.parseIfd0Block())},function(){return Z(function(){if(t.exif.enabled)return B(e.safeParse("parseExifBlock"))},function(){return Z(function(){if(t.gps.enabled)return B(e.safeParse("parseGpsBlock"))},function(){return Z(function(){if(t.interop.enabled)return B(e.safeParse("parseInteropBlock"))},function(){return Z(function(){if(t.ifd1.enabled)return B(e.safeParse("parseThumbnailBlock"))},function(){return e.createOutput()})})})})})}catch(e){return Promise.reject(e)}}},{key:"safeParse",value:function(e){var t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}},{key:"findIfd0Offset",value:function(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(void 0===this.ifd1Offset){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}},{key:"parseBlock",value:function(e,t){var n=ae();return this[t]=n,this.parseTags(e,t,n),n}},{key:"parseIfd0Block",value:function(){try{var e=this;if(e.ifd0)return;var t=e.file;return e.findIfd0Offset(),e.ifd0Offset<8&&y("Malformed EXIF data"),!t.chunked&&e.ifd0Offset>t.byteLength&&y("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(e.ifd0Offset,", file.byteLength: ").concat(t.byteLength)),Z(function(){if(t.tiff)return B(t.ensureChunk(e.ifd0Offset,_(e.options)))},function(){var t=e.parseBlock(e.ifd0Offset,"ifd0");if(0!==t.size)return e.exifOffset=t.get(34665),e.interopOffset=t.get(40965),e.gpsOffset=t.get(34853),e.xmp=t.get(700),e.iptc=t.get(33723),e.icc=t.get(34675),e.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t})}catch(e){return Promise.reject(e)}}},{key:"parseExifBlock",value:function(){try{var e=this;if(e.exif)return;return Z(function(){if(!e.ifd0)return B(e.parseIfd0Block())},function(){if(void 0!==e.exifOffset)return Z(function(){if(e.file.tiff)return B(e.file.ensureChunk(e.exifOffset,_(e.options)))},function(){var t=e.parseBlock(e.exifOffset,"exif");return e.interopOffset||(e.interopOffset=t.get(40965)),e.makerNote=t.get(37500),e.userComment=t.get(37510),e.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),e.unpack(t,41728),e.unpack(t,41729),t})})}catch(e){return Promise.reject(e)}}},{key:"unpack",value:function(e,t){var n=e.get(t);n&&1===n.length&&e.set(t,n[0])}},{key:"parseGpsBlock",value:function(){try{var e=this;if(e.gps)return;return Z(function(){if(!e.ifd0)return B(e.parseIfd0Block())},function(){if(void 0!==e.gpsOffset){var t=e.parseBlock(e.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",q.apply(void 0,t.get(2).concat([t.get(1)]))),t.set("longitude",q.apply(void 0,t.get(4).concat([t.get(3)])))),t}})}catch(e){return Promise.reject(e)}}},{key:"parseInteropBlock",value:function(){try{var e=this;if(e.interop)return;return Z(function(){if(!e.ifd0)return B(e.parseIfd0Block())},function(){return Z(function(){if(void 0===e.interopOffset&&!e.exif)return B(e.parseExifBlock())},function(){if(void 0!==e.interopOffset)return e.parseBlock(e.interopOffset,"interop")})})}catch(e){return Promise.reject(e)}}},{key:"parseThumbnailBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t=this;if(t.ifd1||t.ifd1Parsed)return;if(t.options.mergeOutput&&!e)return;return t.findIfd1Offset(),t.ifd1Offset>0&&(t.parseBlock(t.ifd1Offset,"ifd1"),t.ifd1Parsed=!0),t.ifd1}catch(e){return Promise.reject(e)}}},{key:"extractThumbnail",value:function(){try{var e=this;return e.headerParsed||e.parseHeader(),Z(function(){if(!e.ifd1Parsed)return B(e.parseThumbnailBlock(!0))},function(){if(void 0!==e.ifd1){var t=e.ifd1.get(513),n=e.ifd1.get(514);return e.chunk.getUint8Array(t,n)}})}catch(e){return Promise.reject(e)}}},{key:"createOutput",value:function(){var e,t,n,r={},i=Ye;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=re(i));for(var o=0;o<i.length;o++)if(!v(e=this[t=i[o]]))if(n=this.canTranslate?this.translateBlock(e,t):ne(e),this.options.mergeOutput){if("ifd1"===t)continue;te(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}},{key:"assignToOutput",value:function(e,t){if(this.globalOptions.mergeOutput)te(e,t);else{var n=ee(t);Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=re(n));for(var r=0;r<n.length;r++){var i=n[r],o=i[0],s=i[1];this.assignObjectToOutput(e,o,s)}}}},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}}],[{key:"canHandle",value:function(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}}]),t}(function(e){function t(){return i(this,t),f(this,u(t).apply(this,arguments))}return l(t,Ke),s(t,[{key:"parseHeader",value:function(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae(),r=this.options[t],i=r.pick,o=r.skip,s=(i=se(i)).size>0,a=0===o.size,l=this.chunk.getUint16(e);e+=2;for(var u=0;u<l;u++){var c=this.chunk.getUint16(e);if(s){if(i.has(c)&&(n.set(c,this.parseTag(e,c,t)),i.delete(c),0===i.size))break}else!a&&o.has(c)||n.set(c,this.parseTag(e,c,t));e+=12}return n}},{key:"parseTag",value:function(e,t,n){var r,i=this.chunk,o=i.getUint16(e+2),s=i.getUint32(e+4),a=Xe[o];if(a*s<=4?e+=8:e=i.getUint32(e+8),(o<1||o>13)&&y("Invalid TIFF value type. block: ".concat(n.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(o,", offset ").concat(e)),e>i.byteLength&&y("Invalid TIFF value offset. block: ".concat(n.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(o,", offset ").concat(e," is outside of chunk size ").concat(i.byteLength)),1===o)return i.getUint8Array(e,s);if(2===o)return""===(r=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(r=i.getString(e,s)).trim())?void 0:r;if(7===o)return i.getUint8Array(e,s);if(1===s)return this.parseTagValue(o,e);for(var l=new(function(e){switch(o){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}())(s),u=a,c=0;c<s;c++)l[c]=this.parseTagValue(o,e),e+=u;return l}},{key:"parseTagValue",value:function(e,t){var n=this.chunk;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);case 13:return n.getUint32(t);default:y("Invalid tiff type ".concat(e))}}}]),t}());a(Qe,"type","tiff"),a(Qe,"headerLength",10),be.set("tiff",Qe);var et=Object.freeze({__proto__:null,default:Ve,parse:We,Exifr:qe,fileParsers:_e,segmentParsers:be,fileReaders:we,tagKeys:De,tagValues:Fe,tagRevivers:Ae,createDictionary:M,extendDictionary:S,fetchUrlAsArrayBuffer:Le,readBlobAsArrayBuffer:ke,chunkedProps:Ee,otherSegments:Pe,segments:Ce,tiffBlocks:Ye,segmentsAndBlocks:je,tiffExtractables:Oe,inheritables:Re,allFormatters:Ie,Options:Be}),tt=V(function(e){var t=new qe(at);return W(t.read(e),function(){return W(t.parse(),function(e){if(e&&e.ifd0)return e.ifd0[274]})})}),nt=V(function(e){var t=new qe(st);return W(t.read(e),function(){return W(t.parse(),function(e){if(e&&e.gps){var t=e.gps;return{latitude:t.latitude,longitude:t.longitude}}})})}),rt=V(function(e){return W(this.thumbnail(e),function(e){if(void 0!==e){var t=new Blob([e]);return URL.createObjectURL(t)}})}),it=V(function(e){var t=new qe(lt);return W(t.read(e),function(){return W(t.extractThumbnail(),function(e){return e&&fe?pe.from(e):e})})}),ot={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},st=te({},ot,{firstChunkSize:4e4,gps:[1,2,3,4]}),at=te({},ot,{firstChunkSize:4e4,ifd0:[274]}),lt=te({},ot,{tiff:!1,ifd1:!0,mergeOutput:!1}),ut={1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}};if(r.rotateCanvas=!0,r.rotateCss=!0,"object"==typeof navigator){var ct=navigator.userAgent;if(ct.includes("iPad")||ct.includes("iPhone")){var dt=ct.match(/OS (\d+)_(\d+)/),ht=(dt[0],dt[1]),pt=dt[2],ft=Number(ht)+.1*Number(pt);r.rotateCanvas=ft<13.4,r.rotateCss=!1}if(ct.includes("Chrome/")){var mt=ct.match(/Chrome\/(\d+)/),gt=(mt[0],mt[1]);Number(gt)>=81&&(r.rotateCanvas=r.rotateCss=!1)}}var vt=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return a(p(n=f(this,(e=u(t)).call.apply(e,[this].concat(o)))),"ranges",new yt),0!==n.byteLength&&n.ranges.add(0,n.byteLength),n}return l(t,ve),s(t,[{key:"_tryExtend",value:function(e,t,n){if(0===e&&0===this.byteLength&&n){var r=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(r)}else{var i=e+t;if(i>this.byteLength){var o=this._extend(i).dataView;this._swapDataView(o)}}}},{key:"_extend",value:function(e){var t;t=fe?pe.allocUnsafe(e):new Uint8Array(e);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}},{key:"subarray",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),m(u(t.prototype),"subarray",this).call(this,e,n)}},{key:"set",value:function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this._tryExtend(n,e.byteLength,e);var r=m(u(t.prototype),"set",this).call(this,e,n);return this.ranges.add(n,r.byteLength),r}},{key:"ensureChunk",value:function(e,t){try{if(!this.chunked)return;if(this.ranges.available(e,t))return;return function(e,t){return e&&e.then?e.then($):Promise.resolve()}(this.readChunk(e,t))}catch(e){return Promise.reject(e)}}},{key:"available",value:function(e,t){return this.ranges.available(e,t)}}]),t}(),yt=function(){function e(){i(this,e),a(this,"list",[])}return s(e,[{key:"add",value:function(e,t){var n=e+t,r=this.list.filter(function(t){return K(e,t.offset,n)||K(e,t.end,n)});if(r.length>0){e=Math.min.apply(Math,[e].concat(r.map(function(e){return e.offset}))),t=(n=Math.max.apply(Math,[n].concat(r.map(function(e){return e.end}))))-e;var i=r.shift();i.offset=e,i.length=t,i.end=n,this.list=this.list.filter(function(e){return!r.includes(e)})}else this.list.push({offset:e,length:t,end:n})}},{key:"available",value:function(e,t){var n=e+t;return this.list.some(function(t){return t.offset<=e&&n<=t.end})}},{key:"length",get:function(){return this.list.length}}]),e}(),_t=function(e){function t(){return i(this,t),f(this,u(t).apply(this,arguments))}return l(t,e),s(t,[{key:"readWhole",value:function(){try{var e=this;return e.chunked=!1,X(ke(e.input),function(t){e._swapArrayBuffer(t)})}catch(e){return Promise.reject(e)}}},{key:"readChunked",value:function(){return this.chunked=!0,this.size=this.input.size,m(u(t.prototype),"readChunked",this).call(this)}},{key:"_readChunk",value:function(e,t){try{var n=this,r=t?e+t:void 0,i=n.input.slice(e,r);return X(ke(i),function(t){return n.set(t,e,!0)})}catch(e){return Promise.reject(e)}}}]),t}(function(e){function t(e,n){var r;return i(this,t),a(p(r=f(this,u(t).call(this,0))),"chunksRead",0),r.input=e,r.options=n,r}return l(t,vt),s(t,[{key:"readWhole",value:function(){try{return this.chunked=!1,J(this.readChunk(this.nextChunkOffset))}catch(e){return Promise.reject(e)}}},{key:"readChunked",value:function(){try{return this.chunked=!0,J(this.readChunk(0,this.options.firstChunkSize))}catch(e){return Promise.reject(e)}}},{key:"readNextChunk",value:function(e){try{if(void 0===e&&(e=this.nextChunkOffset),this.fullyRead)return this.chunksRead++,!1;var t=this.options.chunkSize;return n=this.readChunk(e,t),r=function(e){return!!e&&e.byteLength===t},n&&n.then||(n=Promise.resolve(n)),r?n.then(r):n}catch(e){return Promise.reject(e)}var n,r}},{key:"readChunk",value:function(e,t){try{if(this.chunksRead++,0===(t=this.safeWrapAddress(e,t)))return;return this._readChunk(e,t)}catch(e){return Promise.reject(e)}}},{key:"safeWrapAddress",value:function(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}},{key:"read",value:function(){return this.options.chunked?this.readChunked():this.readWhole()}},{key:"close",value:function(){}},{key:"nextChunkOffset",get:function(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}},{key:"canReadNextChunk",get:function(){return this.chunksRead<this.options.chunkLimit}},{key:"fullyRead",get:function(){return void 0!==this.size&&this.nextChunkOffset===this.size}}]),t}());we.set("blob",_t),r.Exifr=qe,r.Options=Be,r.allFormatters=Ie,r.chunkedProps=Ee,r.createDictionary=M,r.default=et,r.disableAllOptions=ot,r.extendDictionary=S,r.fetchUrlAsArrayBuffer=Le,r.fileParsers=_e,r.fileReaders=we,r.gps=nt,r.gpsOnlyOptions=st,r.inheritables=Re,r.orientation=tt,r.orientationOnlyOptions=at,r.otherSegments=Pe,r.parse=We,r.readBlobAsArrayBuffer=ke,r.rotation=function(e){return W(tt(e),function(e){return te({canvas:r.rotateCanvas,css:r.rotateCss},ut[e])})},r.rotations=ut,r.segmentParsers=be,r.segments=Ce,r.segmentsAndBlocks=je,r.tagKeys=De,r.tagRevivers=Ae,r.tagValues=Fe,r.thumbnail=it,r.thumbnailOnlyOptions=lt,r.thumbnailUrl=rt,r.tiffBlocks=Ye,r.tiffExtractables=Oe,Object.defineProperty(r,"__esModule",{value:!0})}("object"==typeof gs.exports?gs.exports:(r=r||self).exifr={})}).call(this,Kn,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},tr({}).Buffer),gs=gs.exports;var vs=(fs=ps=function(e){function t(t,n){var r;if((r=e.call(this,t,n)||this).onFileAdded=function(e){e.preview||!Fi(e.type)||e.isRemote||r.addToQueue(e.id)},r.onCancelRequest=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1)},r.onFileRemoved=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1),e.preview&&is(e.preview)&&URL.revokeObjectURL(e.preview)},r.onRestored=function(){var e=r.uppy.getState().files;Object.keys(e).forEach(function(e){var t=r.uppy.getFile(e);t.isRestored&&(t.preview&&!is(t.preview)||r.addToQueue(t.id))})},r.waitUntilAllProcessed=function(e){e.forEach(function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:r.i18n("generatingThumbnails")})});var t=function(){e.forEach(function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)})};return new Promise(function(e,n){r.queueProcessing?r.uppy.once("thumbnail:all-generated",function(){t(),e()}):(t(),e())})},r.type="modifier",r.id=r.opts.id||"ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.defaultThumbnailDimension=200,r.defaultLocale={strings:{generatingThumbnails:"Generating thumbnails..."}},r.opts=oe({},{thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1},n),r.opts.lazy&&r.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return r.i18nInit(),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},i.createThumbnail=function(e,t,n){var r=this,i=URL.createObjectURL(e.data),o=new Promise(function(e,t){var n=new Image;n.src=i,n.addEventListener("load",function(){URL.revokeObjectURL(i),e(n)}),n.addEventListener("error",function(e){URL.revokeObjectURL(i),t(e.error||new Error("Could not create thumbnail"))})}),s=gs.rotation(e.data).catch(function(e){return 1});return Promise.all([o,s]).then(function(e){var i=e[0],o=e[1],s=r.getProportionalDimensions(i,t,n,o.deg),a=r.rotateImage(i,o),l=r.resizeImage(a,s.width,s.height);return r.canvasToBlob(l,"image/jpeg",80)}).then(function(e){return URL.createObjectURL(e)})},i.getProportionalDimensions=function(e,t,n,r){var i=e.width/e.height;return 90!==r&&270!==r||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=n?{width:Math.round(n*i),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}},i.protect=function(e){var t=e.width/e.height,n=Math.floor(Math.sqrt(5e6*t)),r=Math.floor(5e6/Math.sqrt(5e6*t));if(n>4096&&(n=4096,r=Math.round(n/t)),r>4096&&(r=4096,n=Math.round(t*r)),e.width>n){var i=document.createElement("canvas");i.width=n,i.height=r,i.getContext("2d").drawImage(e,0,0,n,r),e=i}return e},i.resizeImage=function(e,t,n){e=this.protect(e);var r=Math.ceil(os(e.width/t));r<1&&(r=1);for(var i=t*Math.pow(2,r-1),o=n*Math.pow(2,r-1);r--;){var s=document.createElement("canvas");s.width=i,s.height=o,s.getContext("2d").drawImage(e,0,0,i,o),e=s,i=Math.round(i/2),o=Math.round(o/2)}return e},i.rotateImage=function(e,t){var n=e.width,r=e.height;90!==t.deg&&270!==t.deg||(n=e.height,r=e.width);var i=document.createElement("canvas");i.width=n,i.height=r;var o=i.getContext("2d")
;return o.translate(n/2,r/2),t.canvas&&(o.rotate(t.rad),o.scale(t.scaleX,t.scaleY)),o.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i},i.canvasToBlob=function(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){if(18===e.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(function(r){e.toBlob(r,t,n)}).then(function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e}):Promise.resolve().then(function(){return rs(e.toDataURL(t,n),{})}).then(function(e){if(null===e)throw new Error("could not extract blob, probably an old browser");return e})},i.setPreviewURL=function(e,t){this.uppy.setFileState(e,{preview:t})},i.addToQueue=function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()},i.processQueue=function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch(function(e){}).then(function(){return e.processQueue()}):void this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error")}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")},i.requestThumbnail=function(e){var t=this;return Fi(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(n){t.setPreviewURL(e.id,n),t.uppy.log("[ThumbnailGenerator] Generated thumbnail for "+e.id),t.uppy.emit("thumbnail:generated",t.uppy.getFile(e.id),n)}).catch(function(n){t.uppy.log("[ThumbnailGenerator] Failed thumbnail for "+e.id+":","warning"),t.uppy.log(n,"warning"),t.uppy.emit("thumbnail:error",t.uppy.getFile(e.id),n)}):Promise.resolve()},i.install=function(){this.uppy.on("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)},i.uninstall=function(){this.uppy.off("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)},t}(Ur.Plugin),ps.VERSION="1.6.7",fs),ys=function(e){if("string"==typeof e){var t=[].slice.call(document.querySelectorAll(e));return t.length>0?t:null}if("object"==typeof e&&Hr(e))return[e]},_s=function(e){return Array.prototype.slice.call(e||[],0)},bs=function(e,t){var n=[],r=[];return _s(e.items).forEach(function(e){var i=e.webkitGetAsEntry();i&&r.push(function e(r){return new Promise(function(i){r.isFile?r.file(function(e){var t;e.relativePath=(t=r).fullPath&&t.fullPath!=="/"+t.name?t.fullPath:null,n.push(e),i()},function(e){t(e),i()}):r.isDirectory&&function e(t,n,r,i){var o=i.onSuccess;t.readEntries(function(i){var s=[].concat(n,i);i.length?setTimeout(function(){e(t,s,r,{onSuccess:o})},0):o(s)},function(e){r(e),o(n)})}(r.createReader(),[],t,{onSuccess:function(t){var n=t.map(function(t){return e(t)});Promise.all(n).then(function(){return i()})}})})}(i))}),Promise.all(r).then(function(){return n})},ws=function(e,t){var n=(void 0===t?{}:t).logDropError,r=void 0===n?function(){}:n;return e.items&&e.items[0]&&"webkitGetAsEntry"in e.items[0]?bs(e,r):function(e){var t=_s(e.files);return Promise.resolve(t)}(e)},ks=function(e,t){if(t){var n=e.querySelector('[data-uppy-paneltype="'+t+'"]');if(n)return n}return e},Ls=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'],Ms=function(e,t,n){ae(e,t,n)},Ss=function(e,t,n){null===t||ae(e,t,n)},xs={exports:{}};(function(e){!function(e,t){"object"==typeof xs.exports?xs.exports=t():e.ResizeObserver=t()}(this,function(){"use strict";function t(e){return parseFloat(e)||0}function n(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.reduce(function(n,r){return n+t(e["border-"+r+"-width"])},0)}function r(e){return s?m(e)?function(e){var t=e.getBBox();return i(0,0,t.width,t.height)}(e):function(e){var r=e.clientWidth,o=e.clientHeight;if(!r&&!o)return f;var s=p(e).getComputedStyle(e),a=function(e){for(var n={},r=0,i=["top","right","bottom","left"];r<i.length;r++){var o=i[r],s=e["padding-"+o];n[o]=t(s)}return n}(s),l=a.left+a.right,u=a.top+a.bottom,c=t(s.width),d=t(s.height);if("border-box"===s.boxSizing&&(Math.round(c+l)!==r&&(c-=n(s,"left","right")+l),Math.round(d+u)!==o&&(d-=n(s,"top","bottom")+u)),!function(e){return e===p(e).document.documentElement}(e)){var h=Math.round(c+l)-r,m=Math.round(d+u)-o;1!==Math.abs(h)&&(c-=h),1!==Math.abs(m)&&(d-=m)}return i(a.left,a.top,c,d)}(e):f}function i(e,t,n,r){return{x:e,y:t,width:n,height:r}}var o=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),s="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,a=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),l="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},u=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,d=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){function n(){o&&(o=!1,e()),s&&i()}function r(){l(n)}function i(){var e=Date.now();if(o){if(e-a<2)return;s=!0}else o=!0,s=!1,setTimeout(r,20);a=e}var o=!1,s=!1,a=0;return i}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){s&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){s&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;u.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),h=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},f=i(0,0,0,0),m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&"function"==typeof e.getBBox},g=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=i(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=r(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n,r,i,o,s,a,l,u=(r=(n=t).x,i=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),h(l,{x:r,y:i,width:o,height:s,top:i,right:r+o,bottom:s+i,left:r}),l);h(this,{target:e,contentRect:u})},y=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new o,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new v(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!=typeof WeakMap?new WeakMap:new o,b=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=d.getInstance(),r=new y(t,n,this);_.set(this,r)};return["observe","unobserve","disconnect"].forEach(function(e){b.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}),void 0!==a.ResizeObserver?a.ResizeObserver:b})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),xs=xs.exports;var Ts={};(function(e){function t(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function n(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(t(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=t(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var l=o.test(e);return l||s.test(e)?a(e.slice(2),l?2:8):i.test(e)?NaN:+e}var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return c.Date.now()};Ts=function(e,r,i){function o(t){var n=c,r=d;return c=d=void 0,_=t,g=e.apply(r,n)}function s(e){var t=e-y;return void 0===y||t>=r||t<0||w&&e-_>=m}function a(){var e=f();if(s(e))return l(e);v=setTimeout(a,function(e){var t=r-(e-y);return w?p(t,m-(e-_)):t}(e))}function l(e){return v=void 0,k&&c?o(e):(c=d=void 0,g)}function u(){var e=f(),t=s(e);if(c=arguments,d=this,y=e,t){if(void 0===v)return function(e){return _=e,v=setTimeout(a,r),b?o(e):g}(y);if(w)return v=setTimeout(a,r),o(y)}return void 0===v&&(v=setTimeout(a,r)),g}var c,d,m,g,v,y,_=0,b=!1,w=!1,k=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r=n(r)||0,t(i)&&(b=!!i.leading,m=(w="maxWait"in i)?h(n(i.maxWait)||0,r):m,k="trailing"in i?!!i.trailing:k),u.cancel=function(){void 0!==v&&clearTimeout(v),_=0,c=y=d=v=void 0},u.flush=function(){return void 0===v?g:l(f())},u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ds,Fs,As,Es,Ps,Cs,Ys,js,Os,Rs,Is,Us,Hs,Ns,zs,Bs,Zs,qs,Ws,Vs,$s,Ks,Gs,Js,Xs=function(e,t){var n;void 0===t&&(t=le);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}},Qs=Ir.h,ea=Ur.Plugin,ta=xs.default||xs,na=Xs.default||Xs,ra=(Fs=Ds=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).setOptions=function(t){e.prototype.setOptions.call(ce(r),t),r.i18nInit()},r.i18nInit=function(){r.translator=new hr([r.defaultLocale,r.uppy.locale,r.opts.locale]),r.i18n=r.translator.translate.bind(r.translator),r.i18nArray=r.translator.translateArray.bind(r.translator),r.setPluginState()},r.removeTarget=function(e){var t=r.getPluginState().targets.filter(function(t){return t.id!==e.id});r.setPluginState({targets:t})},r.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,i=e.type;if("acquirer"===i||"progressindicator"===i||"editor"===i){var o={id:t,name:n,type:i},s=r.getPluginState().targets.slice();return s.push(o),r.setPluginState({targets:s}),r.el}r.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error")},r.hideAllPanels=function(){var e={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1},t=r.getPluginState();t.activePickerPanel===e.activePickerPanel&&t.showAddFilesPanel===e.showAddFilesPanel&&t.showFileEditor===e.showFileEditor&&t.activeOverlayType===e.activeOverlayType||(console.log(e),r.setPluginState(e))},r.showPanel=function(e){var t=r.getPluginState().targets.filter(function(t){return"acquirer"===t.type&&t.id===e})[0];r.setPluginState({activePickerPanel:t,activeOverlayType:"PickerPanel"})},r.canEditFile=function(e){var t=r.getPluginState().targets;return r._getEditors(t).some(function(t){return r.uppy.getPlugin(t.id).canEditFile(e)})},r.openFileEditor=function(e){var t=r.getPluginState().targets,n=r._getEditors(t);r.setPluginState({showFileEditor:!0,activeOverlayType:"FileEditor"}),n.forEach(function(t){r.uppy.getPlugin(t.id).selectFile(e)})},r.openModal=function(){var e=de(),t=e.promise,n=e.resolve;return r.savedScrollPosition=window.pageYOffset,r.savedActiveElement=document.activeElement,r.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),r.opts.animateOpenClose&&r.getPluginState().isClosing?r.el.addEventListener("animationend",function e(){r.setPluginState({isHidden:!1}),r.el.removeEventListener("animationend",e,!1),n()},!1):(r.setPluginState({isHidden:!1}),n()),r.opts.browserBackButtonClose&&r.updateBrowserHistory(),document.addEventListener("keydown",r.handleKeyDownInModal),r.uppy.emit("dashboard:modal-open"),t},r.closeModal=function(e){void 0===e&&(e={});var t=e.manualClose,n=void 0===t||t,i=r.getPluginState(),o=i.isHidden,s=i.isClosing;if(!o&&!s){var a=de(),l=a.promise,u=a.resolve;return r.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),r.opts.animateOpenClose?(r.setPluginState({isClosing:!0}),r.el.addEventListener("animationend",function e(){r.setPluginState({isHidden:!0,isClosing:!1}),r.superFocus.cancel(),r.savedActiveElement.focus(),r.el.removeEventListener("animationend",e,!1),u()},!1)):(r.setPluginState({isHidden:!0}),r.superFocus.cancel(),r.savedActiveElement.focus(),u()),document.removeEventListener("keydown",r.handleKeyDownInModal),n&&r.opts.browserBackButtonClose&&history.state&&history.state[r.modalName]&&history.go(-1),r.uppy.emit("dashboard:modal-closed"),l}},r.isModalOpen=function(){return!r.getPluginState().isHidden||!1},r.requestCloseModal=function(){return r.opts.onRequestCloseModal?r.opts.onRequestCloseModal():r.closeModal()},r.setDarkModeCapability=function(e){var t=r.uppy.getState().capabilities;r.uppy.setState({capabilities:ue({},t,{darkMode:e})})},r.handleSystemDarkModeChange=function(e){var t=e.matches;r.uppy.log("[Dashboard] Dark mode is "+(t?"on":"off")),r.setDarkModeCapability(t)},r.toggleFileCard=function(e){e?r.uppy.emit("dashboard:file-edit-start"):r.uppy.emit("dashboard:file-edit-complete"),r.setPluginState({fileCardFor:e||null,activeOverlayType:e?"FileCard":null})},r.toggleAddFilesPanel=function(e){r.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},r.addFiles=function(e){var t=e.map(function(e){return{source:r.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}});try{r.uppy.addFiles(t)}catch(e){r.uppy.log(e)}},r.startListeningToResize=function(){r.resizeObserver=new ta(function(e,t){var n=e[0].contentRect,i=n.width,o=n.height;r.uppy.log("[Dashboard] resized: "+i+" / "+o,"debug"),r.setPluginState({containerWidth:i,containerHeight:o,areInsidesReadyToBeVisible:!0})}),r.resizeObserver.observe(r.el.querySelector(".uppy-Dashboard-inner")),r.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var e=r.getPluginState(),t=!r.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(r.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),r.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},r.stopListeningToResize=function(){r.resizeObserver.disconnect(),clearTimeout(r.makeDashboardInsidesVisibleAnywayTimeout)},r.recordIfFocusedOnUppyRecently=function(e){r.el.contains(e.target)?r.ifFocusedOnUppyRecently=!0:(r.ifFocusedOnUppyRecently=!1,r.superFocus.cancel())},r.updateBrowserHistory=function(){var e;history.state&&history.state[r.modalName]||history.pushState(ue({},history.state,((e={})[r.modalName]=!0,e)),""),window.addEventListener("popstate",r.handlePopState,!1)},r.handlePopState=function(e){!r.isModalOpen()||e.state&&e.state[r.modalName]||r.closeModal({manualClose:!1}),!r.isModalOpen()&&e.state&&e.state[r.modalName]&&history.go(-1)},r.handleKeyDownInModal=function(e){27===e.keyCode&&r.requestCloseModal(e),9===e.keyCode&&Ms(e,r.getPluginState().activeOverlayType,r.el)},r.handleClickOutside=function(){r.opts.closeModalOnClickOutside&&r.requestCloseModal()},r.handlePaste=function(e){r.uppy.iteratePlugins(function(t){"acquirer"===t.type&&t.handleRootPaste&&t.handleRootPaste(e)});var t=_s(e.clipboardData.files);r.addFiles(t)},r.handleInputChange=function(e){e.preventDefault();var t=_s(e.target.files);r.addFiles(t)},r.handleDragOver=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!0})},r.handleDragLeave=function(e){e.preventDefault(),e.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.removeDragOverClassTimeout=setTimeout(function(){r.setPluginState({isDraggingOver:!1})},50)},r.handleDrop=function(e,t){e.preventDefault(),e.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!1}),r.uppy.iteratePlugins(function(t){"acquirer"===t.type&&t.handleRootDrop&&t.handleRootDrop(e)});var n=!1;ws(e.dataTransfer,{logDropError:function(e){r.uppy.log(e,"error"),n||(r.uppy.info(e.message,"error"),n=!0)}}).then(function(e){e.length>0&&(r.uppy.log("[Dashboard] Files were dropped"),r.addFiles(e))})},r.handleRequestThumbnail=function(e){r.opts.waitForThumbnailsBeforeUpload||r.uppy.emit("thumbnail:request",e)},r.handleCancelThumbnail=function(e){r.opts.waitForThumbnailsBeforeUpload||r.uppy.emit("thumbnail:cancel",e)},r.handleKeyDownInInline=function(e){9===e.keyCode&&Ss(e,r.getPluginState().activeOverlayType,r.el)},r.handlePasteOnBody=function(e){r.el.contains(document.activeElement)&&r.handlePaste(e)},r.handleComplete=function(e){var t=e.failed;e.uploadID,r.opts.closeAfterFinish&&0===t.length&&r.requestCloseModal()},r.initEvents=function(){if(r.opts.trigger&&!r.opts.inline){var e=ys(r.opts.trigger);e?e.forEach(function(e){return e.addEventListener("click",r.openModal)}):r.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}r.startListeningToResize(),document.addEventListener("paste",r.handlePasteOnBody),r.uppy.on("plugin-remove",r.removeTarget),r.uppy.on("file-added",r.hideAllPanels),r.uppy.on("dashboard:modal-closed",r.hideAllPanels),r.uppy.on("file-editor:complete",r.hideAllPanels),r.uppy.on("complete",r.handleComplete),document.addEventListener("focus",r.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",r.recordIfFocusedOnUppyRecently,!0),r.opts.inline&&r.el.addEventListener("keydown",r.handleKeyDownInInline)},r.removeEvents=function(){var e=ys(r.opts.trigger);!r.opts.inline&&e&&e.forEach(function(e){return e.removeEventListener("click",r.openModal)}),r.stopListeningToResize(),document.removeEventListener("paste",r.handlePasteOnBody),window.removeEventListener("popstate",r.handlePopState,!1),r.uppy.off("plugin-remove",r.removeTarget),r.uppy.off("file-added",r.hideAllPanels),r.uppy.off("dashboard:modal-closed",r.hideAllPanels),r.uppy.off("complete",r.handleComplete),document.removeEventListener("focus",r.recordIfFocusedOnUppyRecently),document.removeEventListener("click",r.recordIfFocusedOnUppyRecently),r.opts.inline&&r.el.removeEventListener("keydown",r.handleKeyDownInInline)},r.superFocusOnEachUpdate=function(){var e=r.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,n=r.uppy.getState().info.isHidden,i=!r.opts.inline;n&&(i||e||t&&r.ifFocusedOnUppyRecently)?r.superFocus(r.el,r.getPluginState().activeOverlayType):r.superFocus.cancel()},r.afterUpdate=function(){r.superFocusOnEachUpdate()},r.cancelUpload=function(e){r.uppy.removeFile(e)},r.saveFileCard=function(e,t){r.uppy.setFileMeta(t,e),r.toggleFileCard()},r._attachRenderFunctionToTarget=function(e){var t=r.uppy.getPlugin(e.id);return ue({},e,{icon:t.icon||r.opts.defaultPickerIcon,render:t.render})},r._isTargetSupported=function(e){var t=r.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()},r._getAcquirers=na(function(e){return e.filter(function(e){return"acquirer"===e.type&&r._isTargetSupported(e)}).map(r._attachRenderFunctionToTarget)}),r._getProgressIndicators=na(function(e){return e.filter(function(e){return"progressindicator"===e.type}).map(r._attachRenderFunctionToTarget)}),r._getEditors=na(function(e){return e.filter(function(e){return"editor"===e.type}).map(r._attachRenderFunctionToTarget)}),r.render=function(e){var t,n=r.getPluginState(),i=e.files,o=e.capabilities,s=e.allowNewUpload,a=Object.keys(i).filter(function(e){return!i[e].progress.uploadStarted}),l=Object.keys(i).filter(function(e){return i[e].progress.uploadStarted}),u=Object.keys(i).filter(function(e){return i[e].isPaused}),c=Object.keys(i).filter(function(e){return i[e].progress.uploadComplete}),d=Object.keys(i).filter(function(e){return i[e].error}),h=Object.keys(i).filter(function(e){return!i[e].progress.uploadComplete&&i[e].progress.uploadStarted}),p=h.filter(function(e){return!i[e].isPaused}),f=Object.keys(i).filter(function(e){return i[e].progress.preprocess||i[e].progress.postprocess}),m=l.length>0,g=100===e.totalProgress&&c.length===Object.keys(i).length&&0===f.length,v=m&&d.length===l.length,y=0!==h.length&&u.length===h.length,_=r._getAcquirers(n.targets),b=r._getProgressIndicators(n.targets),w=r._getEditors(n.targets);return t="auto"===r.opts.theme?o.darkMode?"dark":"light":r.opts.theme,["files","folders","both"].indexOf(r.opts.fileManagerSelectionType)<0&&(r.opts.fileManagerSelectionType="files",console.error('Unsupported option for "fileManagerSelectionType". Using default of "'+r.opts.fileManagerSelectionType+'".')),function(e){var t=0===e.totalFileCount,n=e.containerWidth>576,r=ri({"uppy-Root":e.isTargetDOMEl,"uppy-Dashboard":!0,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>400,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible}),i=1;e.containerWidth>900?i=5:e.containerWidth>700?i=4:e.containerWidth>576&&(i=3);var o=e.showSelectedFiles&&!t;return Co("div",{class:r,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":Po(),"aria-hidden":e.inline?"false":e.isHidden,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onpaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},Co("div",{class:"uppy-Dashboard-overlay",tabindex:-1,onclick:e.handleClickOutside}),Co("div",{class:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:Co("button",{class:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onclick:e.closeModal},Co("span",{"aria-hidden":"true"},"")),Co("div",{class:"uppy-Dashboard-innerWrap"},Co("div",{class:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),o&&Co(So,e),o?Co(so,X({},e,{itemsPerRow:i})):Co(lo,X({},e,{isSizeMD:n})),Co(Eo,null,e.showAddFilesPanel?Co(co,X({key:"AddFiles"},e,{isSizeMD:n})):null),Co(Eo,null,e.fileCardFor?Co(To,X({key:"FileCard"},e)):null),Co(Eo,null,e.activePickerPanel?Co(fo,X({key:"Picker"},e)):null),Co(Eo,null,e.showFileEditor?Co(go,X({key:"Editor"},e)):null),Co("div",{class:"uppy-Dashboard-progressindicators"},e.progressindicators.map(function(t){return e.getPlugin(t.id).render(e.state)})))))}({state:e,isHidden:n.isHidden,files:i,newFiles:a,uploadStartedFiles:l,completeFiles:c,erroredFiles:d,inProgressFiles:h,inProgressNotPausedFiles:p,processingFiles:f,isUploadStarted:m,isAllComplete:g,isAllErrored:v,isAllPaused:y,totalFileCount:Object.keys(i).length,totalProgress:e.totalProgress,allowNewUpload:s,acquirers:_,theme:t,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,animateOpenClose:r.opts.animateOpenClose,isClosing:n.isClosing,getPlugin:r.uppy.getPlugin,progressindicators:b,editors:w,autoProceed:r.uppy.opts.autoProceed,id:r.id,closeModal:r.requestCloseModal,handleClickOutside:r.handleClickOutside,handleInputChange:r.handleInputChange,handlePaste:r.handlePaste,inline:r.opts.inline,showPanel:r.showPanel,hideAllPanels:r.hideAllPanels,log:r.uppy.log,i18n:r.i18n,i18nArray:r.i18nArray,removeFile:r.uppy.removeFile,uppy:r.uppy,info:r.uppy.info,note:r.opts.note,metaFields:n.metaFields,resumableUploads:o.resumableUploads||!1,individualCancellation:o.individualCancellation,isMobileDevice:o.isMobileDevice,pauseUpload:r.uppy.pauseResume,retryUpload:r.uppy.retryUpload,cancelUpload:r.cancelUpload,cancelAll:r.uppy.cancelAll,fileCardFor:n.fileCardFor,toggleFileCard:r.toggleFileCard,toggleAddFilesPanel:r.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:r.saveFileCard,openFileEditor:r.openFileEditor,canEditFile:r.canEditFile,width:r.opts.width,height:r.opts.height,showLinkToFileUploadResult:r.opts.showLinkToFileUploadResult,fileManagerSelectionType:r.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:r.opts.proudlyDisplayPoweredByUppy,hideCancelButton:r.opts.hideCancelButton,hideRetryButton:r.opts.hideRetryButton,hidePauseResumeButton:r.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:r.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,isTargetDOMEl:r.isTargetDOMEl,parentElement:r.el,allowedFileTypes:r.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:r.uppy.opts.restrictions.maxNumberOfFiles,showSelectedFiles:r.opts.showSelectedFiles,handleRequestThumbnail:r.handleRequestThumbnail,handleCancelThumbnail:r.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:r.handleDragOver,handleDragLeave:r.handleDragLeave,handleDrop:r.handleDrop})},r.discoverProviderPlugins=function(){r.uppy.iteratePlugins(function(e){e&&!e.target&&e.opts&&e.opts.target===r.constructor&&r.addTarget(e)})},r.install=function(){r.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:r.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var e=r.opts,t=e.inline,n=e.closeAfterFinish;if(t&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");r.uppy.opts.allowMultipleUploads&&n&&r.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploads` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var i=r.opts.target;i&&r.mount(i,ce(r)),(r.opts.plugins||[]).forEach(function(e){var t=r.uppy.getPlugin(e);t&&t.mount(ce(r),t)}),r.opts.disableStatusBar||r.uppy.use(Qo,{id:r.id+":StatusBar",target:ce(r),hideUploadButton:r.opts.hideUploadButton,hideRetryButton:r.opts.hideRetryButton,hidePauseResumeButton:r.opts.hidePauseResumeButton,hideCancelButton:r.opts.hideCancelButton,showProgressDetails:r.opts.showProgressDetails,hideAfterFinish:r.opts.hideProgressAfterFinish,locale:r.opts.locale}),r.opts.disableInformer||r.uppy.use(ns,{id:r.id+":Informer",target:ce(r)}),r.opts.disableThumbnailGenerator||r.uppy.use(vs,{id:r.id+":ThumbnailGenerator",thumbnailWidth:r.opts.thumbnailWidth,waitForThumbnailsBeforeUpload:r.opts.waitForThumbnailsBeforeUpload,lazy:!r.opts.waitForThumbnailsBeforeUpload}),
r.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var o=!!r.darkModeMediaQuery&&r.darkModeMediaQuery.matches;r.uppy.log("[Dashboard] Dark mode is "+(o?"on":"off")),r.setDarkModeCapability(o),"auto"===r.opts.theme&&r.darkModeMediaQuery.addListener(r.handleSystemDarkModeChange),r.discoverProviderPlugins(),r.initEvents()},r.uninstall=function(){if(!r.opts.disableInformer){var e=r.uppy.getPlugin(r.id+":Informer");e&&r.uppy.removePlugin(e)}if(!r.opts.disableStatusBar){var t=r.uppy.getPlugin(r.id+":StatusBar");t&&r.uppy.removePlugin(t)}if(!r.opts.disableThumbnailGenerator){var n=r.uppy.getPlugin(r.id+":ThumbnailGenerator");n&&r.uppy.removePlugin(n)}(r.opts.plugins||[]).forEach(function(e){var t=r.uppy.getPlugin(e);t&&t.unmount()}),"auto"===r.opts.theme&&r.darkModeMediaQuery.removeListener(r.handleSystemDarkModeChange),r.unmount(),r.removeEvents()},r.id=r.opts.id||"Dashboard",r.title="Dashboard",r.type="orchestrator",r.modalName="uppy-Dashboard-"+kr(),r.defaultLocale={strings:{closeModal:"Close Modal",importFrom:"Import from %{name}",addingMoreFiles:"Adding more files",addMoreFiles:"Add more files",dashboardWindowTitle:"File Uploader Window (Press escape to close)",dashboardTitle:"File Uploader",copyLinkToClipboardSuccess:"Link copied to clipboard",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",fileSource:"File source: %{name}",done:"Done",back:"Back",addMore:"Add more",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",cancel:"Cancel",myDevice:"My Device",dropPasteFiles:"Drop files here, paste or %{browseFiles}",dropPasteFolders:"Drop files here, paste or %{browseFolders}",dropPasteBoth:"Drop files here, paste, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, paste, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, paste, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, paste, %{browseFiles}, %{browseFolders} or import from:",dropHint:"Drop your files here",browseFiles:"browse files",browseFolders:"browse folders",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy2:"%{backwardsCompat} %{uppy}",poweredBy:"Powered by"}};var i,o={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!1,width:750,height:550,thumbnailWidth:280,waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:he,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return r.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light"};return r.opts=ue({},o,n),r.i18nInit(),r.superFocus=(i=!1,Ts(function(e,t){var n=ks(e,t),r=n.contains(document.activeElement);if(!r||!i){var o=n.querySelector("[data-uppy-super-focusable]");if(!r||o)if(o)o.focus({preventScroll:!0}),i=!0;else{var s=n.querySelector(Ls);s&&s.focus({preventScroll:!0}),i=!1}}},260)),r.ifFocusedOnUppyRecently=!1,r.makeDashboardInsidesVisibleAnywayTimeout=null,r.removeDragOverClassTimeout=null,r}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t}(ea),Ds.VERSION="1.12.8",Fs),ia=Ur.Plugin,oa=Ir.h,sa=(Es=As=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).type="acquirer",r.id=r.opts.id||"DragDrop",r.title="Drag & Drop",r.defaultLocale={strings:{dropHereOr:"Drop files here or %{browse}",browse:"browse"}},r.opts=pe({},{target:null,inputName:"files[]",width:"100%",height:"100%",note:null},n),r.isDragDropSupported=Po(),r.removeDragOverClassTimeout=null,r.i18nInit(),r.onInputChange=r.onInputChange.bind(fe(r)),r.handleDragOver=r.handleDragOver.bind(fe(r)),r.handleDragLeave=r.handleDragLeave.bind(fe(r)),r.handleDrop=r.handleDrop.bind(fe(r)),r.addFiles=r.addFiles.bind(fe(r)),r.render=r.render.bind(fe(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.setPluginState()},i.addFiles=function(e){var t=this,n=e.map(function(e){return{source:t.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}});try{this.uppy.addFiles(n)}catch(e){this.uppy.log(e)}},i.onInputChange=function(e){this.uppy.log("[DragDrop] Files selected through input");var t=_s(e.target.files);this.addFiles(t),e.target.value=null},i.handleDrop=function(e,t){var n=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.log("[DragDrop] Files were dropped"),ws(e.dataTransfer,{logDropError:function(e){n.uppy.log(e,"error")}}).then(function(e){return n.addFiles(e)})},i.handleDragOver=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0})},i.handleDragLeave=function(e){var t=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){t.setPluginState({isDraggingOver:!1})},50)},i.renderHiddenFileInput=function(){var e=this,t=this.uppy.opts.restrictions;return oa("input",{class:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(t){e.fileInputRef=t},name:this.opts.inputName,multiple:1!==t.maxNumberOfFiles,accept:t.allowedFileTypes,onchange:this.onInputChange})},i.renderArrowSvg=function(){return oa("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},oa("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0","fill-rule":"evenodd"}))},i.renderLabel=function(){return oa("div",{class:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:oa("span",{class:"uppy-DragDrop-browse"},this.i18n("browse"))}))},i.renderNote=function(){return oa("span",{class:"uppy-DragDrop-note"},this.opts.note)},i.render=function(e){var t=this,n="uppy-Root\n      uppy-u-reset\n      uppy-DragDrop-container\n      "+(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"")+"\n      "+(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"")+"\n    ",r={width:this.opts.width,height:this.opts.height};return oa("button",{type:"button",class:n,style:r,onClick:function(){return t.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),oa("div",{class:"uppy-DragDrop-inner"},this.renderArrowSvg(),this.renderLabel(),this.renderNote()))},i.install=function(){this.setPluginState({isDraggingOver:!1});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.unmount()},t}(ia),As.VERSION="1.4.19",Es),aa=Ur.Plugin,la=Ir.h,ua=(Cs=Ps=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).id=r.opts.id||"FileInput",r.title="File Input",r.type="acquirer",r.defaultLocale={strings:{chooseFiles:"Choose files"}},r.opts=me({},{target:null,pretty:!0,inputName:"files[]"},n),r.i18nInit(),r.render=r.render.bind(ge(r)),r.handleInputChange=r.handleInputChange.bind(ge(r)),r.handleClick=r.handleClick.bind(ge(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.setPluginState()},i.addFiles=function(e){var t=this,n=e.map(function(e){return{source:t.id,name:e.name,type:e.type,data:e}});try{this.uppy.addFiles(n)}catch(e){this.uppy.log(e)}},i.handleInputChange=function(e){this.uppy.log("[FileInput] Something selected through input...");var t=_s(e.target.files);this.addFiles(t),e.target.value=null},i.handleClick=function(e){this.input.click()},i.render=function(e){var t=this,n=this.uppy.opts.restrictions,r=n.allowedFileTypes?n.allowedFileTypes.join(","):null;return la("div",{class:"uppy-Root uppy-FileInput-container"},la("input",{class:"uppy-FileInput-input",style:this.opts.pretty&&{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:this.opts.inputName,onchange:this.handleInputChange,multiple:1!==n.maxNumberOfFiles,accept:r,ref:function(e){t.input=e}}),this.opts.pretty&&la("button",{class:"uppy-FileInput-btn",type:"button",onclick:this.handleClick},this.i18n("chooseFiles")))},i.install=function(){var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.unmount()},t}(aa),Ps.VERSION="1.4.17",Cs),ca=Ur.Plugin,da=Ir.h,ha=(js=Ys=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).id=r.opts.id||"ProgressBar",r.title="Progress Bar",r.type="progressindicator",r.opts=ve({},{target:"body",replaceTargetContent:!1,fixed:!1,hideAfterFinish:!0},n),r.render=r.render.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.render=function(e){var t=e.totalProgress||0,n=(0===t||100===t)&&this.opts.hideAfterFinish;return da("div",{class:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},da("div",{class:"uppy-ProgressBar-inner",style:{width:t+"%"}}),da("div",{class:"uppy-ProgressBar-percentage"},t))},i.install=function(){var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.unmount()},t}(ca),Ys.VERSION="1.3.19",js),pa=Ur.Plugin,fa=ei.Provider,ma=Ir.h,ga=(Rs=Os=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).id=r.opts.id||"Dropbox",fa.initPlugin(ye(r),n),r.title=r.opts.title||"Dropbox",r.icon=function(){return ma("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},ma("g",{fill:"none","fill-rule":"evenodd"},ma("rect",{fill:"#0D2481",width:"32",height:"32",rx:"16"}),ma("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF","fill-rule":"nonzero"})))},r.provider=new fa(t,{companionUrl:r.opts.companionUrl,companionHeaders:r.opts.companionHeaders||r.opts.serverHeaders,provider:"dropbox",pluginId:r.id}),r.onFirstRender=r.onFirstRender.bind(ye(r)),r.render=r.render.bind(ye(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.install=function(){this.view=new Pi(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.view.tearDown(),this.unmount()},i.onFirstRender=function(){return this.view.getFolder()},i.render=function(e){return this.view.render(e)},t}(pa),Os.VERSION="1.4.16",Rs),va=function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t.prototype.toggleCheckbox=function(t,n){t.stopPropagation(),t.preventDefault(),n.custom.isTeamDrive||n.custom.isSharedDrive||e.prototype.toggleCheckbox.call(this,t,n)},t}(Pi),ya=Ur.Plugin,_a=ei.Provider,ba=Ir.h,wa=(Us=Is=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).id=r.opts.id||"GoogleDrive",r.title=r.opts.title||"Google Drive",_a.initPlugin(_e(r),n),r.title=r.opts.title||"Google Drive",r.icon=function(){return ba("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},ba("g",{fill:"none","fill-rule":"evenodd"},ba("rect",{fill:"#4285F4",width:"32",height:"32",rx:"16"}),ba("path",{d:"M10.324 23.3l3-5.1H25l-3 5.1H10.324zM13 18.2l-3 5.1-3-5.1 5.839-9.924 2.999 5.1L13 18.2zm11.838-.276h-6L13 8h6l5.84 9.924h-.002z",fill:"#FFF"})))},r.provider=new _a(t,{companionUrl:r.opts.companionUrl,companionHeaders:r.opts.companionHeaders||r.opts.serverHeaders,provider:"drive",pluginId:r.id}),r.onFirstRender=r.onFirstRender.bind(_e(r)),r.render=r.render.bind(_e(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.install=function(){this.view=new va(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.view.tearDown(),this.unmount()},i.onFirstRender=function(){return this.view.getFolder("root","/")},i.render=function(e){return this.view.render(e)},t}(ya),Is.VERSION="1.5.16",Us),ka=Ur.Plugin,La=ei.Provider,Ma=Ir.h,Sa=(Ns=Hs=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).id=r.opts.id||"Instagram",La.initPlugin(be(r),n),r.title=r.opts.title||"Instagram",r.icon=function(){return Ma("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Ma("g",{fill:"none","fill-rule":"evenodd"},Ma("rect",{fill:"#E1306C",width:"32",height:"32",rx:"16"}),Ma("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},r.provider=new La(t,{companionUrl:r.opts.companionUrl,companionHeaders:r.opts.companionHeaders||r.opts.serverHeaders,provider:"instagram",pluginId:r.id}),r.onFirstRender=r.onFirstRender.bind(be(r)),r.render=r.render.bind(be(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.install=function(){this.view=new Pi(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.view.tearDown(),this.unmount()},i.onFirstRender=function(){this.view.getFolder("recent")},i.render=function(e){return this.view.render(e)},t}(ka),Hs.VERSION="1.4.16",Ns),xa=Ur.Plugin,Ta=ei.Provider,Da=Ir.h,Fa=(Bs=zs=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).id=r.opts.id||"OneDrive",Ta.initPlugin(we(r),n),r.title=r.opts.title||"OneDrive",r.icon=function(){return Da("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Da("g",{fill:"none","fill-rule":"evenodd"},Da("rect",{width:"32",height:"32",rx:"16",fill:"#0262C0"}),Da("g",{fill:"#FFF","fill-rule":"nonzero"},Da("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),Da("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))))},r.provider=new Ta(t,{companionUrl:r.opts.companionUrl,companionHeaders:r.opts.companionHeaders||r.opts.serverHeaders,provider:"onedrive",pluginId:r.id}),r.onFirstRender=r.onFirstRender.bind(we(r)),r.render=r.render.bind(we(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.install=function(){this.view=new Pi(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.view.tearDown(),this.unmount()},i.onFirstRender=function(){return this.view.getFolder()},i.render=function(e){return this.view.render(e)},t}(xa),zs.VERSION="1.1.16",Bs),Aa=Ur.Plugin,Ea=ei.Provider,Pa=Ir.h,Ca=(qs=Zs=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).id=r.opts.id||"Facebook",Ea.initPlugin(ke(r),n),r.title=r.opts.title||"Facebook",r.icon=function(){return Pa("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Pa("g",{fill:"none","fill-rule":"evenodd"},Pa("rect",{width:"32",height:"32",rx:"16",fill:"#3C5A99"}),Pa("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF","fill-rule":"nonzero"})))},r.provider=new Ea(t,{companionUrl:r.opts.companionUrl,companionHeaders:r.opts.companionHeaders||r.opts.serverHeaders,provider:"facebook",pluginId:r.id}),r.onFirstRender=r.onFirstRender.bind(ke(r)),r.render=r.render.bind(ke(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.install=function(){this.view=new Pi(this,{provider:this.provider});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.view.tearDown(),this.unmount()},i.onFirstRender=function(){return this.view.getFolder()},i.render=function(e){var t={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(t.viewType="grid",t.showFilter=!1,t.showTitles=!1),this.view.render(e,t)},t}(Aa),Zs.VERSION="1.1.16",qs),Ya=Ir.h,ja=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyPress=n.handleKeyPress.bind(Le(n)),n.handleClick=n.handleClick.bind(Le(n)),n}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.componentDidMount=function(){this.input.value=""},i.handleKeyPress=function(e){13===e.keyCode&&this.props.addFile(this.input.value)},i.handleClick=function(){this.props.addFile(this.input.value)},i.render=function(){var e=this;return Ya("div",{class:"uppy-Url"},Ya("input",{class:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":this.props.i18n("enterUrlToImport"),placeholder:this.props.i18n("enterUrlToImport"),onkeyup:this.handleKeyPress,ref:function(t){e.input=t},"data-uppy-super-focusable":!0}),Ya("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onclick:this.handleClick},this.props.i18n("import")))},t}(Ir.Component),Oa=function(e,t,n){var r,i=_s(e.items);switch(t){case"paste":if(i.some(function(e){return"file"===e.kind}))return;r=i.filter(function(e){return"string"===e.kind&&"text/plain"===e.type});break;case"drop":r=i.filter(function(e){return"string"===e.kind&&"text/uri-list"===e.type});break;default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's "+t)}r.forEach(function(e){e.getAsString(function(e){return n(e)})})},Ra=Ur.Plugin,Ia=Ir.h,Ua=ei.RequestClient,Ha=(Vs=Ws=function(e){function t(t,n){var r;if((r=e.call(this,t,n)||this).id=r.opts.id||"Url",r.title=r.opts.title||"Link",r.type="acquirer",r.icon=function(){return Ia(xe,null)},r.defaultLocale={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure its correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}},r.opts=Me({},{},n),r.i18nInit(),r.hostname=r.opts.companionUrl,!r.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return r.getMeta=r.getMeta.bind(Se(r)),r.addFile=r.addFile.bind(Se(r)),r.handleRootDrop=r.handleRootDrop.bind(Se(r)),r.handleRootPaste=r.handleRootPaste.bind(Se(r)),r.client=new Ua(t,{companionUrl:r.opts.companionUrl,companionHeaders:r.opts.companionHeaders||r.opts.serverHeaders}),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.setPluginState()},i.getFileNameFromUrl=function(e){return e.substring(e.lastIndexOf("/")+1)},i.checkIfCorrectURL=function(e){if(!e)return!1;var t=e.match(/^([a-z0-9]+):\/\//)[1];return"http"===t||"https"===t},i.addProtocolToURL=function(e){return/^[a-z0-9]+:\/\//.test(e)?e:"http://"+e},i.getMeta=function(e){var t=this;return this.client.post("url/meta",{url:e}).then(function(e){if(e.error)throw t.uppy.log("[URL] Error:"),t.uppy.log(e.error),new Error("Failed to fetch the file");return e})},i.addFile=function(e){var t=this;return e=this.addProtocolToURL(e),this.checkIfCorrectURL(e)?this.getMeta(e).then(function(n){return{source:t.id,name:t.getFileNameFromUrl(e),type:n.type,data:{size:n.size},isRemote:!0,body:{url:e},remote:{companionUrl:t.opts.companionUrl,url:t.hostname+"/url/get",body:{fileId:e,url:e},providerOptions:t.client.opts}}}).then(function(e){t.uppy.log("[Url] Adding remote file");try{t.uppy.addFile(e)}catch(e){e.isRestriction||t.uppy.log(e)}}).catch(function(e){t.uppy.log(e),t.uppy.info({message:t.i18n("failedToFetch"),details:e},"error",4e3)}):(this.uppy.log("[URL] Incorrect URL entered: "+e),void this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3))},i.handleRootDrop=function(e){var t=this;Oa(e.dataTransfer,"drop",function(e){t.uppy.log("[URL] Adding file from dropped url: "+e),t.addFile(e)})},i.handleRootPaste=function(e){var t=this;Oa(e.clipboardData,"paste",function(e){t.uppy.log("[URL] Adding file from pasted url: "+e),t.addFile(e)})},i.render=function(e){return Ia(ja,{i18n:this.i18n,addFile:this.addFile})},i.install=function(){var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.unmount()},t}(Ra),Ws.VERSION="1.5.11",Vs),Na={"audio/mp3":"mp3","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"},za=function(e){return e=e.replace(/;.*$/,""),Na[e]||null},Ba=Ir.h,Za=function(e){return Ba("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},Ba("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z","fill-rule":"evenodd"}))},qa=Ir.h,Wa=Ir.h,Va=Ir.h,$a=function(e){var t,n=e.recordingLengthSeconds,r=e.i18n,i=(t=n,Math.floor(t/60)+":"+String(t%60).padStart(2,0));return Va("div",{class:"uppy-Webcam-recordingLength","aria-label":r("recordingLength",{recording_length:i})},i)},Ka=Ir.h,Ga=function(e){function t(){return e.apply(this,arguments)||this}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.componentDidMount=function(){this.props.onFocus()},i.componentWillUnmount=function(){this.props.onStop()},i.render=function(){var e,t,n,r=this.props.supportsRecording&&(Te(this.props.modes,"video-only")||Te(this.props.modes,"audio-only")||Te(this.props.modes,"video-audio")),i=Te(this.props.modes,"picture"),o=this.props.supportsRecording&&this.props.showRecordingLength;return Ka("div",{class:"uppy uppy-Webcam-container"},Ka("div",{class:"uppy-Webcam-videoContainer"},Ka("video",{class:"uppy-Webcam-video  "+(this.props.mirror?"uppy-Webcam-video--mirrored":""),autoplay:!0,muted:!0,playsinline:!0,srcObject:this.props.src||""})),Ka("div",{class:"uppy-Webcam-buttonContainer"},o?$a(this.props):null," ",i?(e=this.props,t=e.onSnapshot,n=e.i18n,qa("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:n("takePicture"),"aria-label":n("takePicture"),onclick:t,"data-uppy-super-focusable":!0},Za())):null," ",r?function(e){var t=e.recording,n=e.onStartRecording,r=e.onStopRecording,i=e.i18n;return t?Wa("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:i("stopRecording"),"aria-label":i("stopRecording"),onclick:r,"data-uppy-super-focusable":!0},Wa("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Wa("rect",{x:"15",y:"15",width:"70",height:"70"}))):Wa("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:i("startRecording"),"aria-label":i("startRecording"),onclick:n,"data-uppy-super-focusable":!0},Wa("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Wa("circle",{cx:"50",cy:"50",r:"40"})))}(this.props):null))},t}(Ir.Component),Ja=Ir.h,Xa=function(e){return Ja("div",{class:"uppy-Webcam-permissons"},Ja("div",{class:"uppy-Webcam-permissonsIcon"},e.icon()),Ja("h1",{class:"uppy-Webcam-title"},e.hasCamera?e.i18n("allowAccessTitle"):e.i18n("noCameraTitle")),Ja("p",null,e.hasCamera?e.i18n("allowAccessDescription"):e.i18n("noCameraDescription")))},Qa=Ir.h,el=(Ks=$s=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).mediaDevices=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices;var e=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return e?{getUserMedia:function(t){return new Promise(function(n,r){e.call(navigator,t,n,r)})}}:null}(),r.supportsUserMedia=!!r.mediaDevices,r.protocol=location.protocol.match(/https/i)?"https":"http",r.id=r.opts.id||"Webcam",r.title=r.opts.title||"Camera",r.type="acquirer",r.icon=function(){return Qa("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Qa("g",{fill:"none","fill-rule":"evenodd"},Qa("rect",{fill:"#03BFEF",width:"32",height:"32",rx:"16"}),Qa("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF","fill-rule":"nonzero"})))},r.defaultLocale={strings:{smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site.",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}"}};var i={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};return r.opts=De({},i,n),r.i18nInit(),r.install=r.install.bind(Fe(r)),r.setPluginState=r.setPluginState.bind(Fe(r)),r.render=r.render.bind(Fe(r)),r._start=r._start.bind(Fe(r)),r._stop=r._stop.bind(Fe(r)),r._takeSnapshot=r._takeSnapshot.bind(Fe(r)),r._startRecording=r._startRecording.bind(Fe(r)),r._stopRecording=r._stopRecording.bind(Fe(r)),r._oneTwoThreeSmile=r._oneTwoThreeSmile.bind(Fe(r)),r._focus=r._focus.bind(Fe(r)),r.webcamActive=!1,r.opts.countdown&&(r.opts.onBeforeSnapshot=r._oneTwoThreeSmile),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,De({},t,{videoConstraints:De({},this.opts.videoConstraints,null==t?void 0:t.videoConstraints)})),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.setPluginState()},i.hasCameraCheck=function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(e){return e.some(function(e){return"videoinput"===e.kind})}):Promise.resolve(!1)},i.getConstraints=function(){var e,t=-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("audio-only"),n=-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("video-only")||-1!==this.opts.modes.indexOf("picture"),r=null!=(e=this.opts.videoConstraints)?e:{facingMode:this.opts.facingMode};return{audio:t,video:!!n&&r}},i._start=function(){var e=this;if(!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0;var t=this.getConstraints();this.hasCameraCheck().then(function(n){return e.setPluginState({hasCamera:n}),e.mediaDevices.getUserMedia(t).then(function(t){e.stream=t,e.setPluginState({cameraReady:!0})}).catch(function(t){e.setPluginState({cameraReady:!1,cameraError:t}),e.uppy.info(t.message,"error")})})},i._getMediaRecorderOptions=function(){var e={};if(MediaRecorder.isTypeSupported){var t=this.uppy.opts.restrictions,n=[];this.opts.preferredVideoMimeType?n=[this.opts.preferredVideoMimeType]:t.allowedFileTypes&&(n=t.allowedFileTypes.map(Ae).filter(Ee));var r=n.filter(function(e){
return MediaRecorder.isTypeSupported(e)&&za(e)});r.length>0&&(e.mimeType=r[0])}return e},i._startRecording=function(){var e=this;this.recorder=new MediaRecorder(this.stream,this._getMediaRecorderOptions()),this.recordingChunks=[];var t=!1;this.recorder.addEventListener("dataavailable",function(n){e.recordingChunks.push(n.data);var r=e.uppy.opts.restrictions;if(e.recordingChunks.length>1&&null!=r.maxFileSize&&!t){var i=e.recordingChunks.reduce(function(e,t){return e+t.size},0),o=(i-e.recordingChunks[0].size)/(e.recordingChunks.length-1)*3;i>Math.max(0,r.maxFileSize-o)&&(t=!0,e.uppy.info(e.i18n("recordingStoppedMaxSize"),"warning",4e3),e._stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var t=e.getPluginState().recordingLengthSeconds;e.setPluginState({recordingLengthSeconds:t+1})},1e3)),this.setPluginState({isRecording:!0})},i._stopRecording=function(){var e=this;return new Promise(function(t,n){e.recorder.addEventListener("stop",function(){t()}),e.recorder.stop(),e.opts.showRecordingLength&&(clearInterval(e.recordingLengthTimer),e.setPluginState({recordingLengthSeconds:0}))}).then(function(){return e.setPluginState({isRecording:!1}),e.getVideo()}).then(function(t){try{e.uppy.addFile(t)}catch(t){t.isRestriction||e.uppy.log(t)}}).then(function(){e.recordingChunks=null,e.recorder=null},function(t){throw e.recordingChunks=null,e.recorder=null,t})},i._stop=function(){this.stream&&(this.stream.getAudioTracks().forEach(function(e){e.stop()}),this.stream.getVideoTracks().forEach(function(e){e.stop()})),this.webcamActive=!1,this.stream=null},i._getVideoElement=function(){return this.el.querySelector(".uppy-Webcam-video")},i._oneTwoThreeSmile=function(){var e=this;return new Promise(function(t,n){var r=e.opts.countdown,i=setInterval(function(){if(!e.webcamActive)return clearInterval(i),e.captureInProgress=!1,n(new Error("Webcam is not active"));r>0?(e.uppy.info(r+"...","warning",800),r--):(clearInterval(i),e.uppy.info(e.i18n("smile"),"success",1500),setTimeout(function(){return t()},1500))},1e3)})},i._takeSnapshot=function(){var e=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(t){var n="object"==typeof t?t.message:t;return e.uppy.info(n,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: "+n))}).then(function(){return e._getImage()}).then(function(t){e.captureInProgress=!1;try{e.uppy.addFile(t)}catch(t){t.isRestriction||e.uppy.log(t)}},function(t){throw e.captureInProgress=!1,t}))},i._getImage=function(){var e=this,t=this._getVideoElement();if(!t)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var n=t.videoWidth,r=t.videoHeight,i=document.createElement("canvas");i.width=n,i.height=r,i.getContext("2d").drawImage(t,0,0);var o=this.uppy.opts.restrictions,s=[];this.opts.preferredImageMimeType?s=[this.opts.preferredImageMimeType]:o.allowedFileTypes&&(s=o.allowedFileTypes.map(Ae).filter(Pe));var a=s[0]||"image/jpeg",l=za(a)||"jpg",u="cam-"+Date.now()+"."+l;return function(e,t,n){return e.toBlob?new Promise(function(r){e.toBlob(r,t,n)}):Promise.resolve().then(function(){return rs(e.toDataURL(t,n),{})})}(i,a).then(function(t){return{source:e.id,name:u,data:new Blob([t],{type:a}),type:a}})},i.getVideo=function(){var e=this.recordingChunks[0].type,t=za(e);if(!t)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'+e+'"'));var n="webcam-"+Date.now()+"."+t,r=new Blob(this.recordingChunks,{type:e}),i={source:this.id,name:n,data:new Blob([r],{type:e}),type:e};return Promise.resolve(i)},i._focus=function(){var e=this;this.opts.countdown&&setTimeout(function(){e.uppy.info(e.i18n("smile"),"success",1500)},1e3)},i.render=function(){this.webcamActive||this._start();var e=this.getPluginState();return e.cameraReady&&e.hasCamera?Qa(Ga,De({},e,{onSnapshot:this._takeSnapshot,onStartRecording:this._startRecording,onStopRecording:this._stopRecording,onFocus:this._focus,onStop:this._stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,supportsRecording:"function"==typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"==typeof MediaRecorder.prototype.start,recording:e.isRecording,mirror:this.opts.mirror,src:this.stream})):Qa(Xa,{icon:Za,i18n:this.i18n,hasCamera:e.hasCamera})},i.install=function(){this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.stream&&this._stop(),this.unmount()},t}(Ur.Plugin),$s.VERSION="1.7.0",Ks),tl=Ir.h,nl=function(){return tl("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},tl("g",{fill:"none","fill-rule":"evenodd"},tl("rect",{fill:"#2C3E50",width:"32",height:"32",rx:"16"}),tl("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF","fill-rule":"nonzero"}),tl("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))},rl=Ir.h,il=function(e){var t=e.recording,n=e.onStartRecording,r=e.onStopRecording,i=e.i18n;return t?rl("button",{class:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:i("stopCapturing"),"aria-label":i("stopCapturing"),onclick:r,"data-uppy-super-focusable":!0},rl("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},rl("rect",{x:"15",y:"15",width:"70",height:"70"}))):rl("button",{class:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:i("startCapturing"),"aria-label":i("startCapturing"),onclick:n,"data-uppy-super-focusable":!0},rl("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},rl("circle",{cx:"50",cy:"50",r:"40"})))},ol=Ir.h,sl=function(e){var t=e.recording,n=e.recordedVideo,r=e.onSubmit,i=e.i18n;return n&&!t?ol("button",{class:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:i("submitRecordedFile"),"aria-label":i("submitRecordedFile"),onclick:r,"data-uppy-super-focusable":!0},ol("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"48",height:"48",viewBox:"0 0 48 48"},ol("path",{d:"M0 0h48v48h-48z",fill:"none"}),ol("path",{d:"M38.71 20.07c-1.36-6.88-7.43-12.07-14.71-12.07-5.78 0-10.79 3.28-13.3 8.07-6.01.65-10.7 5.74-10.7 11.93 0 6.63 5.37 12 12 12h26c5.52 0 10-4.48 10-10 0-5.28-4.11-9.56-9.29-9.93zm-10.71 5.93v8h-8v-8h-6l10-10 10 10h-6z"}))):null},al=Ir.h,ll=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={elapsedTime:0},n.wrapperStyle={width:"100%",height:"100%",display:"flex"},n.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},n.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},n.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},n.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"},n}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.startTimer=function(){this.timerTick(),this.timerRunning=!0},i.resetTimer=function(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1},i.timerTick=function(){var e=this;this.timer=setTimeout(function(){e.setState({elapsedTime:e.state.elapsedTime+1}),e.timerTick()},1e3)},i.fmtMSS=function(e){return(e-(e%=60))/60+(e>9?":":":0")+e},i.render=function(){var e=Ce({},this.props),t=e.recording,n=e.i18n,r=this.fmtMSS(this.state.elapsedTime);return t&&!this.timerRunning&&this.startTimer(),!t&&this.timerRunning&&this.resetTimer(),t?al("div",{style:this.wrapperStyle},al("div",{style:this.overlayStyle}),al("div",{style:this.infoContainerStyle},al("div",{style:this.infotextStyle},n("recording")),al("div",{style:this.timeStyle},r))):null},t}(Ir.Component),ul=Ir.h,cl=function(e){var t=e.streamActive,n=e.i18n;return t?ul("div",{title:n("streamActive"),"aria-label":n("streamActive"),class:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},ul("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},ul("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),ul("path",{d:"M0 0h24v24H0z",fill:"none"}),ul("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):ul("div",{title:n("streamPassive"),"aria-label":n("streamPassive"),class:"uppy-ScreenCapture-icon--stream"},ul("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},ul("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),ul("path",{d:"M0 0h24v24H0z",fill:"none"}),ul("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))},dl=Ir.h,hl=function(e){function t(){return e.apply(this,arguments)||this}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.componentWillUnmount=function(){this.props.onStop()},i.render=function(){var e=this,t=this.props,n=t.recording,r=t.stream,i=t.recordedVideo,o={playsinline:!0};return(n||!i&&!n)&&(o.muted=!0,o.autoplay=!0,o.srcObject=r),i&&!n&&(o.muted=!1,o.controls=!0,o.src=i,this.videoElement&&(this.videoElement.srcObject=void 0)),dl("div",{class:"uppy uppy-ScreenCapture-container"},dl("div",{class:"uppy-ScreenCapture-videoContainer"},dl(cl,this.props),dl("video",Ye({ref:function(t){return e.videoElement=t},class:"uppy-ScreenCapture-video"},o)),dl(ll,this.props)),dl("div",{class:"uppy-ScreenCapture-buttonContainer"},dl(il,this.props),dl(sl,this.props)))},t}(Ir.Component),pl=Ir.h,fl=(Js=Gs=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).mediaDevices=navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia&&window&&window.MediaRecorder?navigator.mediaDevices:null,r.protocol=location.protocol.match(/https/i)?"https":"http",r.id=r.opts.id||"ScreenCapture",r.title=r.opts.title||"Screencast",r.type="acquirer",r.icon=nl,r.defaultLocale={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit captured video",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}},r.opts=je({},{displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"},n),r.translator=new hr([r.defaultLocale,r.uppy.locale,r.opts.locale]),r.i18n=r.translator.translate.bind(r.translator),r.i18nArray=r.translator.translateArray.bind(r.translator),r.install=r.install.bind(Oe(r)),r.setPluginState=r.setPluginState.bind(Oe(r)),r.render=r.render.bind(Oe(r)),r.start=r.start.bind(Oe(r)),r.stop=r.stop.bind(Oe(r)),r.startRecording=r.startRecording.bind(Oe(r)),r.stopRecording=r.stopRecording.bind(Oe(r)),r.submit=r.submit.bind(Oe(r)),r.streamInterrupted=r.streamInactivated.bind(Oe(r)),r.captureActive=!1,r.capturedMediaFile=null,r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.install=function(){if(!this.mediaDevices)return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.videoStream&&this.stop(),this.unmount()},i.start=function(){var e=this;if(!this.mediaDevices)return Promise.reject(new Error("Screen recorder access not supported"));this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(t){!1===t&&e.parent&&e.parent.hideAllPanels&&(e.parent.hideAllPanels(),e.captureActive=!1)})},i.selectVideoStreamSource=function(){var e=this;return this.videoStream?new Promise(function(t){return t(e.videoStream)}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(t){return e.videoStream=t,e.videoStream.addEventListener("inactive",function(t){e.streamInactivated()}),e.setPluginState({streamActive:!0}),t}).catch(function(t){return e.setPluginState({screenRecError:t}),e.userDenied=!0,setTimeout(function(){e.userDenied=!1},1e3),!1})},i.selectAudioStreamSource=function(){var e=this;return this.audioStream?new Promise(function(t){return t(e.audioStream)}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(t){return e.audioStream=t,e.setPluginState({audioStreamActive:!0}),t}).catch(function(t){return"NotAllowedError"===t.name&&e.uppy.info(e.i18n("micDisabled"),"error",5e3),!1})},i.startRecording=function(){var e=this,t={};this.capturedMediaFile=null,this.recordingChunks=[];var n=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(r){n&&MediaRecorder.isTypeSupported(n)&&za(n)&&(t.mimeType=n);var i=[r.getVideoTracks()[0]];e.audioStream&&i.push(e.audioStream.getAudioTracks()[0]),e.outputStream=new MediaStream(i),e.recorder=new MediaRecorder(e.outputStream,t),e.recorder.addEventListener("dataavailable",function(t){e.recordingChunks.push(t.data)}),e.recorder.start(),e.setPluginState({recording:!0})}).catch(function(t){e.uppy.log(t,"error")})},i.streamInactivated=function(){var e=je({},this.getPluginState()),t=e.recordedVideo,n=e.recording;t||n?n&&(this.uppy.log("Capture stream inactive  stop recording"),this.stopRecording()):this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels(),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})},i.stopRecording=function(){var e=this;return new Promise(function(t,n){e.recorder.addEventListener("stop",function(){t()}),e.recorder.stop()}).then(function(){return e.setPluginState({recording:!1}),e.getVideo()}).then(function(t){e.capturedMediaFile=t,e.setPluginState({recordedVideo:URL.createObjectURL(t.data)})}).then(function(){e.recordingChunks=null,e.recorder=null},function(t){throw e.recordingChunks=null,e.recorder=null,t})},i.submit=function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(e){e.isRestriction||this.uppy.log(e,"error")}},i.stop=function(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(e){e.stop()}),this.videoStream.getAudioTracks().forEach(function(e){e.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(e){e.stop()}),this.audioStream.getVideoTracks().forEach(function(e){e.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(e){e.stop()}),this.outputStream.getVideoTracks().forEach(function(e){e.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1},i.getVideo=function(){var e=this.recordingChunks[0].type,t=za(e);if(!t)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'+e+'"'));var n="screencap-"+Date.now()+"."+t,r=new Blob(this.recordingChunks,{type:e}),i={source:this.id,name:n,data:new Blob([r],{type:e}),type:e};return Promise.resolve(i)},i.render=function(e){var t=this.getPluginState();return t.streamActive||this.captureActive||this.userDenied||this.start(),pl(hl,je({},t,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))},t}(Ur.Plugin),Gs.VERSION="1.0.8",Js),ml=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},gl={},vl=Object.prototype.hasOwnProperty;gl.stringify=function(e,t){t=t||"";var n,r,i=[];for(r in"string"!=typeof t&&(t="?"),e)if(vl.call(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=Ie(r),n=Ie(n),null===r||null===n)continue;i.push(r+"="+n)}return i.length?t+i.join("&"):""},gl.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=Re(t[1]),o=Re(t[2]);null===i||null===o||i in r||(r[i]=o)}return r};var yl={};(function(e){"use strict";function t(e){return(e||"").toString().replace(a,"")}function n(t){var n,r=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},s={},a=typeof(t=t||r);if("blob:"===t.protocol)s=new i(unescape(t.pathname),{});else if("string"===a)for(n in s=new i(t,{}),u)delete s[n];else if("object"===a){for(n in t)n in u||(s[n]=t[n]);void 0===s.slashes&&(s.slashes=o.test(t.href))}return s}function r(e){e=t(e);var n=s.exec(e);return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],rest:n[3]}}function i(e,o,s){if(e=t(e),!(this instanceof i))return new i(e,o,s);var a,u,c,d,h,p,f=l.slice(),m=typeof o,g=this,v=0;for("object"!==m&&"string"!==m&&(s=o,o=null),s&&"function"!=typeof s&&(s=gl.parse),o=n(o),a=!(u=r(e||"")).protocol&&!u.slashes,g.slashes=u.slashes||a&&o.slashes,g.protocol=u.protocol||o.protocol||"",e=u.rest,u.slashes||(f[3]=[/(.*)/,"pathname"]);v<f.length;v++)"function"!=typeof(d=f[v])?(c=d[0],p=d[1],c!=c?g[p]=e:"string"==typeof c?~(h=e.indexOf(c))&&("number"==typeof d[2]?(g[p]=e.slice(0,h),e=e.slice(h+d[2])):(g[p]=e.slice(h),e=e.slice(0,h))):(h=c.exec(e))&&(g[p]=h[1],e=e.slice(0,h.index)),g[p]=g[p]||a&&d[3]&&o[p]||"",d[4]&&(g[p]=g[p].toLowerCase())):e=d(e);s&&(g.query=s(g.query)),a&&o.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==o.pathname)&&(g.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(g.pathname,o.pathname)),ml(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(d=g.auth.split(":"),g.username=d[0]||"",g.password=d[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}var o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+"),l=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};i.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||gl.parse)(t)),r[e]=t;break;case"port":r[e]=t,ml(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";r[e]=t.charAt(0)!==i?i+t:t}else r[e]=t;break;default:r[e]=t}for(var o=0;o<l.length;o++){var s=l[o];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=gl.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},i.extractProtocol=r,i.location=n,i.trimLeft=t,i.qs=gl,yl=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _l,bl,wl=function(){function e(e){this.limit="number"!=typeof e||0===e?1/0:e,this.activeRequests=0,this.queuedHandlers=[]}var t=e.prototype;return t._call=function(e){var t=this;this.activeRequests+=1;var n,r=!1;try{n=e()}catch(e){throw this.activeRequests-=1,e}return{abort:function(){r||(r=!0,t.activeRequests-=1,n(),t._queueNext())},done:function(){r||(r=!0,t.activeRequests-=1,t._queueNext())}}},t._queueNext=function(){var e=this;Promise.resolve().then(function(){e._next()})},t._next=function(){if(!(this.activeRequests>=this.limit)&&0!==this.queuedHandlers.length){var e=this.queuedHandlers.shift(),t=this._call(e.fn);e.abort=t.abort,e.done=t.done}},t._queue=function(e,t){var n=this;void 0===t&&(t={});var r={fn:e,priority:t.priority||0,abort:function(){n._dequeue(r)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=function(e,t){for(var n=0;n<e.length;n++)if(i=e[n],r.priority>i.priority)return n;var i;return-1}(this.queuedHandlers);return-1===i?this.queuedHandlers.push(r):this.queuedHandlers.splice(i,0,r),r},t._dequeue=function(e){var t=this.queuedHandlers.indexOf(e);-1!==t&&this.queuedHandlers.splice(t,1)},t.run=function(e,t){return this.activeRequests<this.limit?this._call(e):this._queue(e,t)},t.wrapPromiseFunction=function(e,t){var n=this;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s,a=new Promise(function(r,o){s=n.run(function(){var t,n;try{n=Promise.resolve(e.apply(void 0,i))}catch(e){n=Promise.reject(e)}return n.then(function(e){t?o(t):(s.done(),r(e))},function(e){t?o(t):(s.done(),o(e))}),function(){t=new Error("Cancelled")}},t)});return a.abort=function(){s.abort()},a}},e}(),kl=function(e){function t(e){r.push(e)}function n(e){i.push(e)}var r=[],i=[];return Promise.all(e.map(function(e){return e.then(t,n)})).then(function(){return{successful:r,failed:i}})},Ll=Object.prototype.hasOwnProperty,Ml=Sr(function(e,t,n){var r=t.progress,i=t.bytesUploaded,o=t.bytesTotal;r&&(e.uppy.log("Upload progress: "+r),e.uppy.emit("upload-progress",n,{uploader:e,bytesUploaded:i,bytesTotal:o}))},300,{leading:!0,trailing:!0}),Sl=function(e){var t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(e)[1];return(/^http:\/\//i.test(e)?"ws":"wss")+"://"+t},xl=function(){function e(e){this._events=[],this._emitter=e}var t=e.prototype;return t.on=function(e,t){return this._events.push([e,t]),this._emitter.on(e,t)},t.remove=function(){var e=this;this._events.forEach(function(t){var n=t[0],r=t[1];e._emitter.off(n,r)})},e}(),Tl=function(){function e(e,t){this._timeout=e,this._onTimedOut=t,this._isDone=!1,this._aliveTimer=null,this._onTimedOut=this._onTimedOut.bind(this)}var t=e.prototype;return t.progress=function(){this._isDone||this._timeout>0&&(this._aliveTimer&&clearTimeout(this._aliveTimer),this._aliveTimer=setTimeout(this._onTimedOut,this._timeout))},t.done=function(){this._aliveTimer&&(clearTimeout(this._aliveTimer),this._aliveTimer=null),this._isDone=!0},e}(),Dl=function(e){return!!e&&(0!==e.readyState&&4!==e.readyState||0===e.status)},Fl=ei.Provider,Al=ei.RequestClient,El=ei.Socket,Pl=function(){function e(e,t){this.uppy=e,this.opts=Ue({validateStatus:function(e,t,n){return e>=200&&e<300}},t),this.requests=t.__queue,this.uploaderEvents=Object.create(null),this.i18n=t.i18n}var t=e.prototype;return t._getOptions=function(e){var t=this.uppy.getState().xhrUpload,n=Ue({},this.opts,t||{},e.xhrUpload||{},{headers:{}});return Ue(n.headers,this.opts.headers),t&&Ue(n.headers,t.headers),e.xhrUpload&&Ue(n.headers,e.xhrUpload.headers),n},t.uploadFile=function(e,t,n){var r=this.uppy.getFile(e);if(r.error)throw new Error(r.error);return r.isRemote?this._uploadRemoteFile(r,t,n):this._uploadLocalFile(r,t,n)},t._addMetadata=function(e,t,n){(Array.isArray(n.metaFields)?n.metaFields:Object.keys(t)).forEach(function(n){e.append(n,t[n])})},t._createFormDataUpload=function(e,t){var n=new FormData;this._addMetadata(n,e.meta,t);var r=function(e){return e.data.slice(0,e.data.size,e.meta.type)}(e);return e.name?n.append(t.fieldName,r,e.meta.name):n.append(t.fieldName,r),n},t._createBareUpload=function(e,t){return e.data},t._onFileRemoved=function(e,t){this.uploaderEvents[e].on("file-removed",function(n){e===n.id&&t(n.id)})},t._onRetry=function(e,t){this.uploaderEvents[e].on("upload-retry",function(n){e===n&&t()})},t._onRetryAll=function(e,t){var n=this;this.uploaderEvents[e].on("retry-all",function(r){n.uppy.getFile(e)&&t()})},t._onCancelAll=function(e,t){var n=this;this.uploaderEvents[e].on("cancel-all",function(){n.uppy.getFile(e)&&t()})},t._uploadLocalFile=function(e,t,n){var r=this,i=this._getOptions(e);return this.uppy.log("uploading "+t+" of "+n),new Promise(function(t,n){var o=i.formData?r._createFormDataUpload(e,i):r._createBareUpload(e,i),s=new XMLHttpRequest;r.uploaderEvents[e.id]=new xl(r.uppy);var a=new Tl(i.timeout,function(){s.abort(),u.done();var t=new Error(r.i18n("timedOut",{seconds:Math.ceil(i.timeout/1e3)}));r.uppy.emit("upload-error",e,t),n(t)}),l=kr();s.upload.addEventListener("loadstart",function(e){r.uppy.log("[AwsS3/XHRUpload] "+l+" started")}),s.upload.addEventListener("progress",function(t){r.uppy.log("[AwsS3/XHRUpload] "+l+" progress: "+t.loaded+" / "+t.total),a.progress(),t.lengthComputable&&r.uppy.emit("upload-progress",e,{uploader:r,bytesUploaded:t.loaded,bytesTotal:t.total})}),s.addEventListener("load",function(o){if(r.uppy.log("[AwsS3/XHRUpload] "+l+" finished"),a.done(),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),i.validateStatus(o.target.status,s.responseText,s)){var c=i.getResponseData(s.responseText,s),d=c[i.responseUrlFieldName],h={status:o.target.status,body:c,uploadURL:d};return r.uppy.emit("upload-success",e,h),d&&r.uppy.log("Download "+e.name+" from "+d),t(e)}var p=i.getResponseData(s.responseText,s),f=He(s,i.getResponseError(s.responseText,s)),m={status:o.target.status,body:p};return r.uppy.emit("upload-error",e,f,m),n(f)}),s.addEventListener("error",function(t){r.uppy.log("[AwsS3/XHRUpload] "+l+" errored"),a.done(),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null);var o=He(s,i.getResponseError(s.responseText,s));return r.uppy.emit("upload-error",e,o),n(o)}),s.open(i.method.toUpperCase(),i.endpoint,!0),s.withCredentials=i.withCredentials,""!==i.responseType&&(s.responseType=i.responseType),Object.keys(i.headers).forEach(function(e){s.setRequestHeader(e,i.headers[e])});var u=r.requests.run(function(){return s.send(o),function(){a.done(),s.abort()}},{priority:1});r._onFileRemoved(e.id,function(){u.abort(),n(new Error("File removed"))}),r._onCancelAll(e.id,function(){u.abort(),n(new Error("Upload cancelled"))})})},t._uploadRemoteFile=function(e,t,n){var r=this,i=this._getOptions(e);return new Promise(function(t,n){var o={};(Array.isArray(i.metaFields)?i.metaFields:Object.keys(e.meta)).forEach(function(t){o[t]=e.meta[t]}),new(e.remote.providerOptions.provider?Fl:Al)(r.uppy,e.remote.providerOptions).post(e.remote.url,Ue({},e.remote.body,{endpoint:i.endpoint,size:e.data.size,fieldname:i.fieldName,metadata:o,httpMethod:i.method,useFormData:i.formData,headers:i.headers})).then(function(o){var s=o.token,a=Sl(e.remote.companionUrl),l=new El({target:a+"/api/"+s,autoOpen:!1});r.uploaderEvents[e.id]=new xl(r.uppy),r._onFileRemoved(e.id,function(){l.send("pause",{}),u.abort(),t("upload "+e.id+" was removed")}),r._onCancelAll(e.id,function(){l.send("pause",{}),u.abort(),t("upload "+e.id+" was canceled")}),r._onRetry(e.id,function(){l.send("pause",{}),l.send("resume",{})}),r._onRetryAll(e.id,function(){l.send("pause",{}),l.send("resume",{})}),l.on("progress",function(t){return Ml(r,t,e)}),l.on("success",function(n){var o=i.getResponseData(n.response.responseText,n.response),s=o[i.responseUrlFieldName],a={status:n.response.status,body:o,uploadURL:s};return r.uppy.emit("upload-success",e,a),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),t()}),l.on("error",function(t){var o=t.response,s=o?i.getResponseError(o.responseText,o):Ue(new Error(t.error.message),{cause:t.error});r.uppy.emit("upload-error",e,s),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),n(s)});var u=r.requests.run(function(){return l.open(),e.isPaused&&l.send("pause",{}),function(){return l.close()}})}).catch(function(t){r.uppy.emit("upload-error",e,t),n(t)})})},e}(),Cl=function(e,t){var n,r=t.headers?t.headers["content-type"]:t.getResponseHeader("Content-Type");if("string"==typeof r){var i=(n=r,n.replace(/;.*$/,"")).toLowerCase();if("application/xml"===i||"text/xml"===i)return!0;if("text/html"===i&&/^<\?xml /.test(e))return!0}return!1},Yl="function"==typeof URL?URL:yl,jl=ei.RequestClient,Ol=!1,Rl=(bl=_l=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).type="uploader",r.id=r.opts.id||"AwsS3",r.title="AWS S3",r.defaultLocale={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};var i={timeout:3e4,limit:0,metaFields:[],getUploadParameters:r.getUploadParameters.bind(Ne(r))};return r.opts=ze({},i,n),r.i18nInit(),r.client=new jl(t,n),r.handleUpload=r.handleUpload.bind(Ne(r)),r.requests=new wl(r.opts.limit),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},i.getUploadParameters=function(e){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var t=e.meta.name,n=e.meta.type,r={};this.opts.metaFields.forEach(function(t){null!=e.meta[t]&&(r[t]=e.meta[t].toString())});var i=function e(t,n){var r=[];for(var i in t)if(Ll.call(t,i)){var o,s=t[i],a=encodeURIComponent(i);o="object"==typeof s?e(s,n?n+"["+a+"]":a):(n?n+"["+a+"]":a)+"="+encodeURIComponent(s),r.push(o)}return r.join("&")}({filename:t,type:n,metadata:r});return this.client.get("s3/params?"+i).then(Ze)},i.validateParameters=function(e,t){if("object"!=typeof t||!t||"string"!=typeof t.url||"object"!=typeof t.fields&&null!=t.fields||null!=t.method&&!/^(put|post)$/i.test(t.method)){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '"+e.name+"', expected an object '{ url, method, fields, headers }' but got '"+JSON.stringify(t)+"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.");throw console.error(n),n}},i.handleUpload=function(e){function t(e){var t=e.id;dr(r,t)&&r[t].abort()}var n=this,r=Object.create(null);this.uppy.on("file-removed",t),e.forEach(function(e){var t=n.uppy.getFile(e);n.uppy.emit("upload-started",t)});var i=this.requests.wrapPromiseFunction(function(e){return n.opts.getUploadParameters(e)}),o=e.length;return kl(e.map(function(e,t){return r[e]=i(n.uppy.getFile(e)),r[e].then(function(i){delete r[e];var s=n.uppy.getFile(e);n.validateParameters(s,i);var a=i.method,l=void 0===a?"post":a,u=i.url,c=i.fields,d=i.headers,h={method:l,formData:"post"===l.toLowerCase(),endpoint:u,metaFields:c?Object.keys(c):[]};return d&&(h.headers=d),n.uppy.setFileState(s.id,{meta:ze({},s.meta,c),xhrUpload:h}),n._uploader.uploadFile(s.id,t,o)}).catch(function(t){delete r[e];var i=n.uppy.getFile(e);n.uppy.emit("upload-error",i,t)})})).then(function(e){
return n.uppy.off("file-removed",t),e})},i.install=function(){var e=this.uppy;this.uppy.addUploader(this.handleUpload);var t={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,__queue:this.requests,responseType:"text",getResponseData:this.opts.getResponseData||function(t,n){var r,i;return Cl(t,n)?{location:(r=n.responseURL,i=Be(t,"Location"),r?new Yl(i,r).toString():new Yl(i).toString()),bucket:Be(t,"Bucket"),key:Be(t,"Key"),etag:Be(t,"ETag")}:"POST"===this.method.toUpperCase()?(Ol||(e.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),Ol=!0),{location:null}):n.responseURL?{location:n.responseURL.replace(/\?.*$/,"")}:{location:null}},getResponseError:function(e,t){if(Cl(e,t)){var n=Be(e,"Message");return new Error(n)}}};t.i18n=this.i18n,this._uploader=new Pl(this.uppy,t)},i.uninstall=function(){this.uppy.removePreProcessor(this.handleUpload)},t}(Ur.Plugin),_l.VERSION="1.7.0",bl),Il={};Object.defineProperty(Il,"__esModule",{value:!0});var Ul=function(){function e(){qe(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return Ve(e,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=this.listeners[e.type],r=0,i=n.length;r<i;r++)!function(n){setTimeout(function(){return n.call(t,e)})}(n[r]);return!e.defaultPrevented}}}]),e}(),Hl=function(e){function t(){var e;return qe(this,t),(e=i.call(this)).listeners||Ul.call(Ge(e)),Object.defineProperty(Ge(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(Ge(e),"onabort",{value:null,writable:!0,configurable:!0}),e}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,Ul);var n,r,i=(n=t,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,i,o=$e(n);if(r){var s=$e(this).constructor;e=Reflect.construct(o,arguments,s)}else e=o.apply(this,arguments);return t=this,!(i=e)||"object"!=typeof i&&"function"!=typeof i?Ge(t):i});return Ve(t,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),Je($e(t.prototype),"dispatchEvent",this).call(this,e)}}]),t}(),Nl=function(){function e(){qe(this,e),Object.defineProperty(this,"signal",{value:new Hl,writable:!0,configurable:!0})}return Ve(e,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(Nl.prototype[Symbol.toStringTag]="AbortController",Hl.prototype[Symbol.toStringTag]="AbortSignal"),Il.AbortController=Nl,Il.AbortSignal=Hl;var zl={},Bl=Il.AbortController;Il.AbortSignal,zl.AbortController=Bl,zl.createAbortError=function(e){void 0===e&&(e="Aborted");try{return new DOMException(e,"AbortError")}catch(n){var t=new Error(e);return t.name="AbortError",t}};var Zl,ql,Wl=zl.createAbortError,Vl=zl.AbortController,$l=zl.createAbortError,Kl={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:function(e){return Math.ceil(e.size/1e4)},onStart:function(){},onProgress:function(){},onPartComplete:function(){},onSuccess:function(){},onError:function(e){throw e}},Gl=function(){function e(e,t){this.options=Xe({},Kl,t),this.options.getChunkSize||(this.options.getChunkSize=Kl.getChunkSize),this.file=e,this.abortController=new Vl,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,this._initChunks(),this.createdPromise.catch(function(){})}var t=e.prototype;return t._aborted=function(){return this.abortController.signal.aborted},t._initChunks=function(){var e=[],t=this.options.getChunkSize(this.file),n=Math.max(5242880,Math.ceil(this.file.size/1e4)),r=Math.max(t,n);if(0===this.file.size)e.push(this.file);else for(var i=0;i<this.file.size;i+=r){var o=Math.min(this.file.size,i+r);e.push(this.file.slice(i,o))}this.chunks=e,this.chunkState=e.map(function(){return{uploaded:0,busy:!1,done:!1}})},t._createUpload=function(){var e=this;return this.createdPromise=Promise.resolve().then(function(){return e.options.createMultipartUpload()}),this.createdPromise.then(function(t){if(e._aborted())throw $l();if("object"!=typeof t||!t||"string"!=typeof t.uploadId||"string"!=typeof t.key)throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");e.key=t.key,e.uploadId=t.uploadId,e.options.onStart(t),e._uploadParts()}).catch(function(t){e._onError(t)})},t._resumeUpload=function(){var e=this;return Promise.resolve().then(function(){return e.options.listParts({uploadId:e.uploadId,key:e.key})}).then(function(t){if(e._aborted())throw $l();t.forEach(function(t){var n=t.PartNumber-1;e.chunkState[n]={uploaded:Qe(t.Size),etag:t.ETag,done:!0},e.parts.some(function(e){return e.PartNumber===t.PartNumber})||e.parts.push({PartNumber:t.PartNumber,ETag:t.ETag})}),e._uploadParts()}).catch(function(t){e._onError(t)})},t._uploadParts=function(){var e=this;if(!this.isPaused){var t=this.options.limit-this.partsInProgress;if(0!==t)if(this.chunkState.every(function(e){return e.done}))this._completeUpload();else{for(var n=[],r=0;r<this.chunkState.length;r++){var i=this.chunkState[r];if(!i.done&&!i.busy&&(n.push(r),n.length>=t))break}n.forEach(function(t){e._uploadPartRetryable(t).then(function(){e._uploadParts()},function(t){e._onError(t)})})}}},t._retryable=function(e){var t=this,n=e.before,r=e.attempt,i=e.after,o=this.options.retryDelays,s=this.abortController.signal;return n&&n(),function e(n){return r().catch(function(r){if(t._aborted())throw $l();if(function(e){if(e.source&&"number"==typeof e.source.status){var t=e.source.status;return 0===t||409===t||423===t||t>=500&&t<600}return!1}(r)&&n<o.length)return(i=o[n],a={signal:s},new Promise(function(e,t){function n(){clearTimeout(o),r(),t(Wl())}function r(){a&&a.signal&&a.signal.removeEventListener("abort",n)}if(a&&a.signal&&a.signal.aborted)return t(Wl());var o=setTimeout(function(){r(),e()},i);a&&a.signal&&a.signal.addEventListener("abort",n)})).then(function(){return e(n+1)});var i,a;throw r})}(0).then(function(e){return i&&i(),e},function(e){throw i&&i(),e})},t._uploadPartRetryable=function(e){var t=this;return this._retryable({before:function(){t.partsInProgress+=1},attempt:function(){return t._uploadPart(e)},after:function(){t.partsInProgress-=1}})},t._uploadPart=function(e){var t=this,n=this.chunks[e];return this.chunkState[e].busy=!0,Promise.resolve().then(function(){return t.options.prepareUploadPart({key:t.key,uploadId:t.uploadId,body:n,number:e+1})}).then(function(e){if("object"!=typeof e||!e||"string"!=typeof e.url)throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadPart()`, expected an object `{ url }`.");return e}).then(function(n){var r=n.url,i=n.headers;if(t._aborted())throw t.chunkState[e].busy=!1,$l();return t._uploadPartBytes(e,r,i)})},t._onPartProgress=function(e,t,n){this.chunkState[e].uploaded=Qe(t);var r=this.chunkState.reduce(function(e,t){return e+t.uploaded},0);this.options.onProgress(r,this.file.size)},t._onPartComplete=function(e,t){this.chunkState[e].etag=t,this.chunkState[e].done=!0;var n={PartNumber:e+1,ETag:t};this.parts.push(n),this.options.onPartComplete(n)},t._uploadPartBytes=function(e,t,n){function r(){l.removeEventListener("abort",i)}function i(){c.abort()}var o,s=this,a=this.chunks[e],l=this.abortController.signal,u=new Promise(function(e,t){o={resolve:e,reject:t}}),c=new XMLHttpRequest;return c.open("PUT",t,!0),n&&Object.keys(n).map(function(e){c.setRequestHeader(e,n[e])}),c.responseType="text",l.addEventListener("abort",i),c.upload.addEventListener("progress",function(t){t.lengthComputable&&s._onPartProgress(e,t.loaded,t.total)}),c.addEventListener("abort",function(t){r(),s.chunkState[e].busy=!1,o.reject($l())}),c.addEventListener("load",function(t){if(r(),s.chunkState[e].busy=!1,t.target.status<200||t.target.status>=300){var n=new Error("Non 2xx");return n.source=t.target,void o.reject(n)}s._onPartProgress(e,a.size,a.size);var i=t.target.getResponseHeader("ETag");null!==i?(s._onPartComplete(e,i),o.resolve()):o.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. Seee https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."))}),c.addEventListener("error",function(t){r(),s.chunkState[e].busy=!1;var n=new Error("Unknown error");n.source=t.target,o.reject(n)}),c.send(a),u},t._completeUpload=function(){var e=this;return this.parts.sort(function(e,t){return e.PartNumber-t.PartNumber}),Promise.resolve().then(function(){return e.options.completeMultipartUpload({key:e.key,uploadId:e.uploadId,parts:e.parts})}).then(function(t){e.options.onSuccess(t)},function(t){e._onError(t)})},t._abortUpload=function(){var e=this;this.abortController.abort(),this.createdPromise.then(function(){e.options.abortMultipartUpload({key:e.key,uploadId:e.uploadId})},function(){})},t._onError=function(e){e&&"AbortError"===e.name||this.options.onError(e)},t.start=function(){this.isPaused=!1,this.uploadId?this._resumeUpload():this._createUpload()},t.pause=function(){this.abortController.abort(),this.abortController=new Vl,this.isPaused=!0},t.abort=function(e){if(void 0===e&&(e={}),!e.really)return this.pause();this._abortUpload()},e}(),Jl=ei.Socket,Xl=ei.Provider,Ql=ei.RequestClient,eu=(ql=Zl=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).type="uploader",r.id=r.opts.id||"AwsS3Multipart",r.title="AWS S3 Multipart",r.client=new Ql(t,n);var i={timeout:3e4,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:r.createMultipartUpload.bind(et(r)),listParts:r.listParts.bind(et(r)),prepareUploadPart:r.prepareUploadPart.bind(et(r)),abortMultipartUpload:r.abortMultipartUpload.bind(et(r)),completeMultipartUpload:r.completeMultipartUpload.bind(et(r))};return r.opts=tt({},i,n),r.upload=r.upload.bind(et(r)),r.requests=new wl(r.opts.limit),r.uploaders=Object.create(null),r.uploaderEvents=Object.create(null),r.uploaderSockets=Object.create(null),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.resetUploaderReferences=function(e,t){void 0===t&&(t={}),this.uploaders[e]&&(this.uploaders[e].abort({really:t.abort||!1}),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)},i.assertHost=function(e){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `"+e+"` implementation.")},i.createMultipartUpload=function(e){this.assertHost("createMultipartUpload");var t={};return Object.keys(e.meta).map(function(n){null!=e.meta[n]&&(t[n]=e.meta[n].toString())}),this.client.post("s3/multipart",{filename:e.name,type:e.type,metadata:t}).then(nt)},i.listParts=function(e,t){var n=t.key,r=t.uploadId;this.assertHost("listParts");var i=encodeURIComponent(n);return this.client.get("s3/multipart/"+r+"?key="+i).then(nt)},i.prepareUploadPart=function(e,t){var n=t.key,r=t.uploadId,i=t.number;this.assertHost("prepareUploadPart");var o=encodeURIComponent(n);return this.client.get("s3/multipart/"+r+"/"+i+"?key="+o).then(nt)},i.completeMultipartUpload=function(e,t){var n=t.key,r=t.uploadId,i=t.parts;this.assertHost("completeMultipartUpload");var o=encodeURIComponent(n),s=encodeURIComponent(r);return this.client.post("s3/multipart/"+s+"/complete?key="+o,{parts:i}).then(nt)},i.abortMultipartUpload=function(e,t){var n=t.key,r=t.uploadId;this.assertHost("abortMultipartUpload");var i=encodeURIComponent(n),o=encodeURIComponent(r);return this.client.delete("s3/multipart/"+o+"?key="+i).then(nt)},i.uploadFile=function(e){var t=this;return new Promise(function(n,r){var i=new Gl(e.data,tt({createMultipartUpload:t.opts.createMultipartUpload.bind(t,e),listParts:t.opts.listParts.bind(t,e),prepareUploadPart:t.opts.prepareUploadPart.bind(t,e),completeMultipartUpload:t.opts.completeMultipartUpload.bind(t,e),abortMultipartUpload:t.opts.abortMultipartUpload.bind(t,e),getChunkSize:t.opts.getChunkSize?t.opts.getChunkSize.bind(t):null,onStart:function(n){var r=t.uppy.getFile(e.id);t.uppy.setFileState(e.id,{s3Multipart:tt({},r.s3Multipart,{key:n.key,uploadId:n.uploadId})})},onProgress:function(n,r){t.uppy.emit("upload-progress",e,{uploader:t,bytesUploaded:n,bytesTotal:r})},onError:function(n){t.uppy.log(n),t.uppy.emit("upload-error",e,n),o.done(),t.resetUploaderReferences(e.id),r(n)},onSuccess:function(r){var s={uploadURL:r.location};o.done(),t.resetUploaderReferences(e.id),t.uppy.emit("upload-success",e,s),r.location&&t.uppy.log("Download "+i.file.name+" from "+r.location),n(i)},onPartComplete:function(n){var r=t.uppy.getFile(e.id);r&&t.uppy.emit("s3-multipart:part-uploaded",r,n)},limit:t.opts.limit||5,retryDelays:t.opts.retryDelays||[]},e.s3Multipart));t.uploaders[e.id]=i,t.uploaderEvents[e.id]=new xl(t.uppy);var o=t.requests.run(function(){return e.isPaused||i.start(),function(){}});t.onFileRemove(e.id,function(r){o.abort(),t.resetUploaderReferences(e.id,{abort:!0}),n("upload "+r.id+" was removed")}),t.onCancelAll(e.id,function(){o.abort(),t.resetUploaderReferences(e.id,{abort:!0}),n("upload "+e.id+" was canceled")}),t.onFilePause(e.id,function(e){e?(o.abort(),i.pause()):(o.abort(),o=t.requests.run(function(){return i.start(),function(){}}))}),t.onPauseAll(e.id,function(){o.abort(),i.pause()}),t.onResumeAll(e.id,function(){o.abort(),e.error&&i.abort(),o=t.requests.run(function(){return i.start(),function(){}})}),e.isRestored||t.uppy.emit("upload-started",e,i)})},i.uploadRemote=function(e){var t=this;return this.resetUploaderReferences(e.id),this.uppy.emit("upload-started",e),e.serverToken?this.connectToServerSocket(e):new Promise(function(n,r){new(e.remote.providerOptions.provider?Xl:Ql)(t.uppy,e.remote.providerOptions).post(e.remote.url,tt({},e.remote.body,{protocol:"s3-multipart",size:e.data.size,metadata:e.meta})).then(function(n){return t.uppy.setFileState(e.id,{serverToken:n.token}),e=t.uppy.getFile(e.id)}).then(function(e){return t.connectToServerSocket(e)}).then(function(){n()}).catch(function(n){t.uppy.emit("upload-error",e,n),r(n)})})},i.connectToServerSocket=function(e){var t=this;return new Promise(function(n,r){var i=e.serverToken,o=Sl(e.remote.companionUrl),s=new Jl({target:o+"/api/"+i,autoOpen:!1});t.uploaderSockets[e.id]=s,t.uploaderEvents[e.id]=new xl(t.uppy),t.onFileRemove(e.id,function(r){a.abort(),s.send("pause",{}),t.resetUploaderReferences(e.id,{abort:!0}),n("upload "+e.id+" was removed")}),t.onFilePause(e.id,function(e){e?(a.abort(),s.send("pause",{})):(a.abort(),a=t.requests.run(function(){return s.send("resume",{}),function(){}}))}),t.onPauseAll(e.id,function(){a.abort(),s.send("pause",{})}),t.onCancelAll(e.id,function(){a.abort(),s.send("pause",{}),t.resetUploaderReferences(e.id),n("upload "+e.id+" was canceled")}),t.onResumeAll(e.id,function(){a.abort(),e.error&&s.send("pause",{}),a=t.requests.run(function(){s.send("resume",{})})}),t.onRetry(e.id,function(){s.isOpen&&(s.send("pause",{}),s.send("resume",{}))}),t.onRetryAll(e.id,function(){s.isOpen&&(s.send("pause",{}),s.send("resume",{}))}),s.on("progress",function(n){return Ml(t,n,e)}),s.on("error",function(n){t.uppy.emit("upload-error",e,new Error(n.error)),t.resetUploaderReferences(e.id),a.done(),r(new Error(n.error))}),s.on("success",function(r){var i={uploadURL:r.url};t.uppy.emit("upload-success",e,i),t.resetUploaderReferences(e.id),a.done(),n()});var a=t.requests.run(function(){return s.open(),e.isPaused&&s.send("pause",{}),function(){}})})},i.upload=function(e){var t=this;if(0===e.length)return Promise.resolve();var n=e.map(function(e){var n=t.uppy.getFile(e);return n.isRemote?t.uploadRemote(n):t.uploadFile(n)});return Promise.all(n)},i.onFileRemove=function(e,t){this.uploaderEvents[e].on("file-removed",function(n){e===n.id&&t(n.id)})},i.onFilePause=function(e,t){this.uploaderEvents[e].on("upload-pause",function(n,r){e===n&&t(r)})},i.onRetry=function(e,t){this.uploaderEvents[e].on("upload-retry",function(n){e===n&&t()})},i.onRetryAll=function(e,t){var n=this;this.uploaderEvents[e].on("retry-all",function(r){n.uppy.getFile(e)&&t()})},i.onPauseAll=function(e,t){var n=this;this.uploaderEvents[e].on("pause-all",function(){n.uppy.getFile(e)&&t()})},i.onCancelAll=function(e,t){var n=this;this.uploaderEvents[e].on("cancel-all",function(){n.uppy.getFile(e)&&t()})},i.onResumeAll=function(e,t){var n=this;this.uploaderEvents[e].on("resume-all",function(){n.uppy.getFile(e)&&t()})},i.install=function(){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:tt({},e,{resumableUploads:!0})}),this.uppy.addUploader(this.upload)},i.uninstall=function(){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:tt({},e,{resumableUploads:!1})}),this.uppy.removeUploader(this.upload)},t}(Ur.Plugin),Zl.VERSION="1.8.6",ql),tu={exports:{}};(function(e){!function(e,t){"object"==typeof tu.exports?tu.exports=t(e):t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this,function(e){"use strict";var t,n=(e=e||{}).Base64,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(r),o=String.fromCharCode,s=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?o(192|t>>>6)+o(128|63&t):o(224|t>>>12&15)+o(128|t>>>6&63)+o(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return o(240|t>>>18&7)+o(128|t>>>12&63)+o(128|t>>>6&63)+o(128|63&t)},a=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,l=function(e){return e.replace(a,s)},u=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[r.charAt(n>>>18),r.charAt(n>>>12&63),t>=2?"=":r.charAt(n>>>6&63),t>=1?"=":r.charAt(63&n)].join("")},c=e.btoa&&"function"==typeof e.btoa?function(t){return e.btoa(t)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,u)},d=function(e){return c(l(String(e)))},h=function(e){return e.replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,"")},p=function(e,t){return t?h(d(e)):d(e)};e.Uint8Array&&(t=function(e,t){for(var n="",i=0,o=e.length;i<o;i+=3){var s=e[i],a=e[i+1],l=e[i+2],u=s<<16|a<<8|l;n+=r.charAt(u>>>18)+r.charAt(u>>>12&63)+(void 0!==a?r.charAt(u>>>6&63):"=")+(void 0!==l?r.charAt(63&u):"=")}return t?h(n):n});var f,m=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,g=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return o(55296+(t>>>10))+o(56320+(1023&t));case 3:return o((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return o((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},v=function(e){return e.replace(m,g)},y=function(e){var t=e.length,n=t%4,r=(t>0?i[e.charAt(0)]<<18:0)|(t>1?i[e.charAt(1)]<<12:0)|(t>2?i[e.charAt(2)]<<6:0)|(t>3?i[e.charAt(3)]:0),s=[o(r>>>16),o(r>>>8&255),o(255&r)];return s.length-=[0,0,2,1][n],s.join("")},_=e.atob&&"function"==typeof e.atob?function(t){return e.atob(t)}:function(e){return e.replace(/\S{1,4}/g,y)},b=function(e){return _(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(e){return function(e){return v(_(e))}(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};if(e.Uint8Array&&(f=function(e){return Uint8Array.from(b(e),function(e){return e.charCodeAt(0)})}),e.Base64={VERSION:"2.6.2",atob:b,btoa:c,fromBase64:w,toBase64:p,utob:l,encode:p,encodeURI:function(e){return p(e,!0)},btou:v,decode:w,noConflict:function(){var t=e.Base64;return e.Base64=n,t},fromUint8Array:t,toUint8Array:f},"function"==typeof Object.defineProperty){var k=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",k(function(){return w(this)})),Object.defineProperty(String.prototype,"toBase64",k(function(e){return p(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",k(function(){return p(this,!0)}))}}return e.Meteor&&(Base64=e.Base64),!!tu.exports&&(tu.exports.Base64=e.Base64),{Base64:e.Base64}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),tu=tu.exports;var nu={};Object.defineProperty(nu,"__esModule",{value:!0}),nu.default=void 0;var ru=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r.call(this,e)).originalRequest=o,n.originalResponse=s,n.causingError=i,null!=i&&(e+=", caused by ".concat(i.toString())),null!=o){var a=o.getHeader("X-Request-ID")||"n/a",l=o.getMethod(),u=o.getURL(),c=s?s.getStatus():"n/a",d=s?s.getBody()||"":"n/a";e+=", originated from request (method: ".concat(l,", url: ").concat(u,", response code: ").concat(c,", response text: ").concat(d,", request id: ").concat(a,")")}return n.message=e,n}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,it(Error));var n,r=(n=t,function(){var e,t=lt(n);if(st()){var r=lt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,e)});return t}();nu.default=ru;var iu={};Object.defineProperty(iu,"__esModule",{value:!0}),iu.enableDebugLog=function(){ou=!0},iu.log=function(e){ou&&console.log(e)};var ou=!1,su={};Object.defineProperty(su,"__esModule",{value:!0}),su.default=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})};var au={};Object.defineProperty(au,"__esModule",{value:!0}),au.default=void 0;var lu=ut(yl),uu=ut(nu),cu=ut(su),du=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"resume"in n&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=n,this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}var t,n,r;return t=e,r=[{key:"terminate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if("function"==typeof n||"function"==typeof r)throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");var i=gt("DELETE",t,n);return vt(i,null,n).then(function(e){if(204!==e.getStatus())throw new uu.default("tus: unexpected response while terminating upload",null,i,e)}).catch(function(r){if(r instanceof uu.default||(r=new uu.default("tus: failed to terminate upload",r,i,null)),!yt(r,0,n))throw r;var o=n.retryDelays[0],s=n.retryDelays.slice(1),a=dt({},n,{retryDelays:s});return new Promise(function(e){return setTimeout(e,o)}).then(function(){return e.terminate(t,a)})})}}],(n=[{key:"findPreviousUploads",value:function(){var e=this;return this.options.fingerprint(this.file,this.options).then(function(t){return e._urlStorage.findUploadsByFingerprint(t)})}},{key:"resumeFromPreviousUpload",value:function(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}},{key:"start",value:function(){var e=this,t=this.file;if(t)if(this.options.endpoint||this.options.uploadUrl){var n=this.options.retryDelays;null==n||"[object Array]"===Object.prototype.toString.call(n)?(this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach(function(t){e.options[t]&&e._emitError(new Error("tus: cannot use the ".concat(t," option when parallelUploads is enabled")))}),this.options.fingerprint(t,this.options).then(function(n){return null==n?(0,iu.log)("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):(0,iu.log)("Calculated fingerprint: ".concat(n)),e._fingerprint=n,e._source?e._source:e.options.fileReader.openFile(t,e.options.chunkSize)}).then(function(t){e._source=t,e.options.parallelUploads>1||null!=e._parallelUploadUrls?e._startParallelUpload():e._startSingleUpload()}).catch(function(t){e._emitError(t)})):this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function(){var t=this,n=this._size=this._source.size,r=0;this._parallelUploads=[];var i=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,o=function(e,t,n){for(var r=Math.floor(e/t),i=[],o=0;o<t;o++)i.push({start:r*o,end:r*(o+1)});return i[t-1].end=e,n&&i.forEach(function(e,t){e.uploadUrl=n[t]||null}),i}(this._source.size,i,this._parallelUploadUrls);this._parallelUploadUrls=new Array(o.length);var s,a=o.map(function(i,s){var a=0;return t._source.slice(i.start,i.end).then(function(l){var u=l.value;return new Promise(function(l,c){var d=dt({},t.options,{uploadUrl:i.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:dt({},t.options.headers,{"Upload-Concat":"partial"}),onSuccess:l,onError:c,onProgress:function(e){r=r-a+e,a=e,t._emitProgress(r,n)},_onUploadUrlAvailable:function(){t._parallelUploadUrls[s]=h.url,t._parallelUploadUrls.filter(function(e){return!!e}).length===o.length&&t._saveUploadInUrlStorage()}}),h=new e(u,d);h.start(),t._parallelUploads.push(h)})})});Promise.all(a).then(function(){(s=t._openRequest("POST",t.options.endpoint)).setHeader("Upload-Concat","final;".concat(t._parallelUploadUrls.join(" ")));var e=ft(t.options.metadata);return""!==e&&s.setHeader("Upload-Metadata",e),t._sendRequest(s,null)}).then(function(e){if(mt(e.getStatus(),200)){var n=e.getHeader("Location");null!=n?(t.url=_t(t.options.endpoint,n),(0,iu.log)("Created upload at ".concat(t.url)),t._emitSuccess()):t._emitHttpError(s,e,"tus: invalid or missing Location header")}else t._emitHttpError(s,e,"tus: unexpected response while creating upload")}).catch(function(e){t._emitError(e)})}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=this._source.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return this._aborted=!1,null!=this.url?((0,iu.log)("Resuming upload from previous URL: ".concat(this.url)),void this._resumeUpload()):null!=this.options.uploadUrl?((0,iu.log)("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,void this._resumeUpload()):((0,iu.log)("Creating a new upload"),void this._createUpload())}},{key:"abort",value:function(t,n){var r=this;if("function"==typeof n)throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return null!=this._parallelUploads&&this._parallelUploads.forEach(function(e){e.abort(t)}),null!==this._req&&(this._req.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),t&&null!=this.url?e.terminate(this.url,this.options).then(function(){return r._removeFromUrlStorage()}):Promise.resolve()}},{key:"_emitHttpError",value:function(e,t,n,r){this._emitError(new uu.default(n,r,e,t))}},{key:"_emitError",value:function(e){var t=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),yt(e,this._retryAttempt,this.options))){var n=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout(function(){t.start()},n))}if("function"!=typeof this.options.onError)throw e;this.options.onError(e)}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,n){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,n)}},{key:"_createUpload",value:function(){var e=this;if(this.options.endpoint){var t=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?t.setHeader("Upload-Defer-Length",1):t.setHeader("Upload-Length",this._size);var n,r=ft(this.options.metadata);""!==r&&t.setHeader("Upload-Metadata",r),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,n=this._addChunkToRequest(t)):n=this._sendRequest(t,null),n.then(function(n){if(mt(n.getStatus(),200)){var r=n.getHeader("Location");if(null!=r){if(e.url=_t(e.options.endpoint,r),(0,iu.log)("Created upload at ".concat(e.url)),"function"==typeof e.options._onUploadUrlAvailable&&e.options._onUploadUrlAvailable(),0===e._size)return e._emitSuccess(),void e._source.close();e._saveUploadInUrlStorage(),e.options.uploadDataDuringCreation?e._handleUploadResponse(t,n):(e._offset=0,e._performUpload())}else e._emitHttpError(t,n,"tus: invalid or missing Location header")}else e._emitHttpError(t,n,"tus: unexpected response while creating upload")}).catch(function(n){e._emitHttpError(t,null,"tus: failed to create upload",n)})}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){
var e=this,t=this._openRequest("HEAD",this.url);this._sendRequest(t,null).then(function(n){var r=n.getStatus();if(!mt(r,200))return mt(r,400)&&e._removeFromUrlStorage(),423===r?void e._emitHttpError(t,n,"tus: upload is currently locked; retry later"):e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitHttpError(t,n,"tus: unable to resume upload (new upload cannot be created without an endpoint)");var i=parseInt(n.getHeader("Upload-Offset"),10);if(isNaN(i))e._emitHttpError(t,n,"tus: invalid or missing offset value");else{var o=parseInt(n.getHeader("Upload-Length"),10);if(!isNaN(o)||e.options.uploadLengthDeferred){if("function"==typeof e.options._onUploadUrlAvailable&&e.options._onUploadUrlAvailable(),i===o)return e._emitProgress(o,o),void e._emitSuccess();e._offset=i,e._performUpload()}else e._emitHttpError(t,n,"tus: invalid or missing length value")}}).catch(function(n){e._emitHttpError(t,null,"tus: failed to resume upload",n)})}},{key:"_performUpload",value:function(){var e,t=this;this._aborted||(this.options.overridePatchMethod?(e=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):e=this._openRequest("PATCH",this.url),e.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(e).then(function(n){mt(n.getStatus(),200)?t._handleUploadResponse(e,n):t._emitHttpError(e,n,"tus: unexpected response while uploading chunk")}).catch(function(n){t._aborted||t._emitHttpError(e,null,"tus: failed to upload chunk at offset "+t._offset,n)}))}},{key:"_addChunkToRequest",value:function(e){var t=this,n=this._offset,r=this._offset+this.options.chunkSize;return e.setProgressHandler(function(e){t._emitProgress(n+e,t._size)}),e.setHeader("Content-Type","application/offset+octet-stream"),(r===1/0||r>this._size)&&!this.options.uploadLengthDeferred&&(r=this._size),this._source.slice(n,r).then(function(n){var r=n.value,i=n.done;return t.options.uploadLengthDeferred&&i&&(t._size=t._offset+(r&&r.size?r.size:0),e.setHeader("Upload-Length",t._size)),null===r?t._sendRequest(e):(t._emitProgress(t._offset,t._size),t._sendRequest(e,r))})}},{key:"_handleUploadResponse",value:function(e,t){var n=parseInt(t.getHeader("Upload-Offset"),10);if(isNaN(n))this._emitHttpError(e,t,"tus: invalid or missing offset value");else{if(this._emitProgress(n,this._size),this._emitChunkComplete(n-this._offset,n,this._size),this._offset=n,n==this._size)return this._emitSuccess(),void this._source.close();this._performUpload()}}},{key:"_openRequest",value:function(e,t){var n=gt(e,t,this.options);return this._req=n,n}},{key:"_removeFromUrlStorage",value:function(){var e=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(t){e._emitError(t)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var e=this;if(this.options.storeFingerprintForResuming&&this._fingerprint){var t={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};this._parallelUploads?t.parallelUploadUrls=this._parallelUploadUrls:t.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,t).then(function(t){return e._urlStorageKey=t}).catch(function(t){e._emitError(t)})}}},{key:"_sendRequest",value:function(e){return vt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.options)}}])&&pt(t.prototype,n),r&&pt(t,r),e}();du.defaultOptions={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null};var hu=du;au.default=hu;var pu={};Object.defineProperty(pu,"__esModule",{value:!0}),pu.default=void 0;var fu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(e){return Promise.resolve([])}},{key:"removeUpload",value:function(e){return Promise.resolve()}},{key:"addUpload",value:function(e,t){return Promise.resolve(null)}}])&&bt(t.prototype,n),e}();pu.default=fu;var mu={};Object.defineProperty(mu,"__esModule",{value:!0}),mu.WebStorageUrlStorage=mu.canStoreURLs=void 0;var gu=!1;try{gu="localStorage"in window;var vu="tusSupport";localStorage.setItem(vu,localStorage.getItem(vu))}catch(e){if(e.code!==e.SECURITY_ERR&&e.code!==e.QUOTA_EXCEEDED_ERR)throw e;gu=!1}var yu=gu;mu.canStoreURLs=yu;var _u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"findAllUploads",value:function(){var e=this._findEntries("tus::");return Promise.resolve(e)}},{key:"findUploadsByFingerprint",value:function(e){var t=this._findEntries("tus::".concat(e,"::"));return Promise.resolve(t)}},{key:"removeUpload",value:function(e){return localStorage.removeItem(e),Promise.resolve()}},{key:"addUpload",value:function(e,t){var n=Math.round(1e12*Math.random()),r="tus::".concat(e,"::").concat(n);return localStorage.setItem(r,JSON.stringify(t)),Promise.resolve(r)}},{key:"_findEntries",value:function(e){for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);if(0===r.indexOf(e))try{var i=JSON.parse(localStorage.getItem(r));i.urlStorageKey=r,t.push(i)}catch(e){}}return t}}])&&wt(t.prototype,n),e}();mu.WebStorageUrlStorage=_u;var bu={};Object.defineProperty(bu,"__esModule",{value:!0}),bu.default=void 0;var wu=function(){function e(){kt(this,e)}return Mt(e,[{key:"createRequest",value:function(e,t){return new ku(e,t)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}();bu.default=wu;var ku=function(){function e(t,n){kt(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,n,!0),this._method=t,this._url=n,this._headers={}}return Mt(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}},{key:"getHeader",value:function(e){return this._headers[e]}},{key:"setProgressHandler",value:function(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(t){t.lengthComputable&&e(t.loaded)})}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(function(n,r){e._xhr.onload=function(){n(new Lu(e._xhr))},e._xhr.onerror=function(e){r(e)},e._xhr.send(t)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),Lu=function(){function e(t){kt(this,e),this._xhr=t}return Mt(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(e){return this._xhr.getResponseHeader(e)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),Mu={};Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.default=void 0,Mu.default=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};var Su={};Object.defineProperty(Su,"__esModule",{value:!0}),Su.default=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var e=r.response;t(e)},r.onerror=function(e){n(e)},r.open("GET",e),r.send()})};var xu={};Object.defineProperty(xu,"__esModule",{value:!0}),xu.default=void 0,xu.default=function(){return"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)};var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.default=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){var e=new Uint8Array(r.result);t({value:e})},r.onerror=function(e){n(e)},r.readAsArrayBuffer(e)})};var Du={};Object.defineProperty(Du,"__esModule",{value:!0}),Du.default=void 0;var Fu=St(Mu),Au=St(Su),Eu=St(xu),Pu=St(Tu),Cu=function(){function e(t){xt(this,e),this._file=t,this.size=t.size}return Dt(e,[{key:"slice",value:function(e,t){if((0,Eu.default)())return(0,Pu.default)(this._file.slice(e,t));var n=this._file.slice(e,t);return Promise.resolve({value:n})}},{key:"close",value:function(){}}]),e}(),Yu=function(){function e(t,n){xt(this,e),this._chunkSize=n,this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return Dt(e,[{key:"slice",value:function(e,t){return e<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}},{key:"_readUntilEnoughDataOrDone",value:function(e,t){var n=this,r=t<=this._bufferOffset+Ft(this._buffer);if(this._done||r){var i=this._getDataFromBuffer(e,t),o=null==i&&this._done;return Promise.resolve({value:i,done:o})}return this._reader.read().then(function(r){var i=r.value;return r.done?n._done=!0:void 0===n._buffer?n._buffer=i:n._buffer=function(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}throw new Error("Unknown data type")}(n._buffer,i),n._readUntilEnoughDataOrDone(e,t)})}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var n=0===Ft(this._buffer);return this._done&&n?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),e}(),ju=function(){function e(){xt(this,e)}return Dt(e,[{key:"openFile",value:function(e,t){return(0,Fu.default)()&&e&&void 0!==e.uri?(0,Au.default)(e.uri).then(function(e){return new Cu(e)}).catch(function(e){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. "+e)}):"function"==typeof e.slice&&void 0!==e.size?Promise.resolve(new Cu(e)):"function"==typeof e.read?(t=+t,isFinite(t)?Promise.resolve(new Yu(e,t)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))}}]),e}();Du.default=ju;var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.default=function(e,t){return(0,Iu.default)()?Promise.resolve(function(e,t){var n=e.exif?function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",n,t.endpoint].join("/")}(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))};var Ru,Iu=(Ru=Mu)&&Ru.__esModule?Ru:{default:Ru},Uu={};Object.defineProperty(Uu,"__esModule",{value:!0}),Object.defineProperty(Uu,"enableDebugLog",{enumerable:!0,get:function(){return iu.enableDebugLog}}),Object.defineProperty(Uu,"canStoreURLs",{enumerable:!0,get:function(){return mu.canStoreURLs}}),Object.defineProperty(Uu,"HttpStack",{enumerable:!0,get:function(){return zu.default}}),Uu.defaultOptions=Uu.Upload=void 0;var Hu=At(au),Nu=At(pu),zu=At(bu),Bu=At(Du),Zu=At(Ou),qu=Ot({},Hu.default.defaultOptions,{httpStack:new zu.default,fileReader:new Bu.default,urlStorage:mu.canStoreURLs?new mu.WebStorageUrlStorage:new Nu.default,fingerprint:Zu.default});Uu.defaultOptions=qu;var Wu=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Ot({},qu,{},n),o.call(this,e,n)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,Hu.default);var n,r,i,o=(i=t,function(){var e,t=Yt(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Yt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,e)});return n=t,r=[{key:"terminate",value:function(e,t,n){return t=Ot({},qu,{},t),Hu.default.terminate(e,t,n)}}],r&&Pt(n,r),t}();Uu.Upload=Wu;var Vu,$u,Ku=window,Gu=Ku.XMLHttpRequest,Ju=Ku.Blob;Gu&&Ju&&Ju.prototype.slice;var Xu=ei.Provider,Qu=ei.RequestClient,ec=ei.Socket,tc={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},nc=($u=Vu=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).type="uploader",r.id=r.opts.id||"Tus",r.title="Tus",r.opts=It({},{autoRetry:!0,resume:!0,useFastRemoteRetry:!0,limit:0,retryDelays:[0,1e3,3e3,5e3],withCredentials:!1},n),r.requests=new wl(r.opts.limit),r.uploaders=Object.create(null),r.uploaderEvents=Object.create(null),r.uploaderSockets=Object.create(null),r.handleResetProgress=r.handleResetProgress.bind(Ut(r)),r.handleUpload=r.handleUpload.bind(Ut(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.handleResetProgress=function(){var e=It({},this.uppy.getState().files);Object.keys(e).forEach(function(t){if(e[t].tus&&e[t].tus.uploadUrl){var n=It({},e[t].tus);delete n.uploadUrl,e[t]=It({},e[t],{tus:n})}}),this.uppy.setState({files:e})},i.resetUploaderReferences=function(e,t){if(void 0===t&&(t={}),this.uploaders[e]){var n=this.uploaders[e];n.abort(),t.abort&&setTimeout(function(){return n.abort(!0)},1e3),this.uploaders[e]=null}this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)},i.upload=function(e,t,n){var r=this;return this.resetUploaderReferences(e.id),new Promise(function(t,n){r.uppy.emit("upload-started",e);var i,o=It({},r.opts,e.tus||{}),s=It({},tc,o);delete s.resume,o.resume&&(s.storeFingerprintForResuming=!0),s.fingerprint=(i=e,function(e,t){if("undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)||"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return Uu.defaultOptions.fingerprint(e,t);var n=["tus",i.id,t.endpoint].join("-");return Promise.resolve(n)}),s.onBeforeRequest=function(e){e.getUnderlyingObject().withCredentials=!!o.withCredentials},s.onError=function(t){r.uppy.log(t);var i=t.originalRequest?t.originalRequest.getUnderlyingObject():null;Dl(i)&&(t=new Gr(t,i)),r.resetUploaderReferences(e.id),c.done(),r.uppy.emit("upload-error",e,t),n(t)},s.onProgress=function(t,n){r.onReceiveUploadUrl(e,u.url),r.uppy.emit("upload-progress",e,{uploader:r,bytesUploaded:t,bytesTotal:n})},s.onSuccess=function(){var n={uploadURL:u.url};r.resetUploaderReferences(e.id),c.done(),r.uppy.emit("upload-success",e,n),u.url&&r.uppy.log("Download "+u.file.name+" from "+u.url),t(u)};var a=function(e,t,n){dr(e,t)&&!dr(e,n)&&(e[n]=e[t])},l={};(Array.isArray(o.metaFields)?o.metaFields:Object.keys(e.meta)).forEach(function(t){l[t]=e.meta[t]}),a(l,"type","filetype"),a(l,"name","filename"),s.metadata=l;var u=new Uu.Upload(e.data,s);r.uploaders[e.id]=u,r.uploaderEvents[e.id]=new xl(r.uppy),o.resume&&u.findPreviousUploads().then(function(t){var n=t[0];n&&(r.uppy.log("[Tus] Resuming upload of "+e.id+" started at "+n.creationTime),u.resumeFromPreviousUpload(n))});var c=r.requests.run(function(){return e.isPaused||Promise.resolve().then(function(){u.start()}),function(){}});r.onFileRemove(e.id,function(n){c.abort(),r.resetUploaderReferences(e.id,{abort:!!u.url}),t("upload "+n+" was removed")}),r.onPause(e.id,function(e){e?(c.abort(),u.abort()):(c.abort(),c=r.requests.run(function(){return u.start(),function(){}}))}),r.onPauseAll(e.id,function(){c.abort(),u.abort()}),r.onCancelAll(e.id,function(){c.abort(),r.resetUploaderReferences(e.id,{abort:!!u.url}),t("upload "+e.id+" was canceled")}),r.onResumeAll(e.id,function(){c.abort(),e.error&&u.abort(),c=r.requests.run(function(){return u.start(),function(){}})})}).catch(function(t){throw r.uppy.emit("upload-error",e,t),t})},i.uploadRemote=function(e,t,n){var r=this;this.resetUploaderReferences(e.id);var i=It({},this.opts);return e.tus&&It(i,e.tus),this.uppy.emit("upload-started",e),this.uppy.log(e.remote.url),e.serverToken?this.connectToServerSocket(e):new Promise(function(t,n){new(e.remote.providerOptions.provider?Xu:Qu)(r.uppy,e.remote.providerOptions).post(e.remote.url,It({},e.remote.body,{endpoint:i.endpoint,uploadUrl:i.uploadUrl,protocol:"tus",size:e.data.size,headers:i.headers,metadata:e.meta})).then(function(t){return r.uppy.setFileState(e.id,{serverToken:t.token}),e=r.uppy.getFile(e.id),r.connectToServerSocket(e)}).then(function(){t()}).catch(function(t){r.uppy.emit("upload-error",e,t),n(t)})})},i.connectToServerSocket=function(e){var t=this;return new Promise(function(n,r){var i=e.serverToken,o=Sl(e.remote.companionUrl),s=new ec({target:o+"/api/"+i,autoOpen:!1});t.uploaderSockets[e.id]=s,t.uploaderEvents[e.id]=new xl(t.uppy),t.onFileRemove(e.id,function(){a.abort(),s.send("pause",{}),s.send("cancel",{}),t.resetUploaderReferences(e.id),n("upload "+e.id+" was removed")}),t.onPause(e.id,function(e){e?(a.abort(),s.send("pause",{})):(a.abort(),a=t.requests.run(function(){return s.send("resume",{}),function(){}}))}),t.onPauseAll(e.id,function(){a.abort(),s.send("pause",{})}),t.onCancelAll(e.id,function(){a.abort(),s.send("pause",{}),s.send("cancel",{}),t.resetUploaderReferences(e.id),n("upload "+e.id+" was canceled")}),t.onResumeAll(e.id,function(){a.abort(),e.error&&s.send("pause",{}),a=t.requests.run(function(){return s.send("resume",{}),function(){}})}),t.onRetry(e.id,function(){s.isOpen&&(s.send("pause",{}),s.send("resume",{}))}),t.onRetryAll(e.id,function(){s.isOpen&&(s.send("pause",{}),s.send("resume",{}))}),s.on("progress",function(n){return Ml(t,n,e)}),s.on("error",function(n){var i=n.error.message,o=It(new Error(i),{cause:n.error});t.opts.useFastRemoteRetry?s.close():(t.resetUploaderReferences(e.id),t.uppy.setFileState(e.id,{serverToken:null})),t.uppy.emit("upload-error",e,o),a.done(),r(o)}),s.on("success",function(r){var i={uploadURL:r.url};t.uppy.emit("upload-success",e,i),t.resetUploaderReferences(e.id),a.done(),n()});var a=t.requests.run(function(){return s.open(),e.isPaused&&s.send("pause",{}),function(){}})})},i.onReceiveUploadUrl=function(e,t){var n=this.uppy.getFile(e.id);n&&(n.tus&&n.tus.uploadUrl===t||(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(n.id,{tus:It({},n.tus,{uploadUrl:t})})))},i.onFileRemove=function(e,t){this.uploaderEvents[e].on("file-removed",function(n){e===n.id&&t(n.id)})},i.onPause=function(e,t){this.uploaderEvents[e].on("upload-pause",function(n,r){e===n&&t(r)})},i.onRetry=function(e,t){this.uploaderEvents[e].on("upload-retry",function(n){e===n&&t()})},i.onRetryAll=function(e,t){var n=this;this.uploaderEvents[e].on("retry-all",function(r){n.uppy.getFile(e)&&t()})},i.onPauseAll=function(e,t){var n=this;this.uploaderEvents[e].on("pause-all",function(){n.uppy.getFile(e)&&t()})},i.onCancelAll=function(e,t){var n=this;this.uploaderEvents[e].on("cancel-all",function(){n.uppy.getFile(e)&&t()})},i.onResumeAll=function(e,t){var n=this;this.uploaderEvents[e].on("resume-all",function(){n.uppy.getFile(e)&&t()})},i.uploadFiles=function(e){var t=this,n=e.map(function(n,r){var i=r+1,o=e.length;return"error"in n&&n.error?Promise.reject(new Error(n.error)):n.isRemote?t.uploadRemote(n,i,o):t.upload(n,i,o)});return kl(n)},i.handleUpload=function(e){var t=this;if(0===e.length)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();0===this.opts.limit&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var n=e.map(function(e){return t.uppy.getFile(e)});return this.uploadFiles(n).then(function(){return null})},i.install=function(){this.uppy.setState({capabilities:It({},this.uppy.getState().capabilities,{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress),this.opts.autoRetry&&this.uppy.on("back-online",this.uppy.retryAll)},i.uninstall=function(){this.uppy.setState({capabilities:It({},this.uppy.getState().capabilities,{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload),this.opts.autoRetry&&this.uppy.off("back-online",this.uppy.retryAll)},t}(Ur.Plugin),Vu.VERSION="1.7.7",$u),rc=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ic=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],oc=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=rc.exec(e||""),o={},s=14;s--;)o[ic[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},sc=864e5,ac={};(ac=ac=Nt.debug=Nt.default=Nt).coerce=function(e){return e instanceof Error?e.stack||e.message:e},ac.disable=function(){ac.enable("")},ac.enable=function(e){var t;ac.save(e),ac.names=[],ac.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?ac.skips.push(new RegExp("^"+e.substr(1)+"$")):ac.names.push(new RegExp("^"+e+"$")));for(t=0;t<ac.instances.length;t++){var i=ac.instances[t];i.enabled=ac.enabled(i.namespace)}},ac.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=ac.skips.length;t<n;t++)if(ac.skips[t].test(e))return!1;for(t=0,n=ac.names.length;t<n;t++)if(ac.names[t].test(e))return!0;return!1},ac.humanize=function(e,t){t=t||{};var n,r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*sc;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===r&&!1===isNaN(e))return t.long?Ht(n=e,sc,"day")||Ht(n,36e5,"hour")||Ht(n,6e4,"minute")||Ht(n,1e3,"second")||n+" ms":function(e){return e>=sc?Math.round(e/sc)+"d":e>=36e5?Math.round(e/36e5)+"h":e>=6e4?Math.round(e/6e4)+"m":e>=1e3?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},ac.instances=[],ac.names=[],ac.skips=[],ac.formatters={};var lc={};(function(e){function t(){var t;try{t=lc.storage.debug}catch(e){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t}(lc=lc=ac).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},lc.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+lc.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n)}},lc.save=function(e){try{null==e?lc.storage.removeItem("debug"):lc.storage.debug=e}catch(e){}},lc.load=t,lc.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},lc.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),lc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],lc.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},lc.enable(t())}).call(this,Kn);var uc=lc("socket.io-client:url"),cc=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(uc("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),uc("parse %s",e),n=oc(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n},dc={};(dc=dc=Zt.debug=Zt.default=Zt).coerce=function(e){return e instanceof Error?e.stack||e.message:e},dc.disable=function(){dc.enable("")},dc.enable=function(e){var t;dc.save(e),dc.names=[],dc.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?dc.skips.push(new RegExp("^"+e.substr(1)+"$")):dc.names.push(new RegExp("^"+e+"$")));for(t=0;t<dc.instances.length;t++){var i=dc.instances[t];i.enabled=dc.enabled(i.namespace)}},dc.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=dc.skips.length;t<n;t++)if(dc.skips[t].test(e))return!1;for(t=0,n=dc.names.length;t<n;t++)if(dc.names[t].test(e))return!0;return!1},dc.humanize=function(e,t){t=t||{};var n,r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===r&&!1===isNaN(e))return t.long?Bt(n=e,864e5,"day")||Bt(n,36e5,"hour")||Bt(n,6e4,"minute")||Bt(n,1e3,"second")||n+" ms":function(e){return e>=864e5?Math.round(e/864e5)+"d":e>=36e5?Math.round(e/36e5)+"h":e>=6e4?Math.round(e/6e4)+"m":e>=1e3?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},dc.instances=[],dc.names=[],dc.skips=[],dc.formatters={};var hc={};(function(e){function t(){var t;try{t=hc.storage.debug}catch(e){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t}(hc=hc=dc).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},hc.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+hc.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n)}},hc.save=function(e){try{null==e?hc.storage.removeItem("debug"):hc.storage.debug=e}catch(e){}},hc.load=t,hc.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},hc.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),hc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],hc.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},hc.enable(t())}).call(this,Kn);var pc={exports:{}};pc.exports=Wt,Wt.prototype.on=Wt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Wt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}
return n.fn=t,this.on(e,n),this},Wt.prototype.off=Wt.prototype.removeListener=Wt.prototype.removeAllListeners=Wt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},Wt.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},Wt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Wt.prototype.hasListeners=function(e){return!!this.listeners(e).length},pc=pc.exports;var fc={}.toString,mc=Array.isArray||function(e){return"[object Array]"==fc.call(e)},gc={};(function(e){gc=function(i){return t&&e.isBuffer(i)||n&&(i instanceof ArrayBuffer||r(i))};var t="function"==typeof e&&"function"==typeof e.isBuffer,n="function"==typeof ArrayBuffer,r=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}}).call(this,tr({}).Buffer);var vc={},yc=Object.prototype.toString,_c="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===yc.call(Blob),bc="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===yc.call(File);vc.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=function e(t,n){if(!t)return t;if(gc(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(mc(t)){for(var i=new Array(t.length),o=0;o<t.length;o++)i[o]=e(t[o],n);return i}if("object"==typeof t&&!(t instanceof Date)){i={};for(var s in t)i[s]=e(t[s],n);return i}return t}(n,t),r.attachments=t.length,{packet:r,buffers:t}},vc.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(mc(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==typeof t)for(var i in t)t[i]=e(t[i],n);return t}(e.data,t),e.attachments=void 0,e},vc.removeBlobs=function(e,t){var n=0,r=e;!function e(i,o,s){if(!i)return i;if(_c&&i instanceof Blob||bc&&i instanceof File){n++;var a=new FileReader;a.onload=function(){s?s[o]=this.result:r=this.result,--n||t(r)},a.readAsArrayBuffer(i)}else if(mc(i))for(var l=0;l<i.length;l++)e(i[l],l,i);else if("object"==typeof i&&!gc(i))for(var u in i)e(i[u],u,i)}(r),n||t(r)};var wc={},kc=hc("socket.io-parser");wc.protocol=4,wc.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],wc.CONNECT=0,wc.DISCONNECT=1,wc.EVENT=2,wc.ACK=3,wc.ERROR=4,wc.BINARY_EVENT=5,wc.BINARY_ACK=6,wc.Encoder=Vt,wc.Decoder=Kt;var Lc=wc.ERROR+'"encode error"';Vt.prototype.encode=function(e,t){kc("encoding packet %j",e),wc.BINARY_EVENT===e.type||wc.BINARY_ACK===e.type?function(e,t){vc.removeBlobs(e,function(e){var n=vc.deconstructPacket(e),r=$t(n.packet),i=n.buffers;i.unshift(r),t(i)})}(e,t):t([$t(e)])},pc(Kt.prototype),Kt.prototype.add=function(e){var t;if("string"==typeof e)t=function(e){var t=0,n={type:Number(e.charAt(0))};if(null==wc.types[n.type])return Jt("unknown packet type "+n.type);if(wc.BINARY_EVENT===n.type||wc.BINARY_ACK===n.type){for(var r="";"-"!==e.charAt(++t)&&(r+=e.charAt(t),t!=e.length););if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1))for(n.nsp="";++t&&","!==(o=e.charAt(t))&&(n.nsp+=o,t!==e.length););else n.nsp="/";var i=e.charAt(t+1);if(""!==i&&Number(i)==i){for(n.id="";++t;){var o;if(null==(o=e.charAt(t))||Number(o)!=o){--t;break}if(n.id+=e.charAt(t),t===e.length)break}n.id=Number(n.id)}if(e.charAt(++t)){var s=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!1===s||n.type!==wc.ERROR&&!mc(s))return Jt("invalid payload");n.data=s}return kc("decoded %s as %j",e,n),n}(e),wc.BINARY_EVENT===t.type||wc.BINARY_ACK===t.type?(this.reconstructor=new Gt(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!gc(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},Kt.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},Gt.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=vc.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},Gt.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};var Mc={exports:{}};Mc.exports=Xt,Xt.prototype.on=Xt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Xt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Xt.prototype.off=Xt.prototype.removeListener=Xt.prototype.removeAllListeners=Xt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},Xt.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},Xt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Xt.prototype.hasListeners=function(e){return!!this.listeners(e).length},Mc=Mc.exports;var Sc=[].indexOf,xc=function(e,t){if(Sc)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},Tc={encode:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},decode:function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},Dc=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},Fc={}.toString,Ac=Array.isArray||function(e){return"[object Array]"==Fc.call(e)},Ec={};(function(e){var t=Object.prototype.toString,n="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===t.call(Blob),r="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===t.call(File);Ec=function t(i){if(!i||"object"!=typeof i)return!1;if(Ac(i)){for(var o=0,s=i.length;o<s;o++)if(t(i[o]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(i)||"function"==typeof ArrayBuffer&&i instanceof ArrayBuffer||n&&i instanceof Blob||r&&i instanceof File)return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return t(i.toJSON(),!0);for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&t(i[a]))return!0;return!1}}).call(this,tr({}).Buffer);var Pc,Cc,Yc,jc=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer},Oc=String.fromCharCode,Rc=function(e,t){for(var n=!1!==(t=t||{}).strict,r=en(e),i=r.length,o=-1,s="";++o<i;)s+=rn(r[o],n);return s},Ic=function(e,t){var n=!1!==(t=t||{}).strict;Pc=en(e),Cc=Pc.length,Yc=0;for(var r,i=[];!1!==(r=sn(n));)i.push(r);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=Oc((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=Oc(t);return i}(i)},Uc={};!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),n=0;n<e.length;n++)t[e.charCodeAt(n)]=n;Uc.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},Uc.decode=function(e){var n,r,i,o,s,a=.75*e.length,l=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),d=new Uint8Array(c);for(n=0;n<l;n+=4)r=t[e.charCodeAt(n)],i=t[e.charCodeAt(n+1)],o=t[e.charCodeAt(n+2)],s=t[e.charCodeAt(n+3)],d[u++]=r<<2|i>>4,d[u++]=(15&i)<<4|o>>2,d[u++]=(3&o)<<6|63&s;return c}}();var Hc={},Nc=void 0!==Nc?Nc:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,zc=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),Bc=zc&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),Zc=Nc&&Nc.prototype.append&&Nc.prototype.getBlob;"undefined"!=typeof Blob&&(ln.prototype=Blob.prototype,un.prototype=Blob.prototype),Hc=zc?Bc?Blob:un:Zc?ln:void 0;var qc,Wc={};"undefined"!=typeof ArrayBuffer&&(qc=Uc);var Vc="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),$c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),Kc=Vc||$c;Wc.protocol=3;var Gc=Wc.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},Jc=Dc(Gc),Xc={type:"error",data:"parser error"};Wc.encodePacket=function(e,t,n,r){"function"==typeof t&&(r=t,t=!1),"function"==typeof n&&(r=n,n=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,t,n){if(!t)return Wc.encodeBase64Packet(e,n);var r=e.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=Gc[e.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return n(o.buffer)}(e,t,r);if(void 0!==Hc&&i instanceof Hc)return function(e,t,n){if(!t)return Wc.encodeBase64Packet(e,n);if(Kc)return function(e,t,n){if(!t)return Wc.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){Wc.encodePacket({type:e.type,data:r.result},t,!0,n)},r.readAsArrayBuffer(e.data)}(e,t,n);var r=new Uint8Array(1);return r[0]=Gc[e.type],n(new Hc([r.buffer,e.data]))}(e,t,r);if(i&&i.base64)return function(e,t){return t("b"+Wc.packets[e.type]+e.data.data)}(e,r);var o=Gc[e.type];return void 0!==e.data&&(o+=n?Rc(String(e.data),{strict:!1}):String(e.data)),r(""+o)},Wc.encodeBase64Packet=function(e,t){var n,r="b"+Wc.packets[e.type];if(void 0!==Hc&&e.data instanceof Hc){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];t(r+e)},i.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var o=new Uint8Array(e.data),s=new Array(o.length),a=0;a<o.length;a++)s[a]=o[a];n=String.fromCharCode.apply(null,s)}return r+=btoa(n),t(r)},Wc.decodePacket=function(e,t,n){if(void 0===e)return Xc;if("string"==typeof e){if("b"===e.charAt(0))return Wc.decodeBase64Packet(e.substr(1),t);if(n&&!1===(e=function(e){try{e=Ic(e,{strict:!1})}catch(e){return!1}return e}(e)))return Xc;var r=e.charAt(0);return Number(r)==r&&Jc[r]?e.length>1?{type:Jc[r],data:e.substring(1)}:{type:Jc[r]}:Xc}r=new Uint8Array(e)[0];var i=jc(e,1);return Hc&&"blob"===t&&(i=new Hc([i])),{type:Jc[r],data:i}},Wc.decodeBase64Packet=function(e,t){var n=Jc[e.charAt(0)];if(!qc)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=qc.decode(e.substr(1));return"blob"===t&&Hc&&(r=new Hc([r])),{type:n,data:r}},Wc.encodePayload=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=Ec(e);return t&&r?Hc&&!Kc?Wc.encodePayloadAsBlob(e,n):Wc.encodePayloadAsArrayBuffer(e,n):e.length?void cn(e,function(e,n){Wc.encodePacket(e,!!r&&t,!1,function(e){n(null,function(e){return e.length+":"+e}(e))})},function(e,t){return n(t.join(""))}):n("0:")},Wc.decodePayload=function(e,t,n){if("string"!=typeof e)return Wc.decodePayloadAsBinary(e,t,n);var r;if("function"==typeof t&&(n=t,t=null),""===e)return n(Xc,0,1);for(var i,o,s="",a=0,l=e.length;a<l;a++){var u=e.charAt(a);if(":"===u){if(""===s||s!=(i=Number(s)))return n(Xc,0,1);if(s!=(o=e.substr(a+1,i)).length)return n(Xc,0,1);if(o.length){if(r=Wc.decodePacket(o,t,!1),Xc.type===r.type&&Xc.data===r.data)return n(Xc,0,1);if(!1===n(r,a+i,l))return}a+=i,s=""}else s+=u}return""!==s?n(Xc,0,1):void 0},Wc.encodePayloadAsArrayBuffer=function(e,t){if(!e.length)return t(new ArrayBuffer(0));cn(e,function(e,t){Wc.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,n){var r=n.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}i[o++]=t?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);for(i[o++]=255,r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),t(i.buffer)})},Wc.encodePayloadAsBlob=function(e,t){cn(e,function(e,t){Wc.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,n[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,Hc){var a=new Hc([n.buffer,s.buffer,e]);t(null,a)}})},function(e,n){return t(new Hc(n))})},Wc.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var r=e,i=[];r.byteLength>0;){for(var o=new Uint8Array(r),s=0===o[0],a="",l=1;255!==o[l];l++){if(a.length>310)return n(Xc,0,1);a+=o[l]}r=jc(r,2+a.length),a=parseInt(a);var u=jc(r,0,a);if(s)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(e){var c=new Uint8Array(u);for(u="",l=0;l<c.length;l++)u+=String.fromCharCode(c[l])}i.push(u),r=jc(r,a)}var d=i.length;i.forEach(function(e,r){n(Wc.decodePacket(e,t,!0),r,d)})};var Qc={};Qc=dn,Mc(dn.prototype),dn.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},dn.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},dn.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},dn.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},dn.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},dn.prototype.onData=function(e){var t=Wc.decodePacket(e,this.socket.binaryType);this.onPacket(t)},dn.prototype.onPacket=function(e){this.emit("packet",e)},dn.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var ed={};try{ed="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Xc){ed=!1}for(var td,nd=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||ed))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}},rd=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},id={},od="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),sd={},ad=0,ld=0;ld<64;ld++)sd[od[ld]]=ld;pn.encode=hn,pn.decode=function(e){var t=0;for(ld=0;ld<e.length;ld++)t=64*t+sd[e.charAt(ld)];return t},id=pn;var ud=lc("engine.io-client:polling"),cd=fn,dd=null!=new nd({xdomain:!1}).responseType;rd(fn,Qc),fn.prototype.name="polling",fn.prototype.doOpen=function(){this.poll()},fn.prototype.pause=function(e){function t(){ud("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(ud("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){ud("pre-pause polling complete"),--r||t()})),this.writable||(ud("we are currently writing - waiting to pause"),r++,this.once("drain",function(){ud("pre-pause writing complete"),--r||t()}))}else t()},fn.prototype.poll=function(){ud("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},fn.prototype.onData=function(e){var t=this;ud("polling got data %s",e),Wc.decodePayload(e,this.socket.binaryType,function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():ud('ignoring poll - transport state "%s"',this.readyState))},fn.prototype.doClose=function(){function e(){ud("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(ud("transport open - closing"),e()):(ud("transport not open - deferring close"),this.once("open",e))},fn.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};Wc.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},fn.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=id()),this.supportsBinary||e.sid||(e.b64=1),e=Tc.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var hd={},pd=lc("engine.io-client:polling-xhr");if((hd=gn).Request=vn,rd(gn,cd),gn.prototype.supportsBinary=!0,gn.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new vn(e)},gn.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},gn.prototype.doPoll=function(){pd("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},Mc(vn.prototype),vn.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new nd(e),n=this;try{pd("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},pd("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}"undefined"!=typeof document&&(this.index=vn.requestsCount++,vn.requests[this.index]=this)},vn.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},vn.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},vn.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},vn.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=mn:this.xhr.onreadystatechange=mn,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete vn.requests[this.index],this.xhr=null}},vn.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},vn.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},vn.prototype.abort=function(){this.cleanup()},vn.requestsCount=0,vn.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",yn);else if("function"==typeof addEventListener){var fd="onpagehide"in self?"pagehide":"unload";addEventListener(fd,yn,!1)}var md={};(function(e){function t(){}function n(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}function r(e){if(cd.call(this,e),this.query=this.query||{},!i){var r=n();i=r.___eio=r.___eio||[]}this.index=i.length;var o=this;i.push(function(e){o.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){o.script&&(o.script.onerror=t)},!1)}md=r;var i,o=/\n/g,s=/\\n/g;rd(r,cd),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),cd.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';a=document.createElement(e)}catch(e){(a=document.createElement("iframe")).name=i.iframeId,a.src="javascript:0"}a.id=i.iframeId,i.form.appendChild(a),i.iframe=a}var i=this;if(!this.form){var a,l=document.createElement("form"),u=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;l.className="socketio",l.style.position="absolute",l.style.top="-1000px",l.style.left="-1000px",l.target=c,l.method="POST",l.setAttribute("accept-charset","utf-8"),u.name="d",l.appendChild(u),document.body.appendChild(l),this.form=l,this.area=u}this.form.action=this.uri(),r(),e=e.replace(s,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var gd={};(function(e){function t(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(o=r),Qc.call(this,e)}var n,r,i=lc("engine.io-client:websocket");if("undefined"!=typeof WebSocket)n=WebSocket;else if("undefined"!=typeof self)n=self.WebSocket||self.MozWebSocket;else try{r=er({})}catch(e){}var o=n||r;gd=t,rd(t,Qc),t.prototype.name="websocket",t.prototype.supportsBinary=!0,t.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new o(e,t):new o(e):new o(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},t.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},t.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,o=0,s=r;o<s;o++)!function(t){Wc.encodePacket(t,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var s={};t.options&&(s.compress=t.options.compress),n.perMessageDeflate&&("string"==typeof o?e.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(s.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,s)}catch(e){i("websocket closed before onclose event")}--r||(n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0))})}(t[o])},t.prototype.onClose=function(){Qc.prototype.onClose.call(this)},t.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},t.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=id()),this.supportsBinary||(e.b64=1),(e=Tc.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},t.prototype.check=function(){return!(!o||"__initialize"in o&&this.name===t.prototype.name)}}).call(this,tr({}).Buffer);var vd={polling:function(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var i="https:"===location.protocol,o=location.port;o||(o=i?443:80),t=e.hostname!==location.hostname||o!==e.port,n=e.secure!==i}if(e.xdomain=t,e.xscheme=n,"open"in new nd(e)&&!e.forceJSONP)return new hd(e);if(!r)throw new Error("JSONP disabled");return new md(e)}};vd.websocket=gd;var yd,_d=lc("engine.io-client:socket");yd=_n,_n.priorWebsocketSuccess=!1,Mc(_n.prototype),_n.protocol=Wc.protocol,_n.Socket=_n,_n.Transport=Qc,_n.transports=vd,_n.parser=Wc,_n.prototype.createTransport=function(e){_d('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=Wc.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new vd[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},_n.prototype.open=function(){var e;if(this.rememberUpgrade&&_n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},_n.prototype.setTransport=function(e){_d("setting transport %s",e.name);var t=this;this.transport&&(_d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},_n.prototype.probe=function(e){function t(){if(c.onlyBinaryUpgrades){var t=!this.supportsBinary&&c.transport.supportsBinary;u=u||t}u||(_d('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!u)if("pong"===t.type&&"probe"===t.data){if(_d('probe transport "%s" pong',e),c.upgrading=!0,c.emit("upgrading",l),!l)return;_n.priorWebsocketSuccess="websocket"===l.name,_d('pausing current transport "%s"',c.transport.name),c.transport.pause(function(){u||"closed"!==c.readyState&&(_d("changing transport and sending upgrade packet"),a(),c.setTransport(l),l.send([{type:"upgrade"}]),c.emit("upgrade",l),l=null,c.upgrading=!1,c.flush())})}else{_d('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=l.name,c.emit("upgradeError",n)}}))}function n(){u||(u=!0,a(),l.close(),l=null)}function r(t){var r=new Error("probe error: "+t);r.transport=l.name,n(),_d('probe transport "%s" failed because of error: %s',e,t),c.emit("upgradeError",r)}function i(){r("transport closed")}function o(){r("socket closed")}function s(e){l&&e.name!==l.name&&(_d('"%s" works - aborting "%s"',e.name,l.name),n())}function a(){l.removeListener("open",t),l.removeListener("error",r),l.removeListener("close",i),c.removeListener("close",o),c.removeListener("upgrading",s)}_d('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),u=!1,c=this;_n.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",r),l.once("close",i),this.once("close",o),this.once("upgrading",s),l.open()},_n.prototype.onOpen=function(){if(_d("socket open"),this.readyState="open",_n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){_d("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},_n.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(_d('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else _d('packet received with socket readyState "%s"',this.readyState)},_n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},_n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")
},e||t.pingInterval+t.pingTimeout)},_n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){_d("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},_n.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},_n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},_n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(_d("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},_n.prototype.write=_n.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},_n.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},_n.prototype.close=function(){function e(){r.onClose("forced close"),_d("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},_n.prototype.onError=function(e){_d("socket error %j",e),_n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},_n.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(_d('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},_n.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~xc(this.transports,e[n])&&t.push(e[n]);return t};var bd={};(bd=yd).parser=Wc;var wd={exports:{}};wd.exports=bn,bn.prototype.on=bn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},bn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},bn.prototype.off=bn.prototype.removeListener=bn.prototype.removeAllListeners=bn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},bn.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},bn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},bn.prototype.hasListeners=function(e){return!!this.listeners(e).length},wd=wd.exports;var kd=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n},Ld=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}},Md=[].slice,Sd=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=Md.call(arguments,2);return function(){return t.apply(e,n.concat(Md.call(arguments)))}},xd={},Td=lc("socket.io-client:socket");xd=xd=wn;var Dd={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},Fd=wd.prototype.emit;wd(wn.prototype),wn.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[Ld(e,"open",Sd(this,"onopen")),Ld(e,"packet",Sd(this,"onpacket")),Ld(e,"close",Sd(this,"onclose"))]}},wn.prototype.open=wn.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},wn.prototype.send=function(){var e=kd(arguments);return e.unshift("message"),this.emit.apply(this,e),this},wn.prototype.emit=function(e){if(Dd.hasOwnProperty(e))return Fd.apply(this,arguments),this;var t=kd(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:Ec(t))?wc.BINARY_EVENT:wc.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(Td("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},wn.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},wn.prototype.onopen=function(){if(Td("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?Tc.encode(this.query):this.query;Td("sending connect packet with query %s",e),this.packet({type:wc.CONNECT,query:e})}else this.packet({type:wc.CONNECT})},wn.prototype.onclose=function(e){Td("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},wn.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===wc.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case wc.CONNECT:this.onconnect();break;case wc.EVENT:case wc.BINARY_EVENT:this.onevent(e);break;case wc.ACK:case wc.BINARY_ACK:this.onack(e);break;case wc.DISCONNECT:this.ondisconnect();break;case wc.ERROR:this.emit("error",e.data)}},wn.prototype.onevent=function(e){var t=e.data||[];Td("emitting event %j",t),null!=e.id&&(Td("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?Fd.apply(this,t):this.receiveBuffer.push(t)},wn.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=kd(arguments);Td("sending ack %j",r),t.packet({type:Ec(r)?wc.BINARY_ACK:wc.ACK,id:e,data:r})}}},wn.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(Td("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):Td("bad ack %s",e.id)},wn.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},wn.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)Fd.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},wn.prototype.ondisconnect=function(){Td("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},wn.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},wn.prototype.close=wn.prototype.disconnect=function(){return this.connected&&(Td("performing disconnect (%s)",this.nsp),this.packet({type:wc.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},wn.prototype.compress=function(e){return this.flags.compress=e,this},wn.prototype.binary=function(e){return this.flags.binary=e,this};var Ad={};Ad=kn,kn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},kn.prototype.reset=function(){this.attempts=0},kn.prototype.setMin=function(e){this.ms=e},kn.prototype.setMax=function(e){this.max=e},kn.prototype.setJitter=function(e){this.jitter=e};var Ed={},Pd=lc("socket.io-client:manager"),Cd=Object.prototype.hasOwnProperty;Ed=Ln,Ln.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)Cd.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},Ln.prototype.updateSocketIds=function(){for(var e in this.nsps)Cd.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},Ln.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},wd(Ln.prototype),Ln.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},Ln.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},Ln.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},Ln.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},Ln.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},Ln.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},Ln.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Ln.prototype.open=Ln.prototype.connect=function(e,t){if(Pd("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;Pd("opening %s",this.uri),this.engine=bd(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=Ld(n,"open",function(){r.onopen(),e&&e()}),o=Ld(n,"error",function(t){if(Pd("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;Pd("connect attempt will timeout after %d",s);var a=setTimeout(function(){Pd("connect attempt timed out after %d",s),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this},Ln.prototype.onopen=function(){Pd("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(Ld(e,"data",Sd(this,"ondata"))),this.subs.push(Ld(e,"ping",Sd(this,"onping"))),this.subs.push(Ld(e,"pong",Sd(this,"onpong"))),this.subs.push(Ld(e,"error",Sd(this,"onerror"))),this.subs.push(Ld(e,"close",Sd(this,"onclose"))),this.subs.push(Ld(this.decoder,"decoded",Sd(this,"ondecoded")))},Ln.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Ln.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Ln.prototype.ondata=function(e){this.decoder.add(e)},Ln.prototype.ondecoded=function(e){this.emit("packet",e)},Ln.prototype.onerror=function(e){Pd("error",e),this.emitAll("error",e)},Ln.prototype.socket=function(e,t){function n(){~xc(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new xd(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.generateId(e)}),this.autoConnect&&n()}return r},Ln.prototype.destroy=function(e){var t=xc(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},Ln.prototype.packet=function(e){Pd("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},Ln.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},Ln.prototype.cleanup=function(){Pd("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Ln.prototype.close=Ln.prototype.disconnect=function(){Pd("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Ln.prototype.onclose=function(e){Pd("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},Ln.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Pd("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();Pd("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(Pd("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(Pd("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(Pd("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},Ln.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};var Yd={exports:{}};Yd.exports=Mn,Mn.prototype.on=Mn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Mn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Mn.prototype.off=Mn.prototype.removeListener=Mn.prototype.removeAllListeners=Mn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Mn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Mn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Mn.prototype.hasListeners=function(e){return!!this.listeners(e).length},Yd=Yd.exports;var jd,Od=["ASSEMBLY_UPLOADING","ASSEMBLY_EXECUTING","ASSEMBLY_COMPLETED"],Rd=function(e){function t(t){var n;return(n=e.call(this)||this).status=t,n.socket=null,n.pollInterval=null,n.closed=!1,n}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.connect=function(){this._connectSocket(),this._beginPolling()},i._onFinished=function(){this.emit("finished"),this.close()},i._connectSocket=function(){var e=this,t=function(e){var t=/^\w+:\/\//.exec(e),n=0;t&&(n=t[0].length+1);var r=e.indexOf("/",n);return-1===r?{origin:e,pathname:"/"}:{origin:e.slice(0,r),pathname:e.slice(r)}}(this.status.websocket_url),n=(jd||(jd=Qn({})),jd).connect(t.origin,{transports:["websocket"],path:t.pathname});n.on("connect",function(){n.emit("assembly_connect",{id:e.status.assembly_id}),e.emit("connect")}),n.on("connect_failed",function(){e._onError(new Gr("Transloadit Socket.io connection error")),e.socket=null}),n.on("error",function(){n.disconnect(),e.socket=null}),n.on("assembly_finished",function(){e._onFinished()}),n.on("assembly_upload_finished",function(t){e.emit("upload",t),e.status.uploads.push(t)}),n.on("assembly_uploading_finished",function(){e.emit("executing")}),n.on("assembly_upload_meta_data_extracted",function(){e.emit("metadata"),e._fetchStatus({diff:!1})}),n.on("assembly_result_finished",function(t,n){e.emit("result",t,n),e.status.results[t]||(e.status.results[t]=[]),e.status.results[t].push(n)}),n.on("assembly_error",function(t){e._onError(t),e._fetchStatus({diff:!1})}),this.socket=n},i._onError=function(e){this.emit("error",Sn(new Error(e.message),e))},i._beginPolling=function(){var e=this;this.pollInterval=setInterval(function(){e.socket&&e.socket.connected||e._fetchStatus()},2e3)},i._fetchStatus=function(e){var t=this,n=(void 0===e?{}:e).diff,r=void 0===n||n;return Jr(this.status.assembly_ssl_url).then(function(e){return e.json()}).then(function(e){t.closed||(t.emit("status",e),r?t.updateStatus(e):t.status=e)}).catch(function(e){return t._onError(e)})},i.update=function(){return this._fetchStatus({diff:!0})},i.updateStatus=function(e){this._diffStatus(this.status,e),this.status=e},i._diffStatus=function(e,t){var n=this,r=e.ok,i=t.ok;if(t.error&&!e.error)return this._onError(t);var o=xn(i,"ASSEMBLY_EXECUTING")&&!xn(r,"ASSEMBLY_EXECUTING");o&&this.emit("executing"),Object.keys(t.uploads).filter(function(t){return!dr(e.uploads,t)}).map(function(e){return t.uploads[e]}).forEach(function(e){n.emit("upload",e)}),o&&this.emit("metadata"),Object.keys(t.results).forEach(function(r){var i=t.results[r],o=e.results[r];i.filter(function(e){return!o||!o.some(function(t){return t.id===e.id})}).forEach(function(e){n.emit("result",r,e)})}),xn(i,"ASSEMBLY_COMPLETED")&&!xn(r,"ASSEMBLY_COMPLETED")&&this.emit("finished")},i.close=function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval)},t}(Yd),Id=function(){function e(e){void 0===e&&(e={}),this.opts=e,this._reportError=this._reportError.bind(this),this._headers={"Transloadit-Client":this.opts.client}}var t=e.prototype;return t.createAssembly=function(e){var t=this,n=(e.templateId,e.params),r=e.fields,i=e.signature,o=e.expectedFiles,s=new FormData;s.append("params","string"==typeof n?n:JSON.stringify(n)),i&&s.append("signature",i),Object.keys(r).forEach(function(e){s.append(e,r[e])}),s.append("num_expected_upload_files",o);var a=this.opts.service+"/assemblies";return Jr(a,{method:"post",headers:this._headers,body:s}).then(function(e){return e.json()}).then(function(e){if(e.error){var t=new Error(e.error);throw t.details=e.message,t.assembly=e,e.assembly_id&&(t.details+=" Assembly ID: "+e.assembly_id),t}return e}).catch(function(e){return t._reportError(e,{url:a,type:"API_ERROR"})})},t.reserveFile=function(e,t){var n=this,r=encodeURIComponent(t.size),i=e.assembly_ssl_url+"/reserve_file?size="+r;return Jr(i,{method:"post",headers:this._headers}).then(function(e){return e.json()}).catch(function(r){return n._reportError(r,{assembly:e,file:t,url:i,type:"API_ERROR"})})},t.addFile=function(e,t){var n=this;if(!t.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var r=encodeURIComponent(t.size),i=encodeURIComponent(t.uploadURL),o="size="+r+"&filename="+encodeURIComponent(t.name)+"&fieldname=file&s3Url="+i,s=e.assembly_ssl_url+"/add_file?"+o;return Jr(s,{method:"post",headers:this._headers}).then(function(e){return e.json()}).catch(function(r){return n._reportError(r,{assembly:e,file:t,url:s,type:"API_ERROR"})})},t.cancelAssembly=function(e){var t=this,n=e.assembly_ssl_url;return Jr(n,{method:"delete",headers:this._headers}).then(function(e){return e.json()}).catch(function(e){return t._reportError(e,{url:n,type:"API_ERROR"})})},t.getAssemblyStatus=function(e){var t=this;return Jr(e,{headers:this._headers}).then(function(e){return e.json()}).catch(function(n){return t._reportError(n,{url:e,type:"STATUS_ERROR"})})},t.submitError=function(e,t){var n=t.endpoint,r=t.instance,i=t.assembly,o=e.details?e.message+" ("+e.details+")":e.message;return Jr("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:n,instance:r,assembly_id:i,agent:"undefined"!=typeof navigator?navigator.userAgent:"",client:this.opts.client,error:o})}).then(function(e){return e.json()})},t._reportError=function(e,t){if(!1===this.opts.errorReporting)throw e;var n={type:t.type};throw t.assembly&&(n.assembly=t.assembly.assembly_id,n.instance=t.assembly.instance),t.url&&(n.endpoint=t.url),this.submitError(e,n).catch(function(e){}),e},e}(),Ud={},Hd=function(){function e(e,t){this.files=e,this.opts=t}var t=e.prototype;return t._normalizeAssemblyOptions=function(e,t){if(Array.isArray(t.fields)){var n=t.fields;t.fields={},n.forEach(function(n){t.fields[n]=e.meta[n]})}return t.fields||(t.fields={}),t},t._getAssemblyOptions=function(e){var t=this,n=this.opts;return Promise.resolve().then(function(){return n.getAssemblyOptions(e,n)}).then(function(n){return t._normalizeAssemblyOptions(e,n)}).then(function(t){return Tn(t.params),{fileIDs:[e.id],options:t}})},t._dedupe=function(e){var t=Object.create(null);return e.forEach(function(e){var n,r=e.fileIDs,i=e.options,o=JSON.stringify(i);t[o]?(n=t[o].fileIDs).push.apply(n,r):t[o]={options:i,fileIDs:[].concat(r)}}),Object.keys(t).map(function(e){return t[e]})},t.build=function(){var e=this,t=this.opts;return this.files.length>0?Promise.all(this.files.map(function(t){return e._getAssemblyOptions(t)})).then(function(t){return e._dedupe(t)}):t.alwaysRunAssembly?Promise.resolve(t.getAssemblyOptions(null,t)).then(function(t){return Tn(t.params),[{fileIDs:e.files.map(function(e){return e.id}),options:t}]}):Promise.resolve([])},e}();(Ud=Hd).validateParams=Tn;var Nd,zd,Bd,Zd,qd=function(e){function t(t,n){var r;return(r=e.call(this)||this)._uppy=t,r._assemblyIDs=n,r._remaining=n.length,r.promise=new Promise(function(e,t){r._resolve=e,r._reject=t}),r._onAssemblyComplete=r._onAssemblyComplete.bind(Dn(r)),r._onAssemblyCancel=r._onAssemblyCancel.bind(Dn(r)),r._onAssemblyError=r._onAssemblyError.bind(Dn(r)),r._onImportError=r._onImportError.bind(Dn(r)),r._addListeners(),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i._watching=function(e){return-1!==this._assemblyIDs.indexOf(e)},i._onAssemblyComplete=function(e){this._watching(e.assembly_id)&&(this._uppy.log("[Transloadit] AssemblyWatcher: Got Assembly finish "+e.assembly_id),this.emit("assembly-complete",e.assembly_id),this._checkAllComplete())},i._onAssemblyCancel=function(e){this._watching(e.assembly_id)&&this._checkAllComplete()},i._onAssemblyError=function(e,t){this._watching(e.assembly_id)&&(this._uppy.log("[Transloadit] AssemblyWatcher: Got Assembly error "+e.assembly_id),this._uppy.log(t),this.emit("assembly-error",e.assembly_id,t),this._checkAllComplete())},i._onImportError=function(e,t,n){this._watching(e.assembly_id)&&this._onAssemblyError(e,n)},i._checkAllComplete=function(){this._remaining-=1,0===this._remaining&&(this._removeListeners(),this._resolve())},i._removeListeners=function(){this._uppy.off("transloadit:complete",this._onAssemblyComplete),this._uppy.off("transloadit:assembly-cancel",this._onAssemblyCancel),this._uppy.off("transloadit:assembly-error",this._onAssemblyError),this._uppy.off("transloadit:import-error",this._onImportError)},i._addListeners=function(){this._uppy.on("transloadit:complete",this._onAssemblyComplete),this._uppy.on("transloadit:assembly-cancel",this._onAssemblyCancel),this._uppy.on("transloadit:assembly-error",this._onAssemblyError),this._uppy.on("transloadit:import-error",this._onImportError)},t}(Yd),Wd={},Vd="https://api2.transloadit.com/companion",$d=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,Kd=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/uppy-server/;zd=Nd=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).type="uploader",r.id=r.opts.id||"Transloadit",r.title="Transloadit",r.defaultLocale={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};var i={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:En,limit:0};r.opts=Fn({},i,n),r.i18nInit(),r._prepareUpload=r._prepareUpload.bind(An(r)),r._afterUpload=r._afterUpload.bind(An(r)),r._onError=r._onError.bind(An(r)),r._onTusError=r._onTusError.bind(An(r)),r._onCancelAll=r._onCancelAll.bind(An(r)),r._onFileUploadURLAvailable=r._onFileUploadURLAvailable.bind(An(r)),r._onRestored=r._onRestored.bind(An(r)),r._getPersistentData=r._getPersistentData.bind(An(r));var o=r.opts.getAssemblyOptions!==i.getAssemblyOptions;return r.opts.params?Ud.validateParams(r.opts.params):o||Ud.validateParams(null),r.client=new Id({service:r.opts.service,client:r._getClientVersion(),errorReporting:r.opts.errorReporting}),r.activeAssemblies={},r.assemblyWatchers={},r.completedFiles=Object.create(null),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.setPluginState()},i._getClientVersion=function(){var e=this,t=["uppy-core:"+this.uppy.constructor.VERSION,"uppy-transloadit:"+this.constructor.VERSION,"uppy-tus:"+nc.VERSION],n=function(n,r){var i=e.uppy.getPlugin(n);i&&t.push(r+":"+i.constructor.VERSION)};return this.opts.importFromUploadURLs&&(n("XHRUpload","uppy-xhr-upload"),n("AwsS3","uppy-aws-s3"),n("AwsS3Multipart","uppy-aws-s3-multipart")),n("Dropbox","uppy-dropbox"),n("Facebook","uppy-facebook"),n("GoogleDrive","uppy-google-drive"),n("Instagram","uppy-instagram"),n("OneDrive","uppy-onedrive"),n("Zoom","uppy-zoom"),n("Url","uppy-url"),t.join(",")},i._attachAssemblyMetadata=function(e,t){var n=Fn({},e.meta,{assembly_url:t.assembly_url,filename:e.name,fieldname:"file"}),r=Fn({},e.tus,{endpoint:t.tus_url,addRequestId:!0}),i=e.remote;if(e.remote&&Kd.test(e.remote.companionUrl)){var o=new Error("The https://api2.transloadit.com/uppy-server endpoint was renamed to https://api2.transloadit.com/companion, please update your `companionUrl` options accordingly.");throw this.uppy.log(o),o}if(e.remote&&$d.test(e.remote.companionUrl)){var s=t.companion_url.replace(/\/$/,""),a=e.remote.url.replace(e.remote.companionUrl,"").replace(/^\//,"");i=Fn({},e.remote,{companionUrl:s,url:s+"/"+a})}var l=Fn({},e,{transloadit:{assembly:t.assembly_id}});return this.opts.importFromUploadURLs||Fn(l,{meta:n,tus:r,remote:i}),l},i._createAssembly=function(e,t,n){var r=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:n.params,fields:n.fields,expectedFiles:e.length,signature:n.signature}).then(function(n){var i,o,s=new Rd(n),a=s.status,l=a.assembly_id,u=r.getPluginState(),c=u.assemblies,d=u.uploadsAssemblies;r.setPluginState({assemblies:Fn({},c,(i={},i[l]=a,i)),uploadsAssemblies:Fn({},d,(o={},o[t]=[].concat(d[t],[l]),o))});var h=r.uppy.getState().files,p={};return e.forEach(function(e){p[e]=r._attachAssemblyMetadata(r.uppy.getFile(e),a)}),r.uppy.setState({files:Fn({},h,p)}),r.uppy.emit("transloadit:assembly-created",a,e),r.uppy.log("[Transloadit] Created Assembly "+l),s}).catch(function(e){throw e.message=r.i18n("creatingAssemblyFailed")+": "+e.message,e})},i._createAssemblyWatcher=function(e,t,n){var r=this,i=new qd(this.uppy,e);i.on("assembly-complete",function(e){r.getAssemblyFiles(e).forEach(function(e){r.completedFiles[e.id]=!0,r.uppy.emit("postprocess-complete",e)})}),i.on("assembly-error",function(e,t){r.getAssemblyFiles(e).forEach(function(e){r.uppy.emit("upload-error",e,t),r.uppy.emit("postprocess-complete",e)})}),this.assemblyWatchers[n]=i},i._shouldWaitAfterUpload=function(){return this.opts.waitForEncoding||this.opts.waitForMetadata},i._reserveFiles=function(e,t){var n=this;return Promise.all(t.map(function(t){var r=n.uppy.getFile(t);return n.client.reserveFile(e,r)}))},i._onFileUploadURLAvailable=function(e){var t=this;if(e&&e.transloadit&&e.transloadit.assembly){var n=this.getPluginState().assemblies[e.transloadit.assembly];this.client.addFile(n,e).catch(function(r){t.uppy.log(r),t.uppy.emit("transloadit:import-error",n,e.id,r)})}},i._findFile=function(e){for(var t=this.uppy.getFiles(),n=0;n<t.length;n++){var r=t[n];if(r.uploadURL===e.tus_upload_url)return r;if(r.tus&&r.tus.uploadUrl===e.tus_upload_url)return r;if(!e.is_tus_file&&r.name===e.name&&r.size===e.size)return r}},i._onFileUploadComplete=function(e,t){var n,r=this.getPluginState(),i=this._findFile(t);i?(this.setPluginState({files:Fn({},r.files,(n={},n[t.id]={assembly:e,id:i.id,uploadedFile:t},n))}),this.uppy.emit("transloadit:upload",t,this.getAssembly(e))):this.uppy.log("[Transloadit] Couldnt file the file, it was likely removed in the process")},i._onResult=function(e,t,n){var r=this.getPluginState(),i=r.files[n.original_id];n.localId=i?i.id:null;var o={result:n,stepName:t,id:n.id,assembly:e};this.setPluginState({results:[].concat(r.results,[o])}),this.uppy.emit("transloadit:result",t,n,this.getAssembly(e))},i._onAssemblyFinished=function(e){var t=this,n=e.assembly_ssl_url;this.client.getAssemblyStatus(n).then(function(e){var n,r=e.assembly_id,i=t.getPluginState();t.setPluginState({assemblies:Fn({},i.assemblies,(n={},n[r]=e,n))}),t.uppy.emit("transloadit:complete",e)})},i._cancelAssembly=function(e){var t=this;return this.client.cancelAssembly(e).then(function(){t.uppy.emit("transloadit:assembly-cancelled",e)})},i._onCancelAll=function(){var e=this,t=this.getPluginState().uploadsAssemblies,n=Object.keys(t).reduce(function(e,n){return e.push.apply(e,t[n]),e},[]).map(function(t){var n=e.getAssembly(t);return e._cancelAssembly(n)});Promise.all(n).catch(function(t){e.uppy.log(t)})},i._getPersistentData=function(e){var t,n=this.getPluginState(),r=n.assemblies,i=n.uploadsAssemblies;e(((t={})[this.id]={assemblies:r,uploadsAssemblies:i},t))},i._onRestored=function(e){var t=this,n=e&&e[this.id]?e[this.id]:{},r=n.assemblies||{},i=n.uploadsAssemblies||{};0!==Object.keys(i).length&&(this.restored=Promise.resolve().then(function(){var e,n,o;return e=r,n={},o=[],Object.keys(e).forEach(function(r){var i=e[r];i.uploads.forEach(function(e){var i=t._findFile(e);n[e.id]={id:i.id,assembly:r,uploadedFile:e}});var s=t.getPluginState();Object.keys(i.results).forEach(function(e){i.results[e].forEach(function(t){var n=s.files[t.original_id];t.localId=n?n.id:null,o.push({id:t.id,result:t,stepName:e,assembly:r})})})}),t.setPluginState({assemblies:e,files:n,results:o,uploadsAssemblies:i}),function(){var e=t.getPluginState(),n=e.assemblies,r=e.uploadsAssemblies;Object.keys(r).forEach(function(e){var n=r[e],i=n.reduce(function(e,n){var r=t.getAssemblyFiles(n).map(function(e){return e.id});return e.push.apply(e,r),e},[]);t._createAssemblyWatcher(n,i,e)}),Object.keys(n).forEach(function(e){var r=new Rd(n[e]);t._connectAssembly(r)})}(),function(){var e=t.getPluginState().assemblies;return Promise.all(Object.keys(e).map(function(e){return t.activeAssemblies[e].update()}))}()}),this.restored.then(function(){t.restored=null}))},i._connectAssembly=function(e){var t=this,n=e.status.assembly_id;return this.activeAssemblies[n]=e,e.on("status",function(e){var r,i=t.getPluginState().assemblies;t.setPluginState({assemblies:Fn({},i,(r={},r[n]=e,r))})}),e.on("upload",function(e){t._onFileUploadComplete(n,e)}),e.on("error",function(n){n.assembly=e.status,t.uppy.emit("transloadit:assembly-error",e.status,n)}),e.on("executing",function(){t.uppy.emit("transloadit:assembly-executing",e.status)}),this.opts.waitForEncoding&&e.on("result",function(e,r){t._onResult(n,e,r)}),this.opts.waitForEncoding?e.on("finished",function(){t._onAssemblyFinished(e.status)}):this.opts.waitForMetadata&&e.on("metadata",function(){t._onAssemblyFinished(e.status)}),"ASSEMBLY_COMPLETE"===e.ok||(new Promise(function(t,n){e.once("connect",t),e.once("status",t),e.once("error",n)
}).then(function(){t.uppy.log("[Transloadit] Socket is ready")}),e.connect()),e},i._prepareUpload=function(e,t){var n,r=this;(e=e.filter(function(e){return!e.error})).forEach(function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:r.i18n("creatingAssembly")})});var i=function(e){var n,i=e.fileIDs,o=e.options;return r._createAssembly(i,t,o).then(function(e){if(n=e,r.opts.importFromUploadURLs)return r._reserveFiles(e,i)}).then(function(){return i.forEach(function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)}),n}).catch(function(e){throw i.forEach(function(t){var n=r.uppy.getFile(t);r.uppy.emit("preprocess-complete",n),r.uppy.emit("upload-error",n,e)}),e})},o=this.getPluginState().uploadsAssemblies;this.setPluginState({uploadsAssemblies:Fn({},o,(n={},n[t]=[],n))});var s=e.map(function(e){return r.uppy.getFile(e)});return new Ud(s,this.opts).build().then(function(n){return Promise.all(n.map(i)).then(function(n){var i=n.map(function(e){return e.status.assembly_id});r._createAssemblyWatcher(i,e,t),n.map(function(e){return r._connectAssembly(e)})})},function(t){throw e.forEach(function(e){var n=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",n),r.uppy.emit("upload-error",n,t)}),t})},i._afterUpload=function(e,t){var n=this,r=e.map(function(e){return n.uppy.getFile(e)});e=r.filter(function(e){return!e.error}).map(function(e){return e.id});var i=this.getPluginState();if(this.restored)return this.restored.then(function(){return n._afterUpload(e,t)});var o=i.uploadsAssemblies[t];if(!this._shouldWaitAfterUpload()){o.forEach(function(e){n.activeAssemblies[e].close(),delete n.activeAssemblies[e]});var s=o.map(function(e){return n.getAssembly(e)});return this.uppy.addResultData(t,{transloadit:s}),Promise.resolve()}return 0===o.length?(this.uppy.addResultData(t,{transloadit:[]}),Promise.resolve()):(r.filter(function(e){return!dr(n.completedFiles,e.id)}).forEach(function(e){n.uppy.emit("postprocess-progress",e,{mode:"indeterminate",message:n.i18n("encoding")})}),this.assemblyWatchers[t].promise.then(function(){var e=o.map(function(e){return n.getAssembly(e)}),r=Fn({},n.getPluginState().uploadsAssemblies);delete r[t],n.setPluginState({uploadsAssemblies:r}),n.uppy.addResultData(t,{transloadit:e})}))},i._onError=function(e,t){var n=this;void 0===e&&(e=null),this.getPluginState().uploadsAssemblies[t].forEach(function(e){n.activeAssemblies[e]&&n.activeAssemblies[e].close()})},i._onTusError=function(e){if(e&&/^tus: /.test(e.message)){var t=e.originalRequest?e.originalRequest.getUnderlyingObject():null,n=t&&t.responseURL?t.responseURL:null;this.client.submitError(e,{url:n,type:"TUS_ERROR"}).then(function(e){})}},i.install=function(){this.uppy.addPreProcessor(this._prepareUpload),this.uppy.addPostProcessor(this._afterUpload),this.uppy.on("error",this._onError),this.uppy.on("cancel-all",this._onCancelAll),this.uppy.on("upload-error",this._onTusError),this.opts.importFromUploadURLs?this.uppy.on("upload-success",this._onFileUploadURLAvailable):this.uppy.use(nc,{storeFingerprintForResuming:!1,resume:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit}),this.uppy.on("restore:get-data",this._getPersistentData),this.uppy.on("restored",this._onRestored),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:Fn({},e,{individualCancellation:!1})})},i.uninstall=function(){this.uppy.removePreProcessor(this._prepareUpload),this.uppy.removePostProcessor(this._afterUpload),this.uppy.off("error",this._onError),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",this._onFileUploadURLAvailable);var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:Fn({},e,{individualCancellation:!0})})},i.getAssembly=function(e){return this.getPluginState().assemblies[e]},i.getAssemblyFiles=function(e){return this.uppy.getFiles().filter(function(t){return t&&t.transloadit&&t.transloadit.assembly===e})},t}(Ur.Plugin),Nd.VERSION="1.6.11",(Wd=zd).COMPANION=Vd,Wd.UPPY_SERVER=Vd,Wd.COMPANION_PATTERN=/\.transloadit\.com$/;var Gd=ei.Provider,Jd=ei.RequestClient,Xd=ei.Socket,Qd=(Zd=Bd=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).type="uploader",r.id=r.opts.id||"XHRUpload",r.title="XHRUpload",r.defaultLocale={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};var i={formData:!0,fieldName:"files[]",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:3e4,limit:0,withCredentials:!1,responseType:"",getResponseData:function(e,t){var n={};try{n=JSON.parse(e)}catch(e){console.log(e)}return n},getResponseError:function(e,t){var n=new Error("Upload error");return Dl(t)&&(n=new Gr(n,t)),n},validateStatus:function(e,t,n){return e>=200&&e<300}};if(r.opts=Pn({},i,n),r.i18nInit(),r.handleUpload=r.handleUpload.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r.opts.__queue instanceof wl?r.requests=r.opts.__queue:r.requests=new wl(r.opts.limit),r.opts.bundle&&!r.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return r.uploaderEvents=Object.create(null),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new hr([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},i.getOptions=function(e){var t=this.uppy.getState().xhrUpload,n=Pn({},this.opts,t||{},e.xhrUpload||{},{headers:{}});return Pn(n.headers,this.opts.headers),t&&Pn(n.headers,t.headers),e.xhrUpload&&Pn(n.headers,e.xhrUpload.headers),n},i.addMetadata=function(e,t,n){(Array.isArray(n.metaFields)?n.metaFields:Object.keys(t)).forEach(function(n){e.append(n,t[n])})},i.createFormDataUpload=function(e,t){var n=new FormData;this.addMetadata(n,e.meta,t);var r=Yn(e);return e.name?n.append(t.fieldName,r,e.meta.name):n.append(t.fieldName,r),n},i.createBundledUpload=function(e,t){var n=this,r=new FormData,i=this.uppy.getState().meta;return this.addMetadata(r,i,t),e.forEach(function(e){var t=n.getOptions(e),i=Yn(e);e.name?r.append(t.fieldName,i,e.name):r.append(t.fieldName,i)}),r},i.createBareUpload=function(e,t){return e.data},i.upload=function(e,t,n){var r=this,i=this.getOptions(e);return this.uppy.log("uploading "+t+" of "+n),new Promise(function(t,n){r.uppy.emit("upload-started",e);var o=i.formData?r.createFormDataUpload(e,i):r.createBareUpload(e,i),s=new XMLHttpRequest;r.uploaderEvents[e.id]=new xl(r.uppy);var a=new Tl(i.timeout,function(){s.abort(),u.done();var t=new Error(r.i18n("timedOut",{seconds:Math.ceil(i.timeout/1e3)}));r.uppy.emit("upload-error",e,t),n(t)}),l=kr();s.upload.addEventListener("loadstart",function(e){r.uppy.log("[XHRUpload] "+l+" started")}),s.upload.addEventListener("progress",function(t){r.uppy.log("[XHRUpload] "+l+" progress: "+t.loaded+" / "+t.total),a.progress(),t.lengthComputable&&r.uppy.emit("upload-progress",e,{uploader:r,bytesUploaded:t.loaded,bytesTotal:t.total})}),s.addEventListener("load",function(o){if(r.uppy.log("[XHRUpload] "+l+" finished"),a.done(),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),i.validateStatus(o.target.status,s.responseText,s)){var c=i.getResponseData(s.responseText,s),d=c[i.responseUrlFieldName],h={status:o.target.status,body:c,uploadURL:d};return r.uppy.emit("upload-success",e,h),d&&r.uppy.log("Download "+e.name+" from "+d),t(e)}var p=i.getResponseData(s.responseText,s),f=Cn(s,i.getResponseError(s.responseText,s)),m={status:o.target.status,body:p};return r.uppy.emit("upload-error",e,f,m),n(f)}),s.addEventListener("error",function(t){r.uppy.log("[XHRUpload] "+l+" errored"),a.done(),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null);var o=Cn(s,i.getResponseError(s.responseText,s));return r.uppy.emit("upload-error",e,o),n(o)}),s.open(i.method.toUpperCase(),i.endpoint,!0),s.withCredentials=i.withCredentials,""!==i.responseType&&(s.responseType=i.responseType),Object.keys(i.headers).forEach(function(e){s.setRequestHeader(e,i.headers[e])});var u=r.requests.run(function(){return s.send(o),function(){a.done(),s.abort()}});r.onFileRemove(e.id,function(){u.abort(),n(new Error("File removed"))}),r.onCancelAll(e.id,function(){u.abort(),n(new Error("Upload cancelled"))})})},i.uploadRemote=function(e,t,n){var r=this,i=this.getOptions(e);return new Promise(function(t,n){r.uppy.emit("upload-started",e);var o={};(Array.isArray(i.metaFields)?i.metaFields:Object.keys(e.meta)).forEach(function(t){o[t]=e.meta[t]}),new(e.remote.providerOptions.provider?Gd:Jd)(r.uppy,e.remote.providerOptions).post(e.remote.url,Pn({},e.remote.body,{endpoint:i.endpoint,size:e.data.size,fieldname:i.fieldName,metadata:o,httpMethod:i.method,useFormData:i.formData,headers:i.headers})).then(function(o){var s=o.token,a=Sl(e.remote.companionUrl),l=new Xd({target:a+"/api/"+s,autoOpen:!1});r.uploaderEvents[e.id]=new xl(r.uppy),r.onFileRemove(e.id,function(){l.send("pause",{}),u.abort(),t("upload "+e.id+" was removed")}),r.onCancelAll(e.id,function(){l.send("pause",{}),u.abort(),t("upload "+e.id+" was canceled")}),r.onRetry(e.id,function(){l.send("pause",{}),l.send("resume",{})}),r.onRetryAll(e.id,function(){l.send("pause",{}),l.send("resume",{})}),l.on("progress",function(t){return Ml(r,t,e)}),l.on("success",function(n){var o=i.getResponseData(n.response.responseText,n.response),s=o[i.responseUrlFieldName],a={status:n.response.status,body:o,uploadURL:s};return r.uppy.emit("upload-success",e,a),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),t()}),l.on("error",function(t){var o=t.response,s=o?i.getResponseError(o.responseText,o):Pn(new Error(t.error.message),{cause:t.error});r.uppy.emit("upload-error",e,s),u.done(),r.uploaderEvents[e.id]&&(r.uploaderEvents[e.id].remove(),r.uploaderEvents[e.id]=null),n(s)});var u=r.requests.run(function(){return l.open(),e.isPaused&&l.send("pause",{}),function(){return l.close()}})}).catch(function(t){r.uppy.emit("upload-error",e,t),n(t)})})},i.uploadBundle=function(e){var t=this;return new Promise(function(n,r){var i=t.opts.endpoint,o=t.opts.method,s=t.uppy.getState().xhrUpload,a=t.createBundledUpload(e,Pn({},t.opts,s||{})),l=new XMLHttpRequest,u=new Tl(t.opts.timeout,function(){l.abort();var e=new Error(t.i18n("timedOut",{seconds:Math.ceil(t.opts.timeout/1e3)}));c(e),r(e)}),c=function(n){e.forEach(function(e){t.uppy.emit("upload-error",e,n)})};l.upload.addEventListener("loadstart",function(e){t.uppy.log("[XHRUpload] started uploading bundle"),u.progress()}),l.upload.addEventListener("progress",function(n){u.progress(),n.lengthComputable&&e.forEach(function(e){t.uppy.emit("upload-progress",e,{uploader:t,bytesUploaded:n.loaded/n.total*e.size,bytesTotal:e.size})})}),l.addEventListener("load",function(i){if(u.done(),t.opts.validateStatus(i.target.status,l.responseText,l)){var o=t.opts.getResponseData(l.responseText,l),s={status:i.target.status,body:o};return e.forEach(function(e){t.uppy.emit("upload-success",e,s)}),n()}var a=t.opts.getResponseError(l.responseText,l)||new Error("Upload error");return a.request=l,c(a),r(a)}),l.addEventListener("error",function(e){u.done();var n=t.opts.getResponseError(l.responseText,l)||new Error("Upload error");return c(n),r(n)}),t.uppy.on("cancel-all",function(){u.done(),l.abort()}),l.open(o.toUpperCase(),i,!0),l.withCredentials=t.opts.withCredentials,""!==t.opts.responseType&&(l.responseType=t.opts.responseType),Object.keys(t.opts.headers).forEach(function(e){l.setRequestHeader(e,t.opts.headers[e])}),l.send(a),e.forEach(function(e){t.uppy.emit("upload-started",e)})})},i.uploadFiles=function(e){var t=this,n=e.map(function(n,r){var i=parseInt(r,10)+1,o=e.length;return n.error?Promise.reject(new Error(n.error)):n.isRemote?t.uploadRemote(n,i,o):t.upload(n,i,o)});return kl(n)},i.onFileRemove=function(e,t){this.uploaderEvents[e].on("file-removed",function(n){e===n.id&&t(n.id)})},i.onRetry=function(e,t){this.uploaderEvents[e].on("upload-retry",function(n){e===n&&t()})},i.onRetryAll=function(e,t){var n=this;this.uploaderEvents[e].on("retry-all",function(r){n.uppy.getFile(e)&&t()})},i.onCancelAll=function(e,t){var n=this;this.uploaderEvents[e].on("cancel-all",function(){n.uppy.getFile(e)&&t()})},i.handleUpload=function(e){var t=this;if(0===e.length)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();0!==this.opts.limit||this.opts.__queue||this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var n=e.map(function(e){return t.uppy.getFile(e)});if(this.opts.bundle){if(n.some(function(e){return e.isRemote}))throw new Error("Cant upload remote files when bundle: true option is set");return this.uploadBundle(n)}return this.uploadFiles(n).then(function(){return null})},i.install=function(){if(this.opts.bundle){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:Pn({},e,{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)},i.uninstall=function(){if(this.opts.bundle){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:Pn({},e,{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)},t}(Ur.Plugin),Bd.VERSION="1.6.4",Zd),eh={__esModule:!0};eh.default=jn,eh.getFieldData=On;var th,nh,rh={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},ih={button:!0,fieldset:!0,reset:!0,submit:!0},oh={checkbox:!0,radio:!0},sh=/^\s+|\s+$/g,ah=Array.prototype.slice,lh=Object.prototype.toString;jn.getFieldData=On;var uh=Ur.Plugin,ch=eh.default||eh,dh=(nh=th=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).type="acquirer",r.id=r.opts.id||"Form",r.title="Form",r.opts=In({},{target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,multipleResults:!1,submitOnSuccess:!1,triggerUploadOnSubmit:!1},n),r.handleFormSubmit=r.handleFormSubmit.bind(Un(r)),r.handleUploadStart=r.handleUploadStart.bind(Un(r)),r.handleSuccess=r.handleSuccess.bind(Un(r)),r.addResultToForm=r.addResultToForm.bind(Un(r)),r.getMetaFromForm=r.getMetaFromForm.bind(Un(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.handleUploadStart=function(){this.opts.getMetaFromForm&&this.getMetaFromForm()},i.handleSuccess=function(e){this.opts.addResultToForm&&this.addResultToForm(e),this.opts.submitOnSuccess&&this.form.submit()},i.handleFormSubmit=function(e){var t=this;if(this.opts.triggerUploadOnSubmit){e.preventDefault();var n=_s(e.target.elements),r=[];n.forEach(function(e){("BUTTON"===e.tagName||"INPUT"===e.tagName&&"submit"===e.type)&&!e.disabled&&(e.disabled=!0,r.push(e))}),this.uppy.upload().then(function(){r.forEach(function(e){e.disabled=!1})},function(e){return r.forEach(function(e){e.disabled=!1}),Promise.reject(e)}).catch(function(e){t.uppy.log(e.stack||e.message||e)})}},i.addResultToForm=function(e){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(e);var t=this.form.querySelector('[name="'+this.opts.resultName+'"]');if(t)if(this.opts.multipleResults){var n;try{n=JSON.parse(t.value)}catch(e){}Array.isArray(n)||(n=[]),n.push(e),t.value=JSON.stringify(n)}else t.value=JSON.stringify(e);else(t=document.createElement("input")).name=this.opts.resultName,t.type="hidden",this.opts.multipleResults?t.value=JSON.stringify([e]):t.value=JSON.stringify(e),this.form.appendChild(t)},i.getMetaFromForm=function(){var e=ch(this.form);delete e[this.opts.resultName],this.uppy.setMeta(e)},i.install=function(){this.form=Nr(this.opts.target),this.form&&"FORM"===this.form.nodeName?(this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)):this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error")},i.uninstall=function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)},t}(uh),th.VERSION="1.3.20",nh),hh={},ph="undefined"!=typeof navigator&&"serviceWorker"in navigator,fh=function(){function e(e){this.ready=new Promise(function(e,t){ph?navigator.serviceWorker.controller?e():navigator.serviceWorker.addEventListener("controllerchange",function(){e()}):t(new Error("Unsupported"))}),this.name=e.storeName}var t=e.prototype;return t.list=function(){var e=this,t={},n=new Promise(function(e,n){t.resolve=e,t.reject=n});console.log("Loading stored blobs from Service Worker");var r=function n(r){if(r.data.store===e.name)switch(r.data.type){case"uppy/ALL_FILES":t.resolve(r.data.files),navigator.serviceWorker.removeEventListener("message",n)}};return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",r),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:e.name})}),n},t.put=function(e){var t=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:t.name,file:e})})},t.delete=function(e){var t=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:t.name,fileID:e})})},e}();fh.isSupported=ph,hh=fh;var mh={},gh="undefined"!=typeof window&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),vh=!!gh,yh=!1,_h=function(){function e(t){var n=this;this.opts=Hn({dbName:"uppy-blobs",storeName:"default",expires:864e5,maxFileSize:10485760,maxTotalSize:314572800},t),this.name=this.opts.storeName;var r=function(){return Nn(n.opts.dbName)};yh?this.ready=r():(yh=!0,this.ready=e.cleanup().then(r,r))}var t=e.prototype;return t.key=function(e){return this.name+"!"+e},t.list=function(){var e=this;return this.ready.then(function(t){return zn(t.transaction(["files"],"readonly").objectStore("files").index("store").getAll(IDBKeyRange.only(e.name)))}).then(function(e){var t={};return e.forEach(function(e){t[e.fileID]=e.data}),t})},t.get=function(e){var t=this;return this.ready.then(function(n){return zn(n.transaction(["files"],"readonly").objectStore("files").get(t.key(e)))}).then(function(e){return{id:e.data.fileID,data:e.data.data}})},t.getSize=function(){var e=this;return this.ready.then(function(t){var n=t.transaction(["files"],"readonly").objectStore("files").index("store").openCursor(IDBKeyRange.only(e.name));return new Promise(function(e,t){var r=0;n.onsuccess=function(t){var n=t.target.result;n?(r+=n.value.data.size,n.continue()):e(r)},n.onerror=function(){t(new Error("Could not retrieve stored blobs size"))}})})},t.put=function(e){var t=this;return e.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(e){return e>t.opts.maxTotalSize?Promise.reject(new Error("No space left")):t.ready}).then(function(n){return zn(n.transaction(["files"],"readwrite").objectStore("files").add({id:t.key(e.id),fileID:e.id,store:t.name,expires:Date.now()+t.opts.expires,data:e.data}))})},t.delete=function(e){var t=this;return this.ready.then(function(n){return zn(n.transaction(["files"],"readwrite").objectStore("files").delete(t.key(e)))})},e.cleanup=function(){return Nn("uppy-blobs").then(function(e){var t=e.transaction(["files"],"readwrite").objectStore("files").index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(n,r){t.onsuccess=function(t){var r=t.target.result;if(r){var i=r.value;console.log("[IndexedDBStore] Deleting record",i.fileID,"of size",Tr(i.data.size),"- expired on",new Date(i.expires)),r.delete(),r.continue()}else n(e)},t.onerror=r})}).then(function(e){e.close()})},e}();_h.isSupported=vh,mh=_h;var bh,wh,kh,Lh,Mh=!1,Sh=function(){function e(t){this.opts=Bn({expires:864e5},t),this.name="uppyState:"+t.storeName,Mh||(Mh=!0,e.cleanup())}var t=e.prototype;return t.load=function(){var e=localStorage.getItem(this.name);if(!e)return null;var t=Zn(e);return t?t.metadata?t.metadata:(this.save(t),t):null},t.save=function(e){var t=Date.now()+this.opts.expires,n=JSON.stringify({metadata:e,expires:t});localStorage.setItem(this.name,n)},e.cleanup=function(){var e=function(){for(var e=[],t=0;t<localStorage.length;t++){var n=localStorage.key(t);/^uppyState:/.test(n)&&e.push(n.slice("uppyState:".length))}return e}(),t=Date.now();e.forEach(function(e){var n=localStorage.getItem("uppyState:"+e);if(!n)return null;var r=Zn(n);if(!r)return null;r.expires&&r.expires<t&&localStorage.removeItem("uppyState:"+e)})},e}(),xh=(wh=bh=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).type="debugger",r.id=r.opts.id||"GoldenRetriever",r.title="Golden Retriever",r.opts=qn({},{expires:864e5,serviceWorker:!1},n),r.MetaDataStore=new Sh({expires:r.opts.expires,storeName:t.getID()}),r.ServiceWorkerStore=null,r.opts.serviceWorker&&(r.ServiceWorkerStore=new hh({storeName:t.getID()})),r.IndexedDBStore=new mh(qn({expires:r.opts.expires},r.opts.indexedDB||{},{storeName:t.getID()})),r.saveFilesStateToLocalStorage=r.saveFilesStateToLocalStorage.bind(Wn(r)),r.loadFilesStateFromLocalStorage=r.loadFilesStateFromLocalStorage.bind(Wn(r)),r.loadFileBlobsFromServiceWorker=r.loadFileBlobsFromServiceWorker.bind(Wn(r)),r.loadFileBlobsFromIndexedDB=r.loadFileBlobsFromIndexedDB.bind(Wn(r)),r.onBlobsLoaded=r.onBlobsLoaded.bind(Wn(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.loadFilesStateFromLocalStorage=function(){var e=this.MetaDataStore.load();e&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:e.currentUploads||{},files:e.files||{}}),this.savedPluginData=e.pluginData)},i.getWaitingFiles=function(){var e={};return this.uppy.getFiles().forEach(function(t){t.progress&&t.progress.uploadStarted||(e[t.id]=t)}),e},i.getUploadingFiles=function(){var e=this,t={},n=this.uppy.getState().currentUploads;return n&&Object.keys(n).forEach(function(r){n[r].fileIDs.forEach(function(n){t[n]=e.uppy.getFile(n)})}),t},i.saveFilesStateToLocalStorage=function(){var e=qn(this.getWaitingFiles(),this.getUploadingFiles()),t={};this.uppy.emit("restore:get-data",function(e){qn(t,e)});var n=this.uppy.getState().currentUploads;this.MetaDataStore.save({currentUploads:n,files:e,pluginData:t})},i.loadFileBlobsFromServiceWorker=function(){var e=this;this.ServiceWorkerStore.list().then(function(t){var n=Object.keys(t).length;return n===e.uppy.getFiles().length?(e.uppy.log("[GoldenRetriever] Successfully recovered "+n+" blobs from Service Worker!"),e.uppy.info("Successfully recovered "+n+" files","success",3e3),e.onBlobsLoaded(t)):(e.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),e.loadFileBlobsFromIndexedDB())}).catch(function(t){e.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),e.uppy.log(t)})},i.loadFileBlobsFromIndexedDB=function(){var e=this;this.IndexedDBStore.list().then(function(t){var n=Object.keys(t).length;if(n>0)return e.uppy.log("[GoldenRetriever] Successfully recovered "+n+" blobs from IndexedDB!"),e.uppy.info("Successfully recovered "+n+" files","success",3e3),e.onBlobsLoaded(t);e.uppy.log("[GoldenRetriever] No blobs found in IndexedDB")}).catch(function(t){e.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),e.uppy.log(t)})},i.onBlobsLoaded=function(e){var t=this,n=[],r=qn({},this.uppy.getState().files);Object.keys(e).forEach(function(i){var o=t.uppy.getFile(i);if(o){var s=qn({},o,{data:e[i],isRestored:!0});r[i]=s}else n.push(i)}),this.uppy.setState({files:r}),this.uppy.emit("restored",this.savedPluginData),n.length&&this.deleteBlobs(n).then(function(){t.uppy.log("[GoldenRetriever] Cleaned up "+n.length+" old files")}).catch(function(e){t.uppy.log("[GoldenRetriever] Could not clean up "+n.length+" old files","warning"),t.uppy.log(e)})},i.deleteBlobs=function(e){var t=this,n=[];return e.forEach(function(e){t.ServiceWorkerStore&&n.push(t.ServiceWorkerStore.delete(e)),t.IndexedDBStore&&n.push(t.IndexedDBStore.delete(e))}),Promise.all(n)},i.install=function(){var e=this;this.loadFilesStateFromLocalStorage(),this.uppy.getFiles().length>0?this.ServiceWorkerStore?(this.uppy.log("[GoldenRetriever] Attempting to load files from Service Worker..."),this.loadFileBlobsFromServiceWorker()):(this.uppy.log("[GoldenRetriever] Attempting to load files from Indexed DB..."),this.loadFileBlobsFromIndexedDB()):(this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),this.onBlobsLoaded([])),this.uppy.on("file-added",function(t){t.isRemote||(e.ServiceWorkerStore&&e.ServiceWorkerStore.put(t).catch(function(t){e.uppy.log("[GoldenRetriever] Could not store file","warning"),e.uppy.log(t)}),e.IndexedDBStore.put(t).catch(function(t){e.uppy.log("[GoldenRetriever] Could not store file","warning"),e.uppy.log(t)}))}),this.uppy.on("file-removed",function(t){e.ServiceWorkerStore&&e.ServiceWorkerStore.delete(t.id).catch(function(t){e.uppy.log("[GoldenRetriever] Failed to remove file","warning"),e.uppy.log(t)}),e.IndexedDBStore.delete(t.id).catch(function(t){e.uppy.log("[GoldenRetriever] Failed to remove file","warning"),e.uppy.log(t)})}),this.uppy.on("complete",function(t){var n=t.successful,r=n.map(function(e){return e.id});e.deleteBlobs(r).then(function(){e.uppy.log("[GoldenRetriever] Removed "+n.length+" files that finished uploading")}).catch(function(t){e.uppy.log("[GoldenRetriever] Could not remove "+n.length+" files that finished uploading","warning"),e.uppy.log(t)})}),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restored",function(){var t=e.uppy.getState().currentUploads;t&&Object.keys(t).forEach(function(n){e.uppy.restore(n,t[n])})})},t}(Ur.Plugin),bh.VERSION="1.3.19",wh),Th=(Lh=kh=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).type="debugger",r.id=r.opts.id||"ReduxDevTools",r.title="Redux DevTools",r.opts=Vn({},{},n),r.handleStateChange=r.handleStateChange.bind($n(r)),r.initDevTools=r.initDevTools.bind($n(r)),r}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.handleStateChange=function(e,t,n){this.devTools.send("UPPY_STATE_UPDATE",t)},i.initDevTools=function(){var e=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(t){if("DISPATCH"===t.type)switch(console.log(t.payload.type),t.payload.type){case"RESET":return void e.uppy.reset();case"IMPORT_STATE":var n=t.payload.nextLiftedState.computedStates;return e.uppy.store.state=Vn({},e.uppy.getState(),n[n.length-1].state),void e.uppy.updateAll(e.uppy.getState());case"JUMP_TO_STATE":case"JUMP_TO_ACTION":e.uppy.store.state=Vn({},e.uppy.getState(),JSON.parse(t.state)),e.uppy.updateAll(e.uppy.getState())}})},i.install=function(){this.withDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))},i.uninstall=function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))},t}(Ur.Plugin),kh.VERSION="1.3.5",Lh),Dh={};return Dh.Core=Ur,Dh.debugLogger=Dh.Core.debugLogger,Dh.server=ei,Dh.views={ProviderView:Pi},Dh.DefaultStore=Dr,Dh.ReduxStore=si,Dh.Dashboard=ra,Dh.DragDrop=sa,Dh.FileInput=ua,Dh.Informer=ns,Dh.ProgressBar=ha,Dh.StatusBar=Qo,Dh.Dropbox=ga,Dh.GoogleDrive=wa,Dh.Instagram=Sa,Dh.OneDrive=Fa,Dh.Facebook=Ca,Dh.Url=Ha,Dh.Webcam=el,Dh.ScreenCapture=fl,Dh.AwsS3=Rl,Dh.AwsS3Multipart=eu,Dh.Transloadit=Wd,Dh.Tus=nc,Dh.XHRUpload=Qd,Dh.Form=dh,Dh.GoldenRetriever=xh,Dh.ReduxDevTools=Th,Dh.ThumbnailGenerator=vs,Dh.locales={},Dh}),function(){var e={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},addMore:"Add more",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site.",allowAccessTitle:"Please allow access to your camera",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)",aspectRatioSquare:"Crop square",authenticateWith:"Connect to %{pluginName}",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",back:"Back",browse:"browse",browseFiles:"browse files",browseFolders:"browse folders",cancel:"Cancel",cancelUpload:"Cancel upload",chooseFiles:"Choose files",closeModal:"Close Modal",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",complete:"Complete",connectedToInternet:"Connected to the Internet",copyLink:"Copy link",copyLinkToClipboardFallback:"Copy the URL below",copyLinkToClipboardSuccess:"Link copied to clipboard",creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",dashboardTitle:"File Uploader",dashboardWindowTitle:"File Uploader Window (Press escape to close)",dataUploadedOfTotal:"%{complete} of %{total}",done:"Done",dropHereOr:"Drop files here or %{browse}",dropHint:"Drop your files here",dropPasteBoth:"Drop files here, paste, %{browseFiles} or %{browseFolders}",dropPasteFiles:"Drop files here, paste or %{browseFiles}",dropPasteFolders:"Drop files here, paste or %{browseFolders}",dropPasteImportBoth:"Drop files here, paste, %{browseFiles}, %{browseFolders} or import from:",dropPasteImportFiles:"Drop files here, paste, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, paste, %{browseFolders} or import from:",editFile:"Edit file",editing:"Editing %{file}",emptyFolderAdded:"No files were added from empty folder",encoding:"Encoding...",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file",enterUrlToImport:"Enter URL to import a file",exceedsSize:"This file exceeds maximum allowed size of",exceedsSize2:"%{backwardsCompat} %{size}",failedToFetch:"Companion failed to fetch this URL, please make sure its correct",failedToUpload:"Failed to upload %{file}",fileSource:"File source: %{name}",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},filter:"Filter",finishEditingFile:"Finish editing file",flipHorizontal:"Flip horizonal",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},generatingThumbnails:"Generating thumbnails...",import:"Import",importFrom:"Import from %{name}",inferiorSize:"This file is smaller than the allowed size of %{size}",loading:"Loading...",logOut:"Log out",micDisabled:"Microphone access denied by user",myDevice:"My Device",noCameraDescription:"In order to take pictures or record video, please connect a camera device",noCameraTitle:"Camera Not Available",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",noFilesFound:"You have no files or folders here",noInternetConnection:"No Internet connection",noNewAlreadyUploading:"Cannot add new files: already uploading",openFolderNamed:"Open folder %{name}",pause:"Pause",pauseUpload:"Pause upload",paused:"Paused",poweredBy:"Powered by",poweredBy2:"%{backwardsCompat} %{uppy}",processingXFiles:{
0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},recording:"Recording",recordingLength:"Recording length %{recording_length}",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",removeFile:"Remove file",resetFilter:"Reset filter",resume:"Resume",resumeUpload:"Resume upload",retry:"Retry",retryUpload:"Retry upload",revert:"Revert",rotate:"Rotate",save:"Save",saveChanges:"Save changes",selectAllFilesFromFolderNamed:"Select all files from folder %{name}",selectFileNamed:"Select file %{name}",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},smile:"Smile!",startCapturing:"Begin screen capturing",startRecording:"Begin video recording",stopCapturing:"Stop screen capturing",stopRecording:"Stop video recording",streamActive:"Stream active",streamPassive:"Stream passive",submitRecordedFile:"Submit captured video",takePicture:"Take a picture",timedOut:"Upload stalled for %{seconds} seconds, aborting.",unselectAllFilesFromFolderNamed:"Unselect all files from folder %{name}",unselectFileNamed:"Unselect file %{name}",upload:"Upload",uploadComplete:"Upload complete",uploadFailed:"Upload failed",uploadPaused:"Upload paused",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},uploading:"Uploading",uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},xTimeLeft:"%{time} left",youCanOnlyUploadFileTypes:"You can only upload: %{types}",youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},zoomIn:"Zoom in",zoomOut:"Zoom out"},pluralize:function(e){return 1===e?0:1}};"undefined"!=typeof window&&void 0!==window.Uppy&&(window.Uppy.locales.en_US=e)}(),define("uppy-locales/en_US.min",function(){}),function(){var e={strings:{addMoreFiles:"Agregar ms archivos",addingMoreFiles:"Agregando ms archivos",allowAccessDescription:"Para tomar fotos o grabar video con tu cmara, por favor permite a este sitio el acceso a la cmara.",allowAccessTitle:"Por favor permite el acceso a tu cmara",authenticateWith:"Conectar a %{pluginName}",authenticateWithTitle:"Por favor autentcate con %{pluginName} para seleccionar archivos",back:"Atrs",addMore:"Agregar ms",browse:"navegar",browseFiles:"navegar",cancel:"Cancelar",cancelUpload:"Cancelar subida",chooseFiles:"Seleccionar archivos",closeModal:"Cerrar ventana flotante",companionError:"Conexin con Companion fall",complete:"Completado",connectedToInternet:"Conectado a Internet",copyLink:"Copiar enlace",copyLinkToClipboardFallback:"Copia la siguiente URL",copyLinkToClipboardSuccess:"Enlace copiado al portapapeles",creatingAssembly:"Preparando subida...",creatingAssemblyFailed:"Transloadit: No se pudo crear un Assembly",dashboardTitle:"Cargador de archivos",dashboardWindowTitle:"Ventana para cargar archivos (Presiona escape para cerrar)",dataUploadedOfTotal:"%{complete} de %{total}",done:"Hecho",dropHereOr:"Soltar archivos aqu o %{browse}",dropHint:"Suelta tus archivos aqu",dropPasteBoth:"Soltar archivos aqu, pegar o %{browse}",dropPasteFiles:"Soltar archivos aqu, pegar o %{browse}",dropPasteFolders:"Soltar archivos aqu, pegar o %{browse}",dropPasteImportBoth:"Soltar archivos aqu, pegar, %{browse} o importar desde",dropPasteImportFiles:"Soltar archivos aqu, pegar, %{browse} o importar desde",dropPasteImportFolders:"Soltar archivos aqu, pegar, %{browse} o importar desde",editFile:"Editar archivo",editing:"Editando %{file}",emptyFolderAdded:"Ningn archivo fue agregado desde la carpeta vaca",encoding:"Codificando...",enterCorrectUrl:"URL incorrecta: Por favor asegrate que ests ingresando un enlace a un archivo",enterUrlToImport:"Ingresa una URL para importar un archivo",exceedsSize:"Este archivo excede el tamao mximo de",failedToFetch:"Companion no ha podido recuperar esta URL, por favor asegrate que sea correcta",failedToUpload:"Error al subir %{file}",fileSource:"Fuente de archivo: %{name}",filesUploadedOfTotal:{0:"%{complete} de %{smart_count} archivo subido",1:"%{complete} de %{smart_count} archivos subidos",2:"%{complete} de %{smart_count} archivos subidos"},filter:"Filtrar",finishEditingFile:"Terminar edicin de archivo",folderAdded:{0:"Agregado %{smart_count} archivo desde %{folder}",1:"Agregados %{smart_count} archivos desde %{folder}",2:"Agregados %{smart_count} archivos desde %{folder}"},import:"Importar",importFrom:"Importar desde %{name}",loading:"Cargando...",logOut:"Cerrar sesin",myDevice:"Mi Dispositivo",noFilesFound:"No existen archivos o carpetas aqu",noInternetConnection:"Sin conexin a Internet",pause:"Pausar",pauseUpload:"Pausar subida",paused:"En pausa",poweredBy:"Soportado por",processingXFiles:{0:"Procesando %{smart_count} archivo",1:"Procesando %{smart_count} archivos",2:"Procesando %{smart_count} archivos"},recordingLength:"Duracin de grabacin %{recording_length}",removeFile:"Eliminar archivo",resetFilter:"Limpiar filtro",resume:"Reanudar",resumeUpload:"Reanudar subida",retry:"Intentar nuevamente",retryUpload:"Intentar subida nuevamente",saveChanges:"Guardar cambios",selectX:{0:"Seleccionar %{smart_count}",1:"Seleccionar %{smart_count}",2:"Seleccionar %{smart_count}"},smile:"Sonre!",startRecording:"Comenzar la grabacin de video",stopRecording:"Detener la grabacin de video",takePicture:"Tomar una foto",timedOut:"Subida estancada por %{seconds} segundos, anulando.",upload:"Subir",uploadComplete:"Subida terminada",uploadFailed:"Subida fall",uploadPaused:"Subida pausada",uploadXFiles:{0:"Subir %{smart_count} archivo",1:"Subir %{smart_count} archivos",2:"Subir %{smart_count} archivos"},uploadXNewFiles:{0:"Subir +%{smart_count} archivo",1:"Subir +%{smart_count} archivos",2:"Subir +%{smart_count} archivos"},uploading:"Subiendo",uploadingXFiles:{0:"Subiendo %{smart_count} archivo",1:"Subiendo %{smart_count} archivos",2:"Subiendo %{smart_count} archivos"},xFilesSelected:{0:"%{smart_count} archivo seleccionado",1:"%{smart_count} archivos seleccionados",2:"%{smart_count} archivos seleccionados"},xMoreFilesAdded:{0:"%{smart_count} archivo ms agregado",1:"%{smart_count} archivos ms agregados",2:"%{smart_count} archivos ms agregados"},xTimeLeft:"%{time} restantes",youCanOnlyUploadFileTypes:"Solo puedes subir: %{types}",youCanOnlyUploadX:{0:"Solo puedes subir %{smart_count} archivo",1:"Solo puedes subir %{smart_count} archivos",2:"Solo puedes subir %{smart_count} archivos"},youHaveToAtLeastSelectX:{0:"Tienes que seleccionar al menos %{smart_count} archivo",1:"Tienes que seleccionar al menos %{smart_count} archivos",2:"Tienes que seleccionar al menos %{smart_count} archivos"},selectAllFilesFromFolderNamed:"Seleccionar todos los archivos de la carpeta %{name}",unselectAllFilesFromFolderNamed:"Deselecciona todos los archivos de la carpeta %{name}",selectFileNamed:"Seleccione archivo %{name}",unselectFileNamed:"Deseleccionar archivo %{name}",openFolderNamed:"Carpeta abierta %{name}"},pluralize:function(e){return 1===e?0:1}};"undefined"!=typeof window&&void 0!==window.Uppy&&(window.Uppy.locales.es_ES=e)}(),define("uppy-locales/es_ES.min",function(){}),function(){var e={strings:{addBulkFilesFailed:{0:"L'ajout de %{smart_count} fichier a chou",1:"L'ajout de %{smart_count} fichiers a chou"},addMore:"Ajouter d'autres",addMoreFiles:"Ajouter d'autres fichiers",addingMoreFiles:"En train d'ajouter des fichiers",allowAccessDescription:"Pour prendre des photos ou enregistrer une vido avec votre camra, veuillez autoriser l'accs  votre camra pour ce site.",allowAccessTitle:"Veuillez autoriser l'accs  votre camra",authenticateWith:"Se connecter  %{pluginName}",authenticateWithTitle:"Veuillez vous authentifier avec %{pluginName} pour slectionner les fichiers",back:"Retour",browse:"naviguer",browseFiles:"naviguer",cancel:"Annuler",cancelUpload:"Annuler tlchargement",chooseFiles:"Choisir des fichiers",closeModal:"Fermer Fentre",companionError:"Connexion  Companion a chou",companionUnauthorizeHint:"Pour vous dconnecter de votre compte %{provider}, veuillez aller  %{url}",complete:"Termin",connectedToInternet:"Connect  Internet",copyLink:"Copier lien",copyLinkToClipboardFallback:"Copier le lien ci-dessous",copyLinkToClipboardSuccess:"Lien copi",creatingAssembly:"Prparation du tlchargement...",creatingAssemblyFailed:"Transloadit: Impossible de crer Assembly",dashboardTitle:"Tlchargeur de fichier",dashboardWindowTitle:"Fentre de tlchargeur de fichier (Appuyez sur echap pour fermer)",dataUploadedOfTotal:"%{complete} sur %{total}",done:"Termin",dropHereOr:"Dposer les fichiers ici ou %{browse}",dropHint:"Dposez vos fichiers ici",dropPasteBoth:"Dposer les fichiers ici, coller ou %{browse}",dropPasteFiles:"Dposer les fichiers ici, coller ou %{browse}",dropPasteFolders:"Dposer les fichiers ici, coller ou %{browse}",dropPasteImportBoth:"Dposer les fichiers ici, coller, %{browse} ou importer de",dropPasteImportFiles:"Dposer les fichiers ici, coller, %{browse} ou importer de",dropPasteImportFolders:"Dposer les fichiers ici, coller, %{browse} ou importer de",editFile:"Modifier fichier",editing:"Modification en cours de %{file}",emptyFolderAdded:"Aucun fichier n'a t ajout depuis un dossier vide",encoding:"Traitement...",enterCorrectUrl:"Lien incorrect: Assurez-vous que vous entrez un lien direct vers le fichier",enterUrlToImport:"Entrez le lien pour importer un fichier",exceedsSize:"Ce fichier dpasse la taille maximale autorise de",failedToFetch:"Companion a chou  rcuprer ce lien, assurez-vous qu'il est correct",failedToUpload:"Le tlchargement de %{file} a chou",fileSource:"Fichier source: %{name}",filesUploadedOfTotal:{0:"%{complete} sur %{smart_count} fichier tlcharg",1:"%{complete} sur %{smart_count} fichiers tlchargs",2:"%{complete} sur %{smart_count} fichiers tlchargs"},filter:"Filtrer",finishEditingFile:"Terminer l'dition du fichier",folderAdded:{0:"%{smart_count} fichier ajout de %{folder}",1:"%{smart_count} fichiers ajouts de %{folder}",2:"%{smart_count} fichiers ajouts de %{folder}"},generatingThumbnails:"Generating thumbnails...",import:"Importer",importFrom:"Importer de %{name}",loading:"Chargement...",logOut:"Dconnexion",micDisabled:"Accs au micro refus par l'utilisateur",myDevice:"Mon Appareil",noDuplicates:'Impossible d\'ajouter le fichier "%{fileName}", il existe dj',noFilesFound:"Vous n'avez aucun fichier ou dossier ici",noInternetConnection:"Pas de connexion  Internet",noNewAlreadyUploading:"Impossible d'ajouter de nouveaux fichiers: en cours de chargement ",openFolderNamed:"Ouvrir %{name}",pause:"Pause",pauseUpload:"Mettre en pause le tlchargement",paused:"En pause",poweredBy:"Propuls par",processingXFiles:{0:"Traitement de %{smart_count} fichier",1:"Traitement de %{smart_count} fichiers",2:"Traitement de %{smart_count} fichiers"},recording:"Enregistrement",recordingLength:"Dure d'enregistrement %{recording_length}",recordingStoppedMaxSize:"L'enregistrement s'est arrt car la taille du fichier dpasse la limite",removeFile:"Effacer le fichier",resetFilter:"Rinitialiser filtre",resume:"Reprendre",resumeUpload:"Reprendre le tlchargement",retry:"Ressayer",retryUpload:"Ressayer le tlchargement",saveChanges:"Sauvegarder les modifications",selectAllFilesFromFolderNamed:"Slectionner tous les fichiers du dossier %{name}",selectFileNamed:"Slectionner le fichier %{name}",selectX:{0:"Slectionner %{smart_count}",1:"Slectionner %{smart_count}",2:"Slectionner %{smart_count}"},smile:"Souriez !",startRecording:"Commencer l'enregistrement vido",stopRecording:"Arrter l'enregistrement vido",streamActive:"Stream actif",streamPassive:"Stream passif",submitRecordedFile:"Envoyer la vido enregistre",takePicture:"Prendre une photo",timedOut:"Tlchargement bloqu durant %{seconds} secondes, annulation.",unselectAllFilesFromFolderNamed:"Dslectionner tous les fichiers du dossier %{name}",unselectFileNamed:"Dslectionner le fichier %{name}",upload:"Tlcharger",uploadComplete:"Tlchargement termin",uploadFailed:"Le tlchargement a chou",uploadPaused:"Tlchargement mis en pause",uploadXFiles:{0:"Tlcharger %{smart_count} fichier",1:"Tlcharger %{smart_count} fichiers",2:"Tlcharger %{smart_count} fichiers"},uploadXNewFiles:{0:"Tlcharger +%{smart_count} fichier",1:"Tlcharger +%{smart_count} fichiers",2:"Tlcharger +%{smart_count} fichiers"},uploading:"Tlchargement en cours",uploadingXFiles:{0:"Tlchargement de %{smart_count} fichier",1:"Tlchargement de %{smart_count} fichiers",2:"Tlchargement de %{smart_count} fichiers"},xFilesSelected:{0:"%{smart_count} fichier slectionn",1:"%{smart_count} fichiers slectionns",2:"%{smart_count} fichiers slectionns"},xMoreFilesAdded:{0:"%{smart_count} autre fichier ajout",1:"%{smart_count} autres fichiers ajouts",2:"%{smart_count} autres fichiers ajouts"},xTimeLeft:"%{time} restantes",youCanOnlyUploadFileTypes:"Vous pouvez seulement tlcharger: %{types}",youCanOnlyUploadX:{0:"Vous pouvez seulement tlcharger %{smart_count} fichier",1:"Vous pouvez seulement tlcharger %{smart_count} fichiers",2:"Vous pouvez seulement tlcharger %{smart_count} fichiers"},youHaveToAtLeastSelectX:{0:"Vous devez slectionner au moins %{smart_count} fichier",1:"Vous devez slectionner au moins %{smart_count} fichiers",2:"Vous devez slectionner au moins %{smart_count} fichiers"}},pluralize:function(e){return 1===e?0:1}};"undefined"!=typeof window&&void 0!==window.Uppy&&(window.Uppy.locales.fr_FR=e)}(),define("uppy-locales/fr_FR.min",function(){}),define("text!ev-script/templates/upload.html",[],function(){return'<form class="upload-form" method="POST" action="">\n    <div role="group" aria-labelledby="uploadTitle">\n        <div id="uploadTitle" style="display: none;"><%= i18n.formatMessage(\'Upload Media to Ensemble\') %></div>\n        <select class="form-select" name="MediaWorkflowID" id="MediaWorkflowID"></select>\n        <label for="MediaWorkflowID" style="display: none;"><%= i18n.formatMessage(\'Media Workflow\') %></label>\n        <div class="policy-message"></div>\n        <div class="fieldWrap">\n            <label for="Title"><%= i18n.formatMessage(\'Title\') %> *</label>\n            <input class="form-text" type="text" name="Title" id="Title" required />\n        </div>\n        <div class="fieldWrap">\n            <label for="Description"><%= i18n.formatMessage(\'Description\') %></label>\n            <textarea class="form-text" name="Description" id="Description"></textarea>\n        </div>\n        <div role="alert" class="alert alert-warning" style="display: none;"></div>\n        <div class="upload"></div>\n    </div>\n</form>'}),define("ev-script/views/upload",["require","jquery","underscore","loglevel","urijs/URITemplate","ev-script/models/base","ev-script/views/base","ev-script/collections/base","backbone","ev-script/views/workflow-select","ev-script/models/video-settings","ev-script/models/media-types","uppy","uppy-locales/en_US.min","uppy-locales/en_US.min","uppy-locales/es_ES.min","uppy-locales/es_ES.min","uppy-locales/fr_FR.min","uppy-locales/fr_FR.min","text!ev-script/templates/upload.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("loglevel"),i=e("urijs/URITemplate"),o=e("ev-script/models/base"),s=e("ev-script/views/base"),a=e("ev-script/collections/base"),l=(e("backbone"),e("ev-script/views/workflow-select")),u=(e("ev-script/models/video-settings"),e("ev-script/models/media-types")),c=e("uppy"),d={en:e("uppy-locales/en_US.min"),"en-US":e("uppy-locales/en_US.min"),es:e("uppy-locales/es_ES.min"),"es-MX":e("uppy-locales/es_ES.min"),fr:e("uppy-locales/fr_FR.min"),"fr-FR":e("uppy-locales/fr_FR.min")};return s.extend({template:n.template(e("text!ev-script/templates/upload.html")),initialize:function(e){s.prototype.initialize.call(this,e),n.bindAll(this,"render","initUploader","closeDialog","disableFields","unloadCallback","uploadInProgress","handleSubmit"),this.$anchor=this.$el,this.setElement(this.template({i18n:this.i18n})),this.delegateEvents({submit:"handleSubmit"}),this.$select=this.$("select"),this.$upload=this.$(".upload"),this.$title=this.$("#Title"),this.$description=this.$("#Description"),this.library=e.library,this.workflows=e.workflows,this.workflowSelect=new l({el:this.$select[0],collection:this.workflows.getEmbedded(this.workflows.collectionKey)}),this.extensions=[],this.render().done(this.initUploader),this.events.on("hidePickers",this.closeDialog)},getWidth:function(){return Math.min(600,t(window).width()-this.config.dialogMargin)},getHeight:function(){return Math.min(420,t(window).height()-this.config.dialogMargin)},disableFields:function(e){this.$select.prop("disabled",e),this.$title.prop("disabled",e),this.$description.prop("disabled",e)},initUploader:function(){var e=this.workflowSelect.getSelected(),i=parseInt(e.get("maxUploadSize"),10);this.uploader&&this.uploader.close(),this.uploader=c.Core({allowMultipleUploads:!1,autoProceed:!0,debug:!0,restrictions:{maxFileSize:1073741824*i,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:this.extensions},locale:d[this.config.locale||"en-US"],onBeforeUpload:n.bind(function(e){var i=this.$title.val(),s=this.$description.val(),a=this.uploader.getPlugin("Tus"),l=this.library.getLink("ev:Contents/Create");return i&&""!==i.trim()?this.content?(a.opts.endpoint=this.content.getLink("ev:Encodings/Upload").href,this.uploader.setMeta({mediaWorkflowId:this.$("select").val()}),!0):(this.auth.userManager.getUser().then(n.bind(function(e){if(!e||e.expired)return this.events.trigger("loggedOut"),void this.closeDialog();a.opts.headers||(a.opts.headers={}),a.opts.headers.Authorization="Bearer "+e.access_token,t.ajax(l.href,{method:l.method,headers:{Authorization:"Bearer "+e.access_token,Accept:"application/hal+json; charset=UTF-8"},data:JSON.stringify({libraryId:this.library.get("id"),type:"UploadDirectory",name:i,description:s,autoPublish:!0}),contentType:"application/json; charset=UTF-8",beforeSend:n.bind(function(){this.disableFields(!0)},this),success:n.bind(function(e){this.content=new o(e),this.$(".alert").hide(),this.uploader.upload()},this),error:n.bind(function(e){e&&e.responseText&&this.$(".alert").text(e.responseText).show(),this.disableFields(!1)},this)})},this)).catch(n.bind(function(e){r.error(e)},this)),!1):(this.$title.focus(),!1)},this)}).use(c.Tus,{retryDelays:[0,1e3,3e3,5e3,1e4,3e4],removeFingerprintOnSuccess:this.config.tpcEnabled,withCredentials:!0,chunkSize:2097152e3}).use(c.Dashboard,{inline:!0,width:"100%",height:200,target:".upload",showProgressDetails:!0,showLinkToFileUploadResult:!1,proudlyDisplayPoweredByUppy:!1,locale:{strings:{done:this.i18n.formatMessage("Done"),removeFile:this.i18n.formatMessage("Remove file"),dropPaste:"%{browse}"+this.i18n.formatMessage("Select file to upload"),browse:"",uploadComplete:this.i18n.formatMessage("Upload complete"),resumeUpload:this.i18n.formatMessage("Resume upload"),pauseUpload:this.i18n.formatMessage("Pause upload"),retryUpload:this.i18n.formatMessage("Retry upload"),xFilesSelected:{0:"%{smart_count} "+this.i18n.formatMessage("file selected"),1:"%{smart_count} "+this.i18n.formatMessage("files selected")},uploading:this.i18n.formatMessage("Uploading"),complete:this.i18n.formatMessage("Complete")}}}),this.uploader.on("complete",t.proxy(function(e){if(e&&e.successful&&e.successful.length>0)return this.events.trigger("reload","videos"),void this.closeDialog();this.disableFields(!1)},this)),window.addEventListener("beforeunload",this.unloadCallback)},unloadCallback:function(e){var n=this.uploader.getFiles(),r=!1;t.each(n,function(e,t){if(!t.progress.uploadComplete)return r=!0,!1}),r&&(e.preventDefault(),e.returnValue="")},uploadInProgress:function(){var e=this.uploader.getFiles(),n=!1;return t.each(e,function(e,t){if(!t.progress.uploadComplete)return n=!0,!1}),n},closeDialog:function(){!this.uploadInProgress()&&this.$dialog&&this.$dialog.dialog("close")},render:function(){var e=t('<div class="dialogWrap"></div>'),r=n.unescape(this.root.getEmbedded("ev:Brandings/Current").get("policyMessage")),o=new i(this.root.getLink("ev:MediaTypes/Search").href),s=o.expand({type:"audio,video",pageSize:100}),l=new a(null,{}),c=n.bind(function(e){return new u({},{href:e}).fetch({success:n.bind(function(e,t,n){var r=e.getLink("next"),i=e.getEmbedded("mediaTypes");i&&l.add(i.models),r?c(r.href):l.trigger("reset")},this),error:n.bind(this.ajaxError,this)})},this);return c(s).then(n.bind(function(){this.$(".policy-message").html(r),this.extensions=l.pluck("extension"),this.extensions=n.map(this.extensions,function(e){return e.toLowerCase().replace(/^\*/g,"")}),this.$anchor.after(e),this.$dialog=e.dialog({title:this.i18n.formatMessage("Upload Media to Ensemble"),modal:!0,width:this.getWidth(),height:this.getHeight(),draggable:!1,resizable:!1,dialogClass:"ev-dialog",create:n.bind(function(t,n){e.html(this.$el)},this),closeText:this.i18n.formatMessage("Close"),beforeClose:n.bind(function(){return!this.uploadInProgress()||window.confirm(this.i18n.formatMessage("Your changes haven't been saved!"))},this),close:n.bind(function(t,n){this.uploader&&this.uploader.close(),e.dialog("destroy").remove(),this.events.off("hidePickers",this.closeDialog),this.$dialog=null},this)})},this))},handleSubmit:function(e){e.preventDefault()}})}),function(e){"use strict";if("object"==typeof exports&&null!=exports&&"number"!=typeof exports.nodeType)module.exports=e();else if("function"==typeof define&&null!=define.amd)define("base64",[],e);else{var t=e(),n="undefined"!=typeof self?self:$.global;"function"!=typeof n.btoa&&(n.btoa=t.btoa),"function"!=typeof n.atob&&(n.atob=t.atob)}}(function(){"use strict";function e(e){this.message=e}function t(t){for(var n,i,o=String(t),s=0,a=r,l="";o.charAt(0|s)||(a="=",s%1);l+=a.charAt(63&n>>8-s%1*8)){if((i=o.charCodeAt(s+=.75))>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return l}function n(t){var n=String(t).replace(/[=]+$/,"");if(n.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,s=0,a=0,l="";o=n.charAt(a++);~o&&(i=s%4?64*i+o:o,s++%4)?l+=String.fromCharCode(255&i>>(-2*s&6)):0)o=r.indexOf(o);return l}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return e.prototype=new Error,e.prototype.name="InvalidCharacterError",{btoa:t,atob:n}}),define("text!ev-script/templates/anthem.html",[],function(){return'<iframe src="ensemble://<%= tokenDetailsApiUrl %>" style="display:none;"></iframe>\n'}),define("ev-script/views/video-picker",["require","jquery","underscore","platform","urijs/URITemplate","ev-script/views/picker","ev-script/views/filter","ev-script/views/video-results","ev-script/models/videos","ev-script/models/shared-videos","ev-script/models/libraries","ev-script/models/workflows","ev-script/views/upload","base64","text!ev-script/templates/anthem.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("platform"),i=e("urijs/URITemplate"),o=e("ev-script/views/picker"),s=e("ev-script/views/filter"),a=e("ev-script/views/video-results"),l=e("ev-script/models/videos"),u=e("ev-script/models/shared-videos"),c=(e("ev-script/models/libraries"),e("ev-script/models/workflows")),d=e("ev-script/views/upload");return e("base64"),o.extend({anthemTemplate:n.template(e("text!ev-script/templates/anthem.html")),initialize:function(e){o.prototype.initialize.call(this,e),n.bindAll(this,"loadVideos","loadWorkflows","changeLibrary","handleSubmit","uploadHandler","recordHandler","handleSearch","isSharedContent","changeLibraryType","handleUploadVisibility"),this.events.off("typeSelectChange",this.changeLibraryType).on("typeSelectChange",this.changeLibraryType),this.events.off("search",this.handleSearch).on("search",this.handleSearch);var t=n.bind(function(e){"videos"===e&&this.loadVideos()},this);this.events.off("reload",t).on("reload",t),this.filter=new s({id:this.id+"-filter",el:this.$(".ev-filter-block"),picker:this}),this.resultsView=new a({el:this.$(".ev-results"),picker:this}),this.$el.append(this.resultsView.$el)},events:{"click .action-add":"chooseItem","click .action-upload":"uploadHandler","click .action-record":"recordHandler","change .ev-filter-block select.libraries":"changeLibrary","submit .ev-filter-block":"handleSubmit"},changeLibrary:function(e){this.model.get("libraryId");this.loadVideos(),this.loadWorkflows(),this.handleUploadVisibility()},changeLibraryType:function(e){this.loadVideos(),this.handleUploadVisibility()},handleSubmit:function(e){this.loadVideos(),e.preventDefault()},handleSearch:function(e){e===this.model&&this.loadVideos()},handleUploadVisibility:function(){var e=this.model.get("libraryId"),t=this.filter.getLibrary(e);if(!t||!this.workflows||!t.getLink("ev:Contents/Create"))return this.filter.hideUpload(),void this.filter.hideRecord();this.workflows.promise.done(n.bind(function(){var e=this.workflows.getEmbedded(this.workflows.collectionKey);!e||e.isEmpty()||this.isSharedContent()?(this.filter.hideUpload(),this.filter.hideRecord()):(this.filter.showUpload(),this.canRecord()&&this.filter.showRecord())},this))},uploadHandler:function(e){var t=this.model.get("libraryId"),n=this.filter.getLibrary(t);new d({library:n,workflows:this.workflows,model:this.model});e.preventDefault()},recordHandler:function(e){var i,o,s=n.bind(function(){this.anthemLaunching=!0,this.filter.activateRecord()},this),a=n.bind(function(){this.anthemLaunching=!1,this.filter.deactivateRecord(),i&&clearInterval(i),o&&clearTimeout(o)},this);if(this.anthemLaunching)return e.preventDefault(),!1;s(),t.ajax({url:this.config.ensembleUrl+"/api/record/token/CreateToken",data:{libraryId:this.model.get("libraryId")},xhrFields:{withCredentials:!0}}).done(n.bind(function(e){e&&"00000000-0000-0000-0000-000000000000"!==e?(this.$("#anthemContainer").html(this.anthemTemplate({tokenDetailsApiUrl:window.btoa(this.config.ensembleUrl+"/api/record/token/GetDetails?token="+e)})),i=setInterval(n.bind(function(){t.ajax({url:this.config.ensembleUrl+"/api/record/token/IsActive",xhrFields:{withCredentials:!0},data:{token:e}}).done(function(e){e||a()}).fail(function(){a()})},this),5e3),o=setTimeout(n.bind(function(){a(),/windows/i.test(r.os.family)?window.location=this.config.ensembleUrl+"/app/unprotected/EnsembleAnthem/EnsembleAnthem.msi":window.location=this.config.ensembleUrl+"/app/unprotected/EnsembleAnthem/EnsembleAnthem.dmg"},this),3e4)):a()},this)).fail(a),e.preventDefault()},showPicker:function(){o.prototype.showPicker.call(this),this.filter.loadOrgs(),this.filter.setFocus()},loadVideos:function(){var e=t.trim(this.model.get("search").toLowerCase()),r=this.isSharedContent(),o=new i(r?this.root.getLink("ev:Sharing/Search").href:this.root.getLink("ev:Contents/Search").href),s=o.expand({organizationId:this.model.get("organizationId"),libraryId:this.model.get("libraryId"),search:e,sortBy:r?"PostDate":"dateAdded",isPublished:!0,desc:!0,pageSize:20});this.videos=r?new u({},{href:s}):new l({},{href:s}),this.filter.disable(),this.videos.fetch({picker:this,success:n.bind(function(e,t,n){this.resultsView.model=e,this.resultsView.collection=e.getEmbedded("contents"),this.resultsView.render()},this),error:n.bind(this.ajaxError,this)}).always(n.bind(function(){this.filter.enable()},this))},loadWorkflows:function(){var e=this.model.get("libraryId"),t=new i(this.root.getLink("ev:Workflows/Search").href),r=t.expand({libraryId:e,pageSize:100,type:"UploadDirectory",isEnabled:!0});this.workflows=new c({},{href:r}),this.workflows.fetch({picker:this,error:n.bind(this.ajaxError,this)})},canRecord:function(){var e=this.root.getUser();return e&&e.get("canUseAnthem")&&!this.isMobile()&&"Linux"!==r.os.family},isMobile:function(){var e=r.os.family;return"Android"===e||"iOS"===e||"Windows Phone"===e},isSharedContent:function(){return this.model&&"shared"===this.model.get("sourceId")}})}),define("ev-script/views/settings",["require","underscore","ev-script/views/base","jquery-ui/ui/widgets/dialog"],function(e){"use strict";var t=e("underscore"),n=e("ev-script/views/base");return e("jquery-ui/ui/widgets/dialog"),n.extend({initialize:function(e){n.prototype.initialize.call(this,e),t.bindAll(this,"show","cancelHandler","submitHandler","checkboxHandler","typeHandler"),this.field=e.field},events:{submit:"submitHandler","click .action-cancel":"cancelHandler",'click input[type="checkbox"]':"checkboxHandler","change select.embedtype":"typeHandler"},show:function(){this.render(),this.$el.dialog("open")},cancelHandler:function(e){this.$el.dialog("close"),e.preventDefault()},submitHandler:function(e){this.updateModel(),this.$el.dialog("close"),e.preventDefault()},typeHandler:function(e){var t=this.$(".sizeWrap"),n=e.currentTarget.value;"fixed"===n&&t.length?t.show():"responsive"===n&&t.length&&t.hide()},updateModel:function(){},checkboxHandler:function(e){}})}),define("ev-script/util/size",["require","underscore"],function(e){"use strict";var t=e("underscore");return{optionsSixteenByNine:["1280x720","1024x576","848x480","720x405","640x360","610x344","560x315","480x270","400x225","320x180","240x135","160x90"],optionsDropbox:["1280x720","1024x720","848x720","720x920","640x920","610x920","560x920","480x920","400x920"],getAvailableDimensions:function(e){return e&&"dropbox"===e?this.optionsDropbox:this.optionsSixteenByNine},findClosestDimension:function(e,n){var r,i=Number.MAX_VALUE;return t.find(this.getAvailableDimensions(n),t.bind(function(t){var n=parseInt(t.split("x")[0],10),o=Math.abs(n-e);return o<i&&(i=o,r=t),0===o},this))||r}}}),define("text!ev-script/templates/video-settings.html",[],function(){
return'<form>\n    <div role="group" aria-labelledby="videoSettingsTitle">\n        <div id="videoSettingsTitle" style="display:none;"><%= i18n.formatMessage(\'Media Embed Options\') %></div>\n        <% if (!model.get(\'forceembedtype\')) { %>\n        <div class="fieldWrap inline-option">\n            <label for="embedtype"><%= i18n.formatMessage(\'Type\') %></label>\n            <select class="form-select embedtype" id="embedtype" name="embedtype">\n                <option value="responsive" <% if (model.get(\'embedtype\') === \'responsive\') { print(\'selected\'); } %>><%= i18n.formatMessage(\'iFrame Responsive\') %></option>\n                <option value="fixed" <% if (model.get(\'embedtype\') === \'fixed\') { print(\'selected\'); } %>><%= i18n.formatMessage(\'iFrame\') %></option>\n            </select>\n        </div>\n        <% } %>\n        <div class="fieldWrap sizeWrap inline-option" <% if (model.get(\'embedtype\') === \'responsive\') { print(\'style="display:none;"\'); } %>>\n            <label for="size"><%= i18n.formatMessage(\'Size\') %></label>\n            <select class="form-select size" id="size" name="size">\n                <option value="original"><%= i18n.formatMessage(\'Original\') %></option>\n            </select>\n        </div>\n        <div>\n            <% if (!isGallery && !isYouTube) { %>\n            <div class="fieldWrap checkbox-option">\n                <input id="notes" class="form-checkbox" <% if (model.get(\'notes\')) { print(\'checked="checked"\'); } %> name="notes" type="checkbox"/>\n                <label for="notes"><%= i18n.formatMessage(\'Notes\') %></label>\n            </div>\n            <% } %>\n            <% if (!isGallery && !isExternal) { %>\n            <div class="fieldWrap checkbox-option">\n                <input id="showcaptions" class="form-checkbox" <% if (model.get(\'showcaptions\')) { print(\'checked="checked"\'); } %>  name="showcaptions" type="checkbox"/>\n                <label for="showcaptions"><%= i18n.formatMessage(\'Captions "On" By Default\') %></label>\n            </div>\n            <% } %>\n            <% if (!isGallery && !isYouTube) { %>\n            <div class="fieldWrap checkbox-option">\n                <input id="captionsearch" class="form-checkbox" <% if (model.get(\'captionsearch\')) { print(\'checked="checked"\'); } %> name="captionsearch" type="checkbox"/>\n                <label for="captionsearch"><%= i18n.formatMessage(\'Interactive Transcript\') %></label>\n            </div>\n            <% } %>\n            <div class="fieldWrap checkbox-option">\n                <input id="socialsharing" class="form-checkbox" <% if (model.get(\'socialsharing\')) { print(\'checked="checked"\'); } %> name="socialsharing" type="checkbox"/>\n                <label for="socialsharing"><%= i18n.formatMessage(\'Social Sharing\') %></label>\n            </div>\n            <div class="fieldWrap checkbox-option">\n                <input id="showtitle" class="form-checkbox" <% if (model.get(\'showtitle\')) { print(\'checked="checked"\'); } %> name="showtitle" type="checkbox"/>\n                <label for="showtitle"><%= i18n.formatMessage(\'Title\') %></label>\n            </div>\n            <% if (!isGallery && !isExternal) { %>\n                <div class="fieldWrap checkbox-option">\n                    <input id="viewersreport" class="form-checkbox" <% if (model.get(\'viewersreport\')) { print(\'checked="checked"\'); } %>  name="viewersreport" type="checkbox"/>\n                    <label for="viewersreport"><%= i18n.formatMessage(\'Viewers Report\') %></label>\n                </div>\n            <% } %>\n            <h4><%= i18n.formatMessage(\'Additional Settings\') %></h4>\n            <% if (!isGallery && !isExternal && !isYouTube) { %>\n                <div class="fieldWrap checkbox-option">\n                    <input id="axdxs" class="form-checkbox" <% if (model.get(\'axdxs\')) { print(\'checked="checked"\'); } %> name="axdxs" type="checkbox"/>\n                    <label for="axdxs"><%= i18n.formatMessage(\'Ads\') %></label>\n                </div>\n            <% } %>\n            <% if (!isYouTube) { %>\n            <div class="fieldWrap checkbox-option">\n                <input id="attachments" class="form-checkbox" <% if (model.get(\'attachments\')) { print(\'checked="checked"\'); } %> name="attachments" type="checkbox"/>\n                <label for="attachments"><%= i18n.formatMessage(\'Attachments\') %></label>\n            </div>\n            <% } %>\n            <% if (isAudio) { %>\n                <div class="fieldWrap checkbox-option">\n                    <input id="audiopreviewimage" class="form-checkbox" <% if (model.get(\'audiopreviewimage\')) { print(\'checked="checked"\'); } %>  name="audiopreviewimage" type="checkbox"/>\n                    <label for="audiopreviewimage"><%= i18n.formatMessage(\'Audio Preview Image\') %></label>\n                </div>\n            <% } %>\n            <% if (!isExternal) { %>\n            <div class="fieldWrap checkbox-option">\n                <input id="autoplay" class="form-checkbox" <% if (model.get(\'autoplay\')) { print(\'checked="checked"\'); } %>  name="autoplay" type="checkbox"/>\n                <label for="autoplay"><%= i18n.formatMessage(\'Auto Play (PC Only)\') %></label>\n            </div>\n            <% } %>\n            <div class="fieldWrap checkbox-option">\n                <input id="comments" class="form-checkbox" <% if (model.get(\'comments\')) { print(\'checked="checked"\'); } %>  name="comments" type="checkbox"/>\n                <label for="comments"><%= i18n.formatMessage(\'Comments\') %></label>\n            </div>\n            <% if (!isYouTube) { %>\n            <div class="fieldWrap checkbox-option">\n                <input id="download" class="form-checkbox" <% if (model.get(\'download\')) { print(\'checked="checked"\'); } %> name="download" type="checkbox"/>\n                <label for="download"><%= i18n.formatMessage(\'Download Link\') %></label>\n            </div>\n            <% } %>\n            <% if (!isGallery) { %>\n                <div class="fieldWrap checkbox-option">\n                    <input id="embedthumbnail" class="form-checkbox" <% if (model.get(\'embedthumbnail\')) { print(\'checked="checked"\'); } %> name="embedthumbnail" type="checkbox"/>\n                    <label for="embedthumbnail"><%= i18n.formatMessage(\'Embed As Thumbnail\') %></label>\n                </div>\n            <% } %>\n            <div class="fieldWrap checkbox-option">\n                <input id="embedcode" class="form-checkbox" <% if (model.get(\'embedcode\')) { print(\'checked="checked"\'); } %> name="embedcode" type="checkbox"/>\n                <label for="embedcode"><%= i18n.formatMessage(\'Embed Code\') %></label>\n            </div>\n            <% if (!isYouTube) { %>\n            <div class="fieldWrap checkbox-option">\n                <input id="links" class="form-checkbox" <% if (model.get(\'links\')) { print(\'checked="checked"\'); } %> name="links" type="checkbox"/>\n                <label for="links"><%= i18n.formatMessage(\'Links\') %></label>\n            </div>\n            <% } %>\n            <div class="fieldWrap checkbox-option">\n                <input id="metadata" class="form-checkbox" <% if (model.get(\'metadata\')) { print(\'checked="checked"\'); } %> name="metadata" type="checkbox"/>\n                <label for="metadata"><%= i18n.formatMessage(\'Meta Data\') %></label>\n            </div>\n         </div>\n        <div class="form-actions">\n            <button type="submit" class="form-submit action-submit" value="Submit"><i class="fa fa-save"></i><span><%= i18n.formatMessage(\'Save\') %></span></button>\n            <button type="button" class="form-submit action-cancel" value="Cancel"><i class="fa fa-times"></i><span><%= i18n.formatMessage(\'Cancel\') %></span></button>\n        </div>\n    </div>\n</form>\n'}),define("text!ev-script/templates/sizes.html",[],function(){return'<% _.each(sizes, function(size) { %>\n    <option value="<%= size %>" <% if (size === target) { print(\'selected="selected"\'); } %>><%= size %></option>\n<% }); %>\n'}),define("ev-script/views/video-settings",["require","jquery","underscore","ev-script/views/settings","ev-script/util/size","ev-script/models/video-settings","jquery-ui/ui/widgets/dialog","text!ev-script/templates/video-settings.html","text!ev-script/templates/sizes.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("ev-script/views/settings"),i=e("ev-script/util/size"),o=e("ev-script/models/video-settings");return e("jquery-ui/ui/widgets/dialog"),r.extend({template:n.template(e("text!ev-script/templates/video-settings.html")),sizesTemplate:n.template(e("text!ev-script/templates/sizes.html")),initialize:function(e){r.prototype.initialize.call(this,e),this.encoding=e.encoding,this.encoding.on("change:id",n.bind(function(){this.render()},this))},checkboxHandler:function(e){var n=t(e.currentTarget);return(n.is("#axdxs")||n.is("#embedthumbnail"))&&n.is(":checked")?void this.$("#audiopreviewimage").prop("checked",!0):n.is("#audiopreviewimage")&&!n.is(":checked")?(this.$("#axdxs").prop("checked",!1),void this.$("#embedthumbnail").prop("checked",!1)):void 0},updateModel:function(){var e={showtitle:this.$("#showtitle").is(":checked"),autoplay:this.$("#autoplay").is(":checked"),comments:this.$("#comments").is(":checked"),showcaptions:this.$("#showcaptions").is(":checked"),hidecontrols:this.$("#hidecontrols").is(":checked"),socialsharing:this.$("#socialsharing").is(":checked"),notes:this.$("#notes").is(":checked"),captionsearch:this.$("#captionsearch").is(":checked"),attachments:this.$("#attachments").is(":checked"),audiopreviewimage:this.$("#audiopreviewimage").is(":checked"),links:this.$("#links").is(":checked"),metadata:this.$("#metadata").is(":checked"),dateproduced:this.$("#dateproduced").is(":checked"),embedcode:this.$("#embedcode").is(":checked"),download:this.$("#download").is(":checked"),viewersreport:this.$("#viewersreport").is(":checked"),axdxs:this.$("#axdxs").is(":checked"),embedthumbnail:this.$("#embedthumbnail").is(":checked"),embedtype:this.$("#embedtype").val()},t=this.$("#size").val(),r="original"===t;if(!t||r)this.encoding&&!this.encoding.isNew()&&n.extend(e,{width:this.encoding.getWidth(r),height:this.encoding.getHeight(r)});else{var i=t.split("x");n.extend(e,{width:parseInt(i[0],10),height:parseInt(i[1],10)})}this.field.model.set(e)},renderSize:function(){var e,t=this.field.model.get("width"),n=this.field.model.get("height"),r=[],s=(new o).get("width");t&&n||!this.encoding.id||(t=this.encoding.getWidth(),n=this.encoding.getHeight()),e=s<=t?s:t,r=i.getAvailableDimensions(),this.$(".size").append(this.sizesTemplate({sizes:r,target:i.findClosestDimension(e)}))},render:function(){this.$el.html(this.template({appInfo:this.info,i18n:this.i18n,model:this.field.model,isAudio:this.encoding&&this.encoding.isAudio(),isGallery:this.encoding&&this.encoding.isGallery(),isYouTube:this.encoding&&this.encoding.isYouTube(),isExternal:this.encoding&&this.encoding.isExternal()})),this.encoding&&this.renderSize();var e=this.field.model.get("content");this.$el.dialog({title:this.unencode(e?e.name:this.field.model.get("id")),modal:!0,autoOpen:!1,draggable:!1,resizable:!1,dialogClass:"ev-dialog",width:Math.min(680,t(window).width()-this.config.dialogMargin),height:Math.min(340,t(window).height()-this.config.dialogMargin),closeText:this.i18n.formatMessage("Close")})}})}),define("ev-script/views/video-field",["require","jquery","underscore","loglevel","urijs/URITemplate","ev-script/models/base","ev-script/views/field","ev-script/models/video-settings","ev-script/views/video-picker","ev-script/views/video-settings","ev-script/views/video-preview","ev-script/models/video-encoding"],function(e){"use strict";var t=(e("jquery"),e("underscore")),n=(e("loglevel"),e("urijs/URITemplate")),r=e("ev-script/models/base"),i=e("ev-script/views/field"),o=e("ev-script/models/video-settings"),s=e("ev-script/views/video-picker"),a=e("ev-script/views/video-settings"),l=e("ev-script/views/video-preview"),u=e("ev-script/models/video-encoding");return i.extend({initCallback:function(){this.encoding=new u({},{}),this.root.promise.done(t.bind(function(){var e=this.root.getLink("ev:Encodings/Default"),t=e&&new n(e.href);!this.model.isNew()&&t&&(this.encoding.href=t.expand({contentId:this.model.id}),this.encoding.fetch())},this)),this.model.on("change",t.bind(function(){this.root.promise.done(t.bind(function(){var e=this.root.getLink("ev:Encodings/Default"),r=e&&new n(e.href);this.model.changed.id?(this.encoding.clear(),!this.model.isNew()&&r&&(this.encoding.href=r.expand({contentId:this.model.id}),this.encoding.fetch().always(t.bind(function(e){this.encoding.updateSettingsModel(this.model),this.encoding.updateSettingsModel(this.picker.model),this.updateField()},this)))):this.model.isNew()||this.updateField()},this))},this))},getPickerInstance:function(e){return new s(t.extend({},e,{model:new o(this.model.toJSON())}))},getSettingsInstance:function(e){return new a(t.extend(e,{encoding:this.encoding}))},getPreviewInstance:function(e){return new l(t.extend(e,{encoding:this.encoding}))},getFieldType:function(){return"video"},getFieldLabel:function(){return this.i18n.formatMessage("Media")},getActionsHtml:function(e){var o=this.root.getEmbedded("ev:Brandings/Current"),s=this.model.get("content")&&new r(this.model.get("content")),a=s&&s.getLink("ev:Images/Thumbnail"),l=a?a.href:o.get("thumbnailImageUrlTemplate"),u=new n(l).expand({width:200,height:112});return t.extend(e,{thumbnailUrl:u}),i.prototype.getActionsHtml.call(this,e)}})}),define("text!ev-script/templates/playlist-embed-fixed.html",[],function(){return'<iframe src="<%- src %>" frameborder="0" style="width: <%- width %>px; height: <%- height %>px;" allowfullscreen></iframe>'}),define("text!ev-script/templates/playlist-embed-responsive.html",[],function(){return'<div id="<%- elementId %>" style="<%- wrapstyle %>"><iframe src="<%- src %>" frameborder="0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allowfullscreen></iframe>\n<% if (jswrapper && wrapscript) { %>\n<script type="text/javascript"><%= wrapscript %><\/script>\n<% } %>\n</div>'}),define("ev-script/views/playlist-embed",["require","underscore","urijs/URI","ev-script/views/embed","text!ev-script/templates/playlist-embed-fixed.html","text!ev-script/templates/playlist-embed-responsive.html"],function(e){"use strict";var t=e("underscore"),n=e("urijs/URI"),r=e("ev-script/views/embed");return r.extend({fixedTemplate:t.template(e("text!ev-script/templates/playlist-embed-fixed.html")),responsiveTemplate:t.template(e("text!ev-script/templates/playlist-embed-responsive.html")),initialize:function(e){r.prototype.initialize.call(this,e),t.bindAll(this,"render","getUrl")},getUrl:function(e){var t=this.config.ensembleUrl+"/hapi/v1/ui/Playlists/"+this.model.get("id")+"/Plugin",r=n(t),i=this.model.get("layout"),o=this.model.get("embedtype"),s=this.model.get("categories");return!e||this.config.tpcEnabled&&!this.isTop()||(t+="/preview",r=n(t)),r.addQuery({isPreview:Boolean(e),layout:i,sortBy:this.model.get("sortby"),desc:this.model.get("desc"),search:this.model.get("search"),categories:"-1"===s?"":s,resultsCount:this.model.get("resultscount"),featuredContentId:this.model.get("featuredcontentid"),displayTitle:!0,displayLogo:this.model.get("logo"),displayEmbedCode:this.model.get("embedcode"),displayAttachments:this.model.get("attachments"),displayNotes:this.model.get("notes"),displayLinks:this.model.get("links"),displaySharing:this.model.get("socialsharing"),displayCopyUrl:this.model.get("socialsharing"),autoPlay:this.model.get("autoplay"),displayComments:this.model.get("comments"),showCaptions:this.model.get("showcaptions"),displayMetadata:this.model.get("metadata"),displayCaptionSearch:this.model.get("captionsearch"),audioPreviewImage:this.model.get("audiopreviewimage"),displayViewersReport:this.model.get("viewersreport"),displayAxdxs:this.model.get("axdxs"),isResponsive:"responsive"===o}),r.toString()},render:function(e){var t,n,r,i=this.getUrl(e),o=this.model.get("embedtype");"fixed"===o?(t=this.getFrameWidth(),n=this.getFrameHeight(),r=this.fixedTemplate({src:i,width:t,height:n})):"responsive"===o&&(r=this.responsiveTemplate({elementId:"pl-wrapper-"+this.model.get("id"),src:i,wrapstyle:this.model.get("wrapstyle"),wrapscript:this.model.get("wrapscript"),jswrapper:this.model.get("jswrapper")})),this.$el.html(r)}})}),define("ev-script/views/playlist-preview",["require","ev-script/views/preview","ev-script/views/playlist-embed"],function(e){"use strict";var t=e("ev-script/views/preview"),n=e("ev-script/views/playlist-embed");return t.extend({embedClass:n,render:function(){var e,r;if(this.config.tpcEnabled&&!this.isTop())return t.prototype.render.call(this);e=new n({model:new this.model.constructor(this.model.toJSON()),config:this.config}),r=e.getUrl(!0),window.open(r)}})}),define("text!ev-script/templates/playlist-result.html",[],function(){return'<div class="<%= (index % 2 ? \'odd\' : \'even\') %> result-item">\n    <div class="content-actions">\n        \x3c!--\n        <div class="thumbnail-wrap">\n            <i class="fa fa-list-alt" style="font-size: 75px"></i>\n        </div>\n        --\x3e\n        <div class="action-links">\n            <a class="action-add" href="#" title="<%= i18n.formatMessage(\'Click to choose {0}\', item.get(\'name\')) %>" rel="<%= item.get(\'id\') %>">\n                <i class="fa fa-plus-circle fa-lg"></i><span><%= i18n.formatMessage(\'Choose\') %></span>\n            </a>\n            <a class="action-preview" href="#" title="<%= i18n.formatMessage(\'Click to preview {0}\', item.get(\'name\')) %>" rel="<%= item.get(\'id\') %>">\n                <i class="fa fa-play-circle fa-lg"></i><span><%= i18n.formatMessage(\'Preview\') %></span>\n            </a>\n        </div>\n    </div>\n    <div class="content-meta">\n        <div class="title">\n            <a class="action-preview" title="<%= i18n.formatMessage(\'Click to preview {0}\', item.get(\'name\')) %>" href="#" rel="<%= item.get(\'id\') %>">\n                <% if (item.get(\'isRestricted\')) { print(\'<span class="item-security"><i class="fa fa-lock fa-lg"></i></span>\'); } %>\n                <%= item.get(\'name\') %>\n            </a>\n        </div>\n        <div class="content-info">\n            <% if (showOrgName) { %>\n                <div class="info-row">\n                    <div class="label"><%= i18n.formatMessage(\'Organization\') %></div>\n                    <div class="value"><%= item.get(\'organizationName\') %></div>\n                </div>\n            <% } %>\n            <% if (showLibName) { %>\n                <div class="info-row">\n                    <div class="label"><%= i18n.formatMessage(\'Library\') %></div>\n                    <div class="value"><%= item.get(\'libraryName\') %></div>\n                </div>\n            <% } %>\n        </div>\n    </div>\n</div>\n'}),define("ev-script/views/playlist-results",["require","underscore","jquery","ev-script/views/results","ev-script/models/playlist-settings","ev-script/views/playlist-preview","text!ev-script/templates/playlist-result.html"],function(e){"use strict";var t=e("underscore"),n=(e("jquery"),e("ev-script/views/results")),r=(e("ev-script/models/playlist-settings"),e("ev-script/views/playlist-preview"));return n.extend({resultTemplate:t.template(e("text!ev-script/templates/playlist-result.html")),initialize:function(e){n.prototype.initialize.call(this,e)},refreshHandler:function(e){e.preventDefault(),this.events.trigger("reload","playlists")},getPreviewInstance:function(e){return new r(e)}})}),define("ev-script/models/playlists",["require","ev-script/models/base"],function(e){"use strict";return e("ev-script/models/base").extend({cacheName:"playlists",collectionKey:"playlists"})}),define("ev-script/views/playlist-picker",["require","jquery","underscore","urijs/URITemplate","ev-script/views/picker","ev-script/views/filter","ev-script/views/playlist-results","ev-script/models/playlists"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("urijs/URITemplate"),i=e("ev-script/views/picker"),o=e("ev-script/views/filter"),s=e("ev-script/views/playlist-results"),a=e("ev-script/models/playlists");return i.extend({initialize:function(e){i.prototype.initialize.call(this,e),n.bindAll(this,"loadPlaylists","changeLibrary","handleSubmit","handleSearch"),this.events.off("search",this.handleSearch).on("search",this.handleSearch);var t=n.bind(function(e){"playlists"===e&&this.loadPlaylists()},this);this.events.off("reload",t).on("reload",t),this.filter=new o({id:this.id+"-filter",el:this.$(".ev-filter-block"),picker:this,showTypeSelect:!1}),this.resultsView=new s({el:this.$("div.ev-results"),picker:this}),this.$el.append(this.resultsView.$el)},events:{"click a.action-add":"chooseItem","change .ev-filter-block select.libraries":"changeLibrary","submit .ev-filter-block":"handleSubmit"},changeLibrary:function(e){this.loadPlaylists()},handleSubmit:function(e){this.loadPlaylists(),e.preventDefault()},handleSearch:function(e){e===this.model&&this.loadPlaylists()},showPicker:function(){i.prototype.showPicker.call(this),this.filter.loadOrgs(),this.filter.setFocus()},loadPlaylists:function(){var e=t.trim(this.model.get("search").toLowerCase()),i=new r(this.root.getLink("ev:Playlists/Search").href),o=i.expand({organizationId:this.model.get("organizationId"),libraryId:this.model.get("libraryId"),search:e,sortBy:"name",pageSize:20}),s=new a({},{href:o});this.filter.disable(),s.fetch({picker:this,success:n.bind(function(e,t,n){this.resultsView.model=e,this.resultsView.collection=e.getEmbedded("playlists"),this.resultsView.render()},this),error:n.bind(this.ajaxError,this)}).always(n.bind(function(){this.filter.enable()},this))},getSettingsModelAttributes:function(e){var t,r,o,s,a=e.get("defaultLayout").replace(/^\w/,function(e){return e.toLowerCase()}),l="pl-wrapper-"+e.get("id");switch(a){case"list":case"grid":t=800,r=590,o="position: relative; padding-bottom: 56.25%; padding-top: 132px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;",s='function handleResize() { var e = document.getElementById("'+l+'"); if (null != e) { var i = e.getElementsByTagName("iframe")[0]; if (null != i) { e.style = "width: 100%; height: 100%;"; i.style = "width: 100%; height: 100%;"; var n = e.offsetWidth; e.style.height = n >= 400 ? 56.25 * n / 100 + 140 + "px" : 56.25 * n / 100 + 390 + "px" }}} handleResize(), window.onresize = function (e) { handleResize() };';break;case"listWithPlayer":case"gridWithPlayer":t=700,r=750,o="position: relative; padding-bottom: 56.25%; padding-top: 400px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;",s="";break;case"verticalListWithPlayer":t=1e3,r=390,o="position: relative; padding-bottom: 39%; padding-top: 0px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;",s='function handleResize() { var e = document.getElementById("'+l+'"); if (null != e) { var i = e.getElementsByTagName("iframe")[0]; if (null != i) { e.style = "width: 100%; height: 100%;"; i.style = "width: 100%; height: 100%;"; var n = e.offsetWidth; e.style.height = n >= 822 ? 66.6 * n / 100 * .5625 + 15 + "px" : .5625 * n + 350 + "px" }}} handleResize(), window.onresize = function (e) { handleResize() };';break;case"horizontalListWithPlayer":t=800,r=700,o="position: relative; padding-bottom: 56.25%; padding-top: 300px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;",s="";break;case"showcase":t=1e3,r=590,o="position: relative; padding-bottom: 39%; padding-top: 300px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;",s='function handleResize() { var e = document.getElementById("'+l+'"); if (null != e) { var i = e.getElementsByTagName("iframe")[0]; if (null != i) { e.style = "width: 100%; height: 100%;"; i.style = "width: 100%; height: 100%;"; var n = e.offsetWidth; e.style.height = n >= 822 ? 66.6 * n / 100 * .5625 + 300 + "px" : 66.6 * n / 100 * .5625 + 500 + "px" }}} handleResize(), window.onresize = function (e) { handleResize() };';break;case"horizontalList":t=1e3,r=250,o="position: relative; padding-bottom: 0; padding-top: 300px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;",s="";break;case"loop":t=800,r=455,o="position: relative; padding-bottom: 56.25%; padding-top: 10px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;",s=""}return n.extend(i.prototype.getSettingsModelAttributes.call(this,e),{layout:a,width:t,height:r,wrapstyle:o,wrapscript:s,featuredcontentid:e.get("featuredContentId")})}})}),define("text!ev-script/templates/playlist-settings.html",[],function(){
return'<form>\n    <input type="hidden" name="wrapstyle" id="wrapstyle" class="wrapstyle" value="<%- model.get(\'wrapstyle\') %>" />\n    <input type="hidden" name="wrapscript" id="wrapscript" class="wrapscript" value="<%- model.get(\'wrapscript\') %>" />\n    <div role="group" aria-labelledby="playlistSettingsTitle">\n        <div id="playlistSettingsTitle" style="display:none;"><%= i18n.formatMessage(\'Playlist Embed Options\') %></div>\n        <% if (!model.get(\'forceembedtype\')) { %>\n        <div class="fieldWrap inline mr10">\n            <label for="embedtype"><%= i18n.formatMessage(\'Type\') %></label>\n            <select class="form-select embedtype" id="embedtype" name="embedtype">\n                <option value="responsive" <% if (model.get(\'embedtype\') === \'responsive\') { print(\'selected\'); } %>><%= i18n.formatMessage(\'iFrame Responsive\') %></option>\n                <option value="fixed" <% if (model.get(\'embedtype\') === \'fixed\') { print(\'selected\'); } %>><%= i18n.formatMessage(\'iFrame\') %></option>\n            </select>\n        </div>\n        <% } %>\n        <div class="fieldWrap inline fixedOptionsContainer" <% if (model.get(\'embedtype\') !== \'fixed\') { print(\'style="display: none;"\'); } %> >\n            <label for="width"><%= i18n.formatMessage(\'Width\') %></label>\n            <input type="number" id="width" name="width" class="form-text width mr10" min="1" max="9999" required="true" value="<%= model.get(\'width\') %>" />\n            <label for="height"><%= i18n.formatMessage(\'Height\') %></label>\n            <input type="number" id="height" name="height" class="form-text height" min="1" max="9999" required="true" value="<%= model.get(\'height\') %>" />\n        </div>\n        <div class="fieldWrap inline responsiveOptionsContainer" <% if (model.get(\'embedtype\') !== \'responsive\') { print(\'style="display: none;"\'); } %> >\n            <input id="jswrapper" class="form-checkbox" <% if (model.get(\'jswrapper\')) { print(\'checked="checked"\'); } %> name="jswrapper" type="checkbox"/>\n            <label for="jswrapper"><%= i18n.formatMessage(\'Include Javascript Wrapper\') %></label>\n        </div>\n        <div class="tabs">\n            <ul>\n                <li><a href="#layout"><i class="fa fa-th mr5"></i><span><%= i18n.formatMessage(\'Layout\') %></span></a></li>\n                <li><a href="#filter"><i class="fa fa-filter mr5"></i><span><%= i18n.formatMessage(\'Filter & Sort\') %></span></a></li>\n                <li><a href="#display"><i class="fa fa-eye mr5"></i><span><%= i18n.formatMessage(\'Display\') %></span></a></li>\n            </ul>\n            <div id="layout" class="playlist-layout">\n                <div class="layout-option-row">\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="verticalListWithPlayer" class="form-radio" <% if (model.get(\'layout\') === \'verticalListWithPlayer\') { print(\'checked="checked"\'); } %> name="layout" value="verticalListWithPlayer" type="radio"/>\n                        <label for="verticalListWithPlayer">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/player-vertical-scroller.png\' %>" alt="<%= i18n.formatMessage(\'Player with Vertical Playlist\') %>">\n                            <div><%= i18n.formatMessage(\'Player with Vertical Playlist\') %></div>\n                        </label>\n                    </div>\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="grid" class="form-radio" <% if (model.get(\'layout\') === \'grid\') { print(\'checked="checked"\'); } %> name="layout" value="grid" type="radio"/>\n                        <label for="grid">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/grid.png\' %>" alt="<%= i18n.formatMessage(\'Video Grid Playlist\') %>">\n                            <div><%= i18n.formatMessage(\'Video Grid Playlist\') %></div>\n                        </label>\n                    </div>\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="list" class="form-radio" <% if (model.get(\'layout\') === \'list\') { print(\'checked="checked"\'); } %> name="layout" value="list" type="radio"/>\n                        <label for="list">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/playlist.png\' %>" alt="<%= i18n.formatMessage(\'Vertical Playlist\') %>">\n                            <div><%= i18n.formatMessage(\'Vertical Playlist\') %></div>\n                        </label>\n                    </div>\n                </div>\n                <div class="layout-option-row">\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="horizontalListWithPlayer" class="form-radio" <% if (model.get(\'layout\') === \'horizontalListWithPlayer\') { print(\'checked="checked"\'); } %> name="layout" value="horizontalListWithPlayer" type="radio"/>\n                        <label for="horizontalListWithPlayer">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/player-horiz-scroller.png\' %>" alt="<%= i18n.formatMessage(\'Player above Horizontal Playlist\') %>">\n                            <div><%= i18n.formatMessage(\'Player above Horizontal Playlist\') %></div>\n                        </label>\n                    </div>\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="showcase" class="form-radio" <% if (model.get(\'layout\') === \'showcase\') { print(\'checked="checked"\'); } %> name="layout" value="showcase" type="radio"/>\n                        <label for="showcase">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/showcase.png\' %>" alt="<%= i18n.formatMessage(\'Video Showcase with Categories\') %>">\n                            <div><%= i18n.formatMessage(\'Video Showcase with Categories\') %></div>\n                        </label>\n                    </div>\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="horizontalList" class="form-radio" <% if (model.get(\'layout\') === \'horizontalList\') { print(\'checked="checked"\'); } %> name="layout" value="horizontalList" type="radio"/>\n                        <label for="horizontalList">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/horiz-scroller.png\' %>" alt="<%= i18n.formatMessage(\'Horizontal Playlist\') %>">\n                            <div><%= i18n.formatMessage(\'Horizontal Playlist\') %></div>\n                        </label>\n                    </div>\n                </div>\n                <div class="layout-option-row">\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="listWithPlayer" class="form-radio" <% if (model.get(\'layout\') === \'listWithPlayer\') { print(\'checked="checked"\'); } %> name="layout" value="listWithPlayer" type="radio"/>\n                        <label for="listWithPlayer">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/player-playlist.png\' %>" alt="<%= i18n.formatMessage(\'Player above Vertical Playlist\') %>">\n                            <div><%= i18n.formatMessage(\'Player above Vertical Playlist\') %></div>\n                        </label>\n                    </div>\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="gridWithPlayer" class="form-radio" <% if (model.get(\'layout\') === \'gridWithPlayer\') { print(\'checked="checked"\'); } %> name="layout" value="gridWithPlayer" type="radio"/>\n                        <label for="gridWithPlayer">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/player-grid.png\' %>" alt="<%= i18n.formatMessage(\'Player above Video Grid Playlist\') %>">\n                            <div><%= i18n.formatMessage(\'Player above Video Grid Playlist\') %></div>\n                        </label>\n                    </div>\n                    <div class="fieldWrap inline-option layout-option">\n                        <input id="loop" class="form-radio" <% if (model.get(\'layout\') === \'loop\') { print(\'checked="checked"\'); } %> name="layout" value="loop" type="radio"/>\n                        <label for="loop">\n                            <img src="<%= config.imagePath + \'/playlist/layouts/looping-playlist.png\' %>" alt="<%= i18n.formatMessage(\'Looping Video Playlist\') %>">\n                            <div><%= i18n.formatMessage(\'Looping Video Playlist\') %></div>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div id="filter" class="playlist-filter">\n                <h4><%= i18n.formatMessage(\'Filter By\') %></h4>\n                <div>\n                    <div class="fieldWrap">\n                        <label for="search"><%= i18n.formatMessage(\'Search String\') %></label>\n                        <input id="search" class="form-text" name="search" value="<%- model.get(\'search\') %>" type="text"/>\n                    </div>\n                    <div class="fieldWrap">\n                        <label for="categories"><%= i18n.formatMessage(\'Categories\') %></label>\n                        <select id="categories" class="form-select" name="categories" multiple>\n                            <option value="-1" <% if (!model.get(\'categories\')) { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'All Categories\') %></option>\n                            <% categories.each(function(category) { %>\n                                <option value="<%= category.id %>" <% if (model.get(\'categories\') && _.contains(model.get(\'categories\').split(\',\'), category.id)) { print(\'selected="selected"\'); } %>><%- category.get(\'name\') %></option>\n                            <% }); %>\n                        </select>\n                    </div>\n                    <div class="fieldWrap">\n                        <label for="resultscount"><%= i18n.formatMessage(\'Number of Results\') %></label>\n                        <input id="resultscount" class="form-text" name="resultscount" value="<%- model.get(\'resultscount\') %>" type="text"/>\n                    </div>\n                </div>\n                <h4><label for="sortby"><%= i18n.formatMessage(\'Sort By\') %></label></h4>\n                <div class="fieldWrap sort-group">\n                    <select id="sortby" class="form-select">\n                        <option value="DateAdded" <% if (model.get(\'sortby\') === \'DateAdded\') { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'Date Added\') %></option>\n                        <option value="DateProduced" <% if (model.get(\'sortby\') === \'DateProduced\') { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'Date Produced\') %></option>\n                        <option value="Description" <% if (model.get(\'sortby\') === \'Description\') { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'Description\') %></option>\n                        <option value="Name" <% if (model.get(\'sortby\') === \'Name\') { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'Title\') %></option>\n                        <option value="Duration" <% if (model.get(\'sortby\') === \'Duration\') { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'Duration\') %></option>\n                        <option value="Keywords" <% if (model.get(\'sortby\') === \'Keywords\') { print(\'selected="selected"\'); } %>><%= i18n.formatMessage(\'Keywords\') %></option>\n                        \x3c!-- <option value="videoCustomPosition">Custom Order</option> --\x3e\n                    </select>\n                    <input id="sortAsc" class="form-radio" <% if (!model.get(\'desc\')) { print(\'checked="checked"\'); } %> name="sortDirection" value="asc" type="radio"/>\n                    <label for="sortAsc"><%= i18n.formatMessage(\'Ascending\') %></label>\n                    <input id="sortDesc" class="form-radio" <% if (model.get(\'desc\')) { print(\'checked="checked"\'); } %> name="sortDirection" value="desc" type="radio"/>\n                    <label for="sortDesc"><%= i18n.formatMessage(\'Descending\') %></label>\n                </div>\n            </div>\n            <div id="display" class="playlist-display">\n                <div class="fieldWrap checkbox-option">\n                    <input id="notes" class="form-checkbox" <% if (model.get(\'notes\')) { print(\'checked="checked"\'); } %> name="notes" type="checkbox"/>\n                    <label for="notes"><%= i18n.formatMessage(\'Notes\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="showcaptions" class="form-checkbox" <% if (model.get(\'showcaptions\')) { print(\'checked="checked"\'); } %>  name="showcaptions" type="checkbox"/>\n                    <label for="showcaptions"><%= i18n.formatMessage(\'Captions "On" By Default\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="captionsearch" class="form-checkbox" <% if (model.get(\'captionsearch\')) { print(\'checked="checked"\'); } %> name="captionsearch" type="checkbox"/>\n                    <label for="captionsearch"><%= i18n.formatMessage(\'Interactive Transcript\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="socialsharing" class="form-checkbox" <% if (!isSecure && model.get(\'socialsharing\')) { print(\'checked="checked"\'); } %> name="socialsharing" type="checkbox" <% if (isSecure) { print(\'disabled\') } %> />\n                    <label for="socialsharing"><%= i18n.formatMessage(\'Social Sharing & Links\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="showtitle" class="form-checkbox" checked="checked" disabled="disabled" name="showtitle" type="checkbox"/>\n                    <label for="showtitle"><%= i18n.formatMessage(\'Title\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="viewersreport" class="form-checkbox" <% if (model.get(\'viewersreport\')) { print(\'checked="checked"\'); } %>  name="viewersreport" type="checkbox"/>\n                    <label for="viewersreport"><%= i18n.formatMessage(\'Viewers Report\') %></label>\n                </div>\n                <h4><%= i18n.formatMessage(\'Additional Settings\') %></h4>\n                <div class="fieldWrap checkbox-option">\n                    <input id="axdxs" class="form-checkbox" <% if (model.get(\'axdxs\')) { print(\'checked="checked"\'); } %> name="axdxs" type="checkbox"/>\n                    <label for="axdxs"><%= i18n.formatMessage(\'Ads\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="attachments" class="form-checkbox" <% if (model.get(\'attachments\')) { print(\'checked="checked"\'); } %> name="attachments" type="checkbox"/>\n                    <label for="attachments"><%= i18n.formatMessage(\'Attachments\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="audiopreviewimage" class="form-checkbox" <% if (model.get(\'audiopreviewimage\')) { print(\'checked="checked"\'); } %> name="audiopreviewimage" type="checkbox"/>\n                    <label for="audiopreviewimage"><%= i18n.formatMessage(\'Audio Preview Image\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="autoplay" class="form-checkbox" <% if (model.get(\'autoplay\')) { print(\'checked="checked"\'); } %>  name="autoplay" type="checkbox"/>\n                    <label for="autoplay"><%= i18n.formatMessage(\'Auto Play (PC Only)\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="comments" class="form-checkbox" <% if (model.get(\'comments\')) { print(\'checked="checked"\'); } %>  name="comments" type="checkbox"/>\n                    <label for="comments"><%= i18n.formatMessage(\'Comments\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="embedcode" class="form-checkbox" <% if (!isSecure && model.get(\'embedcode\')) { print(\'checked="checked"\'); } %> name="embedcode" type="checkbox" <% if (isSecure) { print(\'disabled\') } %> />\n                    <label for="embedcode"><%= i18n.formatMessage(\'Embed Code\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="links" class="form-checkbox" <% if (model.get(\'links\')) { print(\'checked="checked"\'); } %> name="links" type="checkbox"/>\n                    <label for="links"><%= i18n.formatMessage(\'Links\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="logo" class="form-checkbox" <% if (model.get(\'logo\')) { print(\'checked="checked"\'); } %> name="logo" type="checkbox"/>\n                    <label for="logo"><%= i18n.formatMessage(\'Logo\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="metadata" class="form-checkbox" <% if (model.get(\'metadata\')) { print(\'checked="checked"\'); } %> name="metadata" type="checkbox"/>\n                    <label for="metadata"><%= i18n.formatMessage(\'Meta Data\') %></label>\n                </div>\n                <div class="fieldWrap checkbox-option">\n                    <input id="nextup" class="form-checkbox" <% if (model.get(\'nextup\')) { print(\'checked="checked"\'); } %> <% if (model.get(\'layout\') !== \'loop\') { print(\'disabled="disabled"\'); } %> name="nextup" type="checkbox"/>\n                    <label for="nextup"><%= i18n.formatMessage(\'Display Next Up\') %></label>\n                </div>\n            </div>\n        </div>\n        <div class="form-actions">\n            <button type="submit" class="form-submit action-submit" value="Submit"><i class="fa fa-save"></i><span><%= i18n.formatMessage(\'Save\') %></span></button>\n            <button type="button" class="form-submit action-cancel" value="Cancel"><i class="fa fa-times"></i><span><%= i18n.formatMessage(\'Cancel\') %></span></button>\n        </div>\n    </div>\n</form>\n'}),define("ev-script/views/playlist-settings",["require","jquery","underscore","ev-script/views/settings","ev-script/collections/base","jquery-ui/ui/widgets/dialog","jquery-ui/ui/widgets/tabs","text!ev-script/templates/playlist-settings.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("ev-script/views/settings"),i=e("ev-script/collections/base");return e("jquery-ui/ui/widgets/dialog"),e("jquery-ui/ui/widgets/tabs"),r.extend({template:n.template(e("text!ev-script/templates/playlist-settings.html")),initialize:function(e){r.prototype.initialize.call(this,e),n.bindAll(this,"changeLayout","changeCategoryList","changeEmbedType"),this.categories=e.categories,this.categories.on("reset",n.bind(function(){this.render()},this))},events:{submit:"submitHandler","click .action-cancel":"cancelHandler",'change select[name="embedtype"]':"changeEmbedType",'change input[name="layout"]':"changeLayout",'change input[name="categoryList"]':"changeCategoryList"},updateModel:function(){var e=this.field.model.get("content"),r=[],i={width:this.$(".width").val(),height:this.$(".height").val(),embedtype:this.$("#embedtype").val(),layout:this.$('input[name="layout"]:checked').val(),notes:this.$("#notes").is(":checked"),showcaptions:this.$("#showcaptions").is(":checked"),captionsearch:this.$("#captionsearch").is(":checked"),socialsharing:(!e||!e.isRestricted)&&this.$("#socialsharing").is(":checked"),viewersreport:this.$("#viewersreport").is(":checked"),axdxs:this.$("#axdxs").is(":checked"),attachments:this.$("#attachments").is(":checked"),audiopreviewimage:this.$("#audiopreviewimage").is(":checked"),autoplay:this.$("#autoplay").is(":checked"),comments:this.$("#comments").is(":checked"),logo:this.$("#logo").is(":checked"),metadata:this.$("#metadata").is(":checked"),embedcode:(!e||!e.isRestricted)&&this.$("#embedcode").is(":checked"),links:this.$("#links").is(":checked"),nextup:this.$("#nextup").is(":checked"),jswrapper:this.$("#jswrapper").is(":checked"),wrapstyle:this.$("#wrapstyle").val(),wrapscript:this.$("#wrapscript").val()};this.$("#categories option:selected").each(function(e,n){var i=t(n).val();if(-1===i)return r=[],!1;r.push(i)}),n.extend(i,{sortby:this.$("#sortby option:selected").val(),desc:"desc"===this.$('input[name="sortDirection"]:checked').val(),search:this.$("#search").val(),categories:r.join(","),resultscount:this.$("#resultscount").val()}),this.field.model.set(i)},render:function(){var e=this.field.model.get("content");this.$el.html(this.template({appInfo:this.info,config:this.config,i18n:this.i18n,model:this.field.model,isSecure:e&&e.isRestricted,categories:this.categories||new i([],{}),_:n})),this.$(".tabs").tabs(),this.$el.dialog({title:this.unencode(e?e.name:this.field.model.get("id")),modal:!0,autoOpen:!1,draggable:!1,resizable:!1,dialogClass:"ev-dialog",width:Math.min(680,t(window).width()-this.config.dialogMargin),height:Math.min(540,t(window).height()-this.config.dialogMargin),closeText:this.i18n.formatMessage("Close")})},changeLayout:function(e){var t=e.currentTarget.value,n="pl-wrapper-"+this.field.model.get("id"),r="responsive"===this.field.model.get("embedtype");switch("loop"===t?this.$("#nextup").prop("disabled",!1):this.$("#nextup").prop("disabled",!0),t){case"list":case"grid":this.$(".width").val(800),this.$(".height").val(590),this.$("#wrapstyle").val("position: relative; padding-bottom: 56.25%; padding-top: 132px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"),this.$("#wrapscript").val('function handleResize() { var e = document.getElementById("'+n+'"); if (null != e) { var i = e.getElementsByTagName("iframe")[0]; if (null != i) { e.style = "width: 100%; height: 100%;"; i.style = "width: 100%; height: 100%;"; var n = e.offsetWidth; e.style.height = n >= 400 ? 56.25 * n / 100 + 140 + "px" : 56.25 * n / 100 + 390 + "px" }}} handleResize(), window.onresize = function (e) { handleResize() };'),r&&this.$(".responsiveOptionsContainer").show();break;case"listWithPlayer":case"gridWithPlayer":this.$(".width").val(700),this.$(".height").val(750),this.$("#wrapstyle").val("position: relative; padding-bottom: 56.25%; padding-top: 400px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"),this.$("#wrapscript").val(""),this.$(".responsiveOptionsContainer").hide();break;case"verticalListWithPlayer":this.$(".width").val(1e3),this.$(".height").val(390),this.$("#wrapstyle").val("position: relative; padding-bottom: 39%; padding-top: 0px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"),this.$("#wrapscript").val('function handleResize() { var e = document.getElementById("'+n+'"); if (null != e) { var i = e.getElementsByTagName("iframe")[0]; if (null != i) { e.style = "width: 100%; height: 100%;"; i.style = "width: 100%; height: 100%;"; var n = e.offsetWidth; e.style.height = n >= 822 ? 66.6 * n / 100 * .5625 + 15 + "px" : .5625 * n + 350 + "px" }}} handleResize(), window.onresize = function (e) { handleResize() };'),r&&this.$(".responsiveOptionsContainer").show();break;case"horizontalListWithPlayer":this.$(".width").val(800),this.$(".height").val(700),this.$("#wrapstyle").val("position: relative; padding-bottom: 56.25%; padding-top: 300px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"),this.$("#wrapscript").val(""),this.$(".responsiveOptionsContainer").hide();break;case"showcase":this.$(".width").val(1e3),this.$(".height").val(590),this.$("#wrapstyle").val("position: relative; padding-bottom: 39%; padding-top: 300px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"),this.$("#wrapscript").val('function handleResize() { var e = document.getElementById("'+n+'"); if (null != e) { var i = e.getElementsByTagName("iframe")[0]; if (null != i) { e.style = "width: 100%; height: 100%;"; i.style = "width: 100%; height: 100%;"; var n = e.offsetWidth; e.style.height = n >= 822 ? 66.6 * n / 100 * .5625 + 300 + "px" : 66.6 * n / 100 * .5625 + 500 + "px" }}} handleResize(), window.onresize = function (e) { handleResize() };'),r&&this.$(".responsiveOptionsContainer").show();break;case"horizontalList":this.$(".width").val(1e3),this.$(".height").val(250),this.$("#wrapstyle").val("position: relative; padding-bottom: 0; padding-top: 300px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"),this.$("#wrapscript").val(""),this.$(".responsiveOptionsContainer").hide();break;case"loop":this.$(".width").val(800),this.$(".height").val(455),this.$("#wrapstyle").val("position: relative; padding-bottom: 56.25%; padding-top: 10px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"),this.$("#wrapscript").val(""),this.$(".responsiveOptionsContainer").hide()}},changeCategoryList:function(e){t(e.currentTarget).is(":checked")?(this.$("#categoryOrientationHorizontal").prop("disabled",!1),this.$("#categoryOrientationVertical").prop("disabled",!1)):(this.$("#categoryOrientationHorizontal").prop("disabled",!0),this.$("#categoryOrientationVertical").prop("disabled",!0))},changeEmbedType:function(e){var t=e.currentTarget.value,r=this.$('input[name="layout"]:checked').val(),i=["verticalListWithPlayer","grid","list","showcase"];if("fixed"===t)this.$(".fixedOptionsContainer").show(),this.$(".responsiveOptionsContainer").hide();else{if("responsive"!==t)throw"Unrecognized embedtype: '"+t+"'";this.$(".fixedOptionsContainer").hide(),n.contains(i,r)?this.$(".responsiveOptionsContainer").show():this.$(".responsiveOptionsContainer").hide()}}})}),define("ev-script/models/categories",["require","ev-script/models/base"],function(e){"use strict";return e("ev-script/models/base").extend({cacheName:"categories",collectionKey:"categories"})}),define("ev-script/views/playlist-field",["require","jquery","underscore","urijs/URITemplate","ev-script/views/field","ev-script/collections/base","ev-script/models/playlist-settings","ev-script/views/playlist-picker","ev-script/views/playlist-settings","ev-script/views/playlist-preview","ev-script/models/categories"],function(e){"use strict";var t=(e("jquery"),e("underscore")),n=e("urijs/URITemplate"),r=e("ev-script/views/field"),i=e("ev-script/collections/base"),o=e("ev-script/models/playlist-settings"),s=e("ev-script/views/playlist-picker"),a=e("ev-script/views/playlist-settings"),l=e("ev-script/views/playlist-preview"),u=e("ev-script/models/categories");return r.extend({initialize:function(e){r.prototype.initialize.call(this,e),t.bindAll(this,"getCategorySearchUrl")},getCategorySearchUrl:function(){var e=this.model.get("content"),t=e._links["ev:PlaylistCategory/Search"],r=t?t.href:null,i=r?new n(r):null;return i?i.expand({}):null},initCallback:function(){var e=t.bind(function(n,r){if(n){new u({},{href:n}).fetch({picker:this.picker,success:t.bind(function(t,n,i){var o=t.getLink("next"),s=t.getEmbedded(t.collectionKey);s&&r.add(s.models),o?e(o.href):r.trigger("reset")},this),error:t.bind(this.ajaxError,this)})}},this);this.categories=new i(null,{}),this.model.isNew()||e(this.getCategorySearchUrl(),this.categories),this.model.on("change",t.bind(function(){this.model.changed.id&&(this.categories.reset([],{silent:!0}),this.model.isNew()||e(this.getCategorySearchUrl(),this.categories)),this.model.isNew()||this.updateField()},this))},getPickerInstance:function(e){return new s(t.extend({},e,{model:new o(this.model.toJSON())}))},getSettingsInstance:function(e){return new a(t.extend(e,{categories:this.categories}))},getPreviewInstance:function(e){return new l(e)},getFieldType:function(){return"playlist"},getFieldLabel:function(){return this.i18n.formatMessage("Playlist")}})}),define("text!ev-script/templates/dropbox-embed-fixed.html",[],function(){return'<iframe src="<%- src %>" title="<%- title %>" frameborder="0" width="<%- width %>" height="<%- height %>" allowfullscreen></iframe>'}),define("text!ev-script/templates/dropbox-embed-responsive.html",[],function(){return'<div style="display:table; width:100%; height:100%;"><iframe src="<%- src %>" title="<%- title %>" frameborder="0" style="width: 100%; height: 720px;" scrolling="scroll" allowfullscreen></iframe></div>'}),define("text!ev-script/templates/dropbox-embed-legacy.html",[],function(){return'<a href="<%- src %>" target="_blank"><%- title %></a>'}),define("ev-script/views/dropbox-embed",["require","underscore","ev-script/views/embed","ev-script/views/video-embed","ev-script/util/size","text!ev-script/templates/dropbox-embed-fixed.html","text!ev-script/templates/dropbox-embed-responsive.html","text!ev-script/templates/dropbox-embed-legacy.html"],function(e){"use strict";var t=e("underscore"),n=e("ev-script/views/embed");e("ev-script/views/video-embed"),e("ev-script/util/size");return n.extend({fixedTemplate:t.template(e("text!ev-script/templates/dropbox-embed-fixed.html")),responsiveTemplate:t.template(e("text!ev-script/templates/dropbox-embed-responsive.html")),legacytemplate:t.template(e("text!ev-script/templates/dropbox-embed-legacy.html")),initialize:function(e){t.bindAll(this,"render","getUrl","isEmbedSupported"),n.prototype.initialize.call(this,e)},isEmbedSupported:function(){return this.info.checkVersion("5.3.0",">=")},getMediaWidth:function(){return parseInt(this.model.get("width"),10)},getMediaHeight:function(){var e=this.model.get("content")||{},t=parseInt(this.model.get("width"),10),n=parseInt(this.model.get("height"),10);return t<768&&(e.showDescription&&(n+=150),e.showKeywords&&(n+=150)),n},getFrameWidth:function(){return this.getMediaWidth()},getFrameHeight:function(){return this.getMediaHeight()},getUrl:function(e){return this.isEmbedSupported()&&(this.config.tpcEnabled&&!this.isTop()||!e)?this.config.ensembleUrl+"/hapi/v1/ui/dropboxes/"+this.model.get("id")+"/embed":this.model.get("content").url},scale:function(e,t){this.model.set("width",Math.min(this.getFrameWidth(),e)),this.model.set("height",Math.min(this.getFrameHeight(),t))},render:function(e){var t,n=this.model.get("embedtype"),r=this.model.get("content").name;this.isEmbedSupported()?"fixed"===n?t=this.fixedTemplate({src:this.getUrl(),title:r,width:e?this.model.get("width"):this.getFrameWidth(),height:e?this.model.get("height"):this.getFrameHeight()}):"responsive"===n&&(t=this.responsiveTemplate({src:this.getUrl(),title:r})):t=this.legacyTemplate({src:this.getUrl(),title:this.model.get("content").name}),this.$el.html(t)}})}),define("ev-script/views/dropbox-preview",["require","ev-script/views/preview","ev-script/views/dropbox-embed"],function(e){"use strict";var t=e("ev-script/views/preview"),n=e("ev-script/views/dropbox-embed");return t.extend({embedClass:n,render:function(){var e,r;this.info.checkVersion("5.3.0","<")||!this.config.tpcEnabled||this.isTop()?(e=new n({model:new this.model.constructor(this.model.toJSON()),config:this.config}),r=e.getUrl(!0),window.open(r)):t.prototype.render.call(this)}})}),define("text!ev-script/templates/dropbox-result.html",[],function(){
return'<div class="<%= (index % 2 ? \'odd\' : \'even\') %> result-item">\n    <div class="content-actions">\n        <div class="thumbnail-wrap">\n            <i class="fa fa-dropbox" style="font-size: 75px"></i>\n        </div>\n        <div class="action-links">\n            <a class="action-add" href="#" title="<%= i18n.formatMessage(\'Click to choose {0}\', item.get(\'name\')) %>" rel="<%= item.get(\'id\') %>">\n                <i class="fa fa-plus-circle fa-lg"></i><span><%= i18n.formatMessage(\'Choose\') %></span>\n            </a>\n            <a class="action-preview" href="#" title="<%= i18n.formatMessage(\'Click to preview {0}\', item.get(\'name\')) %>" rel="<%= item.get(\'id\') %>">\n                <i class="fa fa-play-circle fa-lg"></i><span><%= i18n.formatMessage(\'Preview\') %></span>\n            </a>\n        </div>\n    </div>\n    <div class="content-meta">\n        <div class="title">\n            <a class="action-preview" title="<%= i18n.formatMessage(\'Click to preview {0}\', item.get(\'name\')) %>" href="#" rel="<%= item.get(\'id\') %>">\n                <% if (item.get(\'isRestricted\')) { print(\'<span class="item-security"><i class="fa fa-lock fa-lg"></i></span>\'); } %>\n                <%= item.get(\'name\') %>\n            </a>\n            <% if (item.get(\'url\')) { %>\n                <a class="url" href="<%= item.get(\'url\') %>" target="_blank"><%= item.get(\'url\') %></a>\n            <% } %>\n        </div>\n        <div class="content-info">\n            <div class="info-row trunc">\n                <div class="label"><%= i18n.formatMessage(\'Description\') %></div>\n                <div class="value"><%= item.get(\'description\') %></div>\n            </div>\n            <div class="info-row">\n                <div class="label"><%= i18n.formatMessage(\'Date Produced\') %></div>\n                <div class="value">\n                    <%\n                        var dateCreated = new Date(item.get(\'createdOn\')),\n                            localDate = dateCreated.setMinutes(dateCreated.getMinutes() - dateCreated.getTimezoneOffset());\n                        print(moment(localDate).format(dateTimeFormat));\n                    %>\n                </div>\n            </div>\n            <div class="info-row">\n                <div class="label"><%= i18n.formatMessage(\'Enabled\') %></div>\n                <div class="value">\n                    <% if (item.get(\'isEnabled\')) { %>\n                        <i class="fa fa-check" style="color: green"></i>\n                    <% } else { %>\n                        <i class="fa fa-times" style="color: red"></i>\n                    <% } %>\n                </div>\n            </div>\n            <div class="info-row">\n                <div class="label"><%= i18n.formatMessage(\'Public\') %></div>\n                <div class="value">\n                    <% if (item.get(\'isPublic\')) { %>\n                        <i class="fa fa-check" style="color: green"></i>\n                    <% } else { %>\n                        <i class="fa fa-times" style="color: red"></i>\n                    <% } %>\n                </div>\n            </div>\n            <% if (item.get(\'availableAfter\')) { %>\n                <div class="info-row">\n                    <div class="label"><%= i18n.formatMessage(\'Available After\') %></div>\n                    <div class="value" style="color: <%= item.get(\'currentAvailability\').after ? \'green\' : \'red\' %>">\n                        <%\n                            var availableAfter = new Date(item.get(\'availableAfter\')),\n                                localDate = availableAfter.setMinutes(availableAfter.getMinutes() - availableAfter.getTimezoneOffset());\n                            print(moment(localDate).format(dateTimeFormat));\n                        %>\n                    </div>\n                </div>\n            <% } %>\n            <% if (item.get(\'availableUntil\')) { %>\n                <div class="info-row">\n                    <div class="label"><%= i18n.formatMessage(\'Available Until\') %></div>\n                    <div class="value" style="color: <%= item.get(\'currentAvailability\').until ? \'green\' : \'red\' %>">\n                        <%\n                            var availableUntil = new Date(item.get(\'availableUntil\')),\n                                localDate = availableUntil.setMinutes(availableUntil.getMinutes() - availableUntil.getTimezoneOffset());\n                            print(moment(localDate).format(dateTimeFormat));\n                        %>\n                    </div>\n                </div>\n            <% } %>\n        </div>\n    </div>\n</div>\n'}),define("ev-script/views/dropbox-results",["require","underscore","jquery","ev-script/views/results","ev-script/models/dropbox-settings","ev-script/views/dropbox-preview","text!ev-script/templates/dropbox-result.html"],function(e){"use strict";var t=e("underscore"),n=(e("jquery"),e("ev-script/views/results")),r=(e("ev-script/models/dropbox-settings"),e("ev-script/views/dropbox-preview"));return n.extend({resultTemplate:t.template(e("text!ev-script/templates/dropbox-result.html")),initialize:function(e){n.prototype.initialize.call(this,e)},refreshHandler:function(e){e.preventDefault(),this.events.trigger("reload","dropboxes")},getPreviewInstance:function(e){return new r(e)}})}),define("ev-script/models/dropboxes",["require","ev-script/models/base"],function(e){"use strict";return e("ev-script/models/base").extend({cacheName:"dropboxes",collectionKey:"dropboxes"})}),define("ev-script/views/dropbox-picker",["require","jquery","underscore","urijs/URITemplate","ev-script/views/picker","ev-script/views/filter","ev-script/views/dropbox-results","ev-script/models/dropboxes"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("urijs/URITemplate"),i=e("ev-script/views/picker"),o=e("ev-script/views/filter"),s=e("ev-script/views/dropbox-results"),a=e("ev-script/models/dropboxes");return i.extend({initialize:function(e){i.prototype.initialize.call(this,e),n.bindAll(this,"loadDropboxes","changeLibrary","handleSubmit","handleSearch"),this.events.off("search",this.handleSearch).on("search",this.handleSearch);var t=n.bind(function(e){"dropboxes"===e&&this.loadDropboxes()},this);this.events.off("reload",t).on("reload",t),this.filter=new o({id:this.id+"-filter",el:this.$(".ev-filter-block"),picker:this,showTypeSelect:!1}),this.resultsView=new s({el:this.$("div.ev-results"),picker:this}),this.$el.append(this.resultsView.$el)},events:{"click a.action-add":"chooseItem","change .ev-filter-block select.libraries":"changeLibrary","submit .ev-filter-block":"handleSubmit"},changeLibrary:function(e){this.loadDropboxes()},handleSubmit:function(e){this.loadDropboxes(),e.preventDefault()},handleSearch:function(e){e===this.model&&this.loadDropboxes()},showPicker:function(){i.prototype.showPicker.call(this),this.filter.loadOrgs(),this.filter.setFocus()},loadDropboxes:function(){var e=t.trim(this.model.get("search").toLowerCase()),i=new r(this.root.getLink("ev:Dropboxes/Search").href),o=i.expand({organizationId:this.model.get("organizationId"),libraryId:this.model.get("libraryId"),search:e,sortBy:"name",pageSize:20}),s=new a({},{href:o});this.filter.disable(),s.fetch({picker:this,success:n.bind(function(e,t,n){this.resultsView.model=e,this.resultsView.collection=e.getEmbedded("dropboxes"),this.resultsView.render()},this),error:n.bind(this.ajaxError,this)}).always(n.bind(function(){this.filter.enable()},this))}})}),define("text!ev-script/templates/dropbox-settings.html",[],function(){return'<form class="dropbox-settings">\n    <div role="group" aria-labelledby="dropboxSettingsTitle">\n        <div id="dropboxSettingsTitle" style="display:none;"><%= i18n.formatMessage(\'Dropbox Embed Options\') %></div>\n        <div>\n            <% if (!model.get(\'forceembedtype\')) { %>\n            <div class="fieldWrap inline-option">\n                <label for="embedtype"><%= i18n.formatMessage(\'Type\') %></label>\n                <select class="form-select embedtype" id="embedtype" name="embedtype">\n                    <option value="responsive" <% if (model.get(\'embedtype\') === \'responsive\') { print(\'selected\'); } %>><%= i18n.formatMessage(\'iFrame Responsive\') %></option>\n                    <option value="fixed" <% if (model.get(\'embedtype\') === \'fixed\') { print(\'selected\'); } %>><%= i18n.formatMessage(\'iFrame\') %></option>\n                </select>\n            </div>\n            <% } %>\n            <div class="fieldWrap sizeWrap inline-option" <% if (model.get(\'embedtype\') === \'responsive\') { print(\'style="display:none;"\'); } %>>\n                <label for="size"><%= i18n.formatMessage(\'Size\') %></label>\n                <select class="form-select size" id="size" name="size">\n                    <option value="original"><%= i18n.formatMessage(\'Original\') %></option>\n                </select>\n            </div>\n        </div>\n        <div class="form-actions">\n            <button type="submit" class="form-submit action-submit" value="Submit"><i class="fa fa-save"></i><span><%= i18n.formatMessage(\'Save\') %></span></button>\n            <button type="button" class="form-submit action-cancel" value="Cancel"><i class="fa fa-times"></i><span><%= i18n.formatMessage(\'Cancel\') %></span></button>\n        </div>\n    </div>\n</form>\n'}),define("ev-script/views/dropbox-settings",["require","jquery","underscore","ev-script/views/settings","ev-script/util/size","ev-script/models/dropbox-settings","jquery-ui/ui/widgets/dialog","text!ev-script/templates/dropbox-settings.html","text!ev-script/templates/sizes.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("ev-script/views/settings"),i=e("ev-script/util/size"),o=e("ev-script/models/dropbox-settings");return e("jquery-ui/ui/widgets/dialog"),r.extend({template:n.template(e("text!ev-script/templates/dropbox-settings.html")),sizesTemplate:n.template(e("text!ev-script/templates/sizes.html")),updateModel:function(){var e,t={embedtype:this.$("#embedtype").val()},r=this.$("#size").val(),s="original"===r,a=this.field.model.get("type"),l=(new o).get("width");r&&!s||(r=i.findClosestDimension(l,a)),e=r.split("x"),n.extend(t,{width:parseInt(e[0],10),height:parseInt(e[1],10)}),this.field.model.set(t)},render:function(){var e=this.field.model.get("width"),n=[],r=this.field.model.get("type");this.$el.html(this.template({appInfo:this.info,i18n:this.i18n,model:this.field.model})),n=i.getAvailableDimensions(r),this.$(".size").append(this.sizesTemplate({sizes:n,target:i.findClosestDimension(e,r)}));var o=this.field.model.get("content");this.$el.dialog({title:this.unencode(o?o.name:this.field.model.get("id")),modal:!0,autoOpen:!1,draggable:!1,resizable:!1,dialogClass:"ev-dialog",width:Math.min(680,t(window).width()-this.config.dialogMargin),height:Math.min(300,t(window).height()-this.config.dialogMargin),closeText:this.i18n.formatMessage("Close")})}})}),define("ev-script/views/dropbox-field",["require","jquery","underscore","ev-script/views/field","ev-script/models/dropbox-settings","ev-script/views/dropbox-picker","ev-script/views/dropbox-settings","ev-script/views/dropbox-preview"],function(e){"use strict";var t=(e("jquery"),e("underscore")),n=e("ev-script/views/field"),r=e("ev-script/models/dropbox-settings"),i=e("ev-script/views/dropbox-picker"),o=e("ev-script/views/dropbox-settings"),s=e("ev-script/views/dropbox-preview");return n.extend({initialize:function(e){n.prototype.initialize.call(this,e)},initCallback:function(){this.model.on("change",t.bind(function(){this.model.isNew()||this.updateField()},this))},getPickerInstance:function(e){return new i(t.extend({},e,{model:new r(this.model.toJSON())}))},getSettingsInstance:function(e){return new o(e)},getPreviewInstance:function(e){return new s(e)},getFieldType:function(){return"dropbox"},getFieldLabel:function(){return this.i18n.formatMessage("Dropbox")}})}),define("ev-script/models/video",["require","ev-script/models/base"],function(e){"use strict";return e("ev-script/models/base").extend({cacheName:"videos"})}),define("text!ev-script/templates/quiz-embed-fixed.html",[],function(){return'<iframe src="<%- src %>" frameborder="0" style="width:<%- width %>px;height:<%- height %>px;" width="<%- width %>" height="<%- height %>" allowfullscreen></iframe>'}),define("text!ev-script/templates/quiz-embed-responsive.html",[],function(){return'<div style="position: relative; padding-bottom: 56.25%; padding-top: 0px; height: 0; overflow: auto; -webkit-overflow-scrolling: touch;"><iframe src="<%- src %>" frameborder="0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" scrolling="no" allowfullscreen></iframe></div>'}),define("ev-script/views/quiz-embed",["require","underscore","urijs/URI","ev-script/views/embed","ev-script/views/video-embed","text!ev-script/templates/quiz-embed-fixed.html","text!ev-script/templates/quiz-embed-responsive.html"],function(e){"use strict";var t=e("underscore"),n=e("urijs/URI"),r=e("ev-script/views/embed"),i=e("ev-script/views/video-embed");return r.extend({fixedTemplate:t.template(e("text!ev-script/templates/quiz-embed-fixed.html")),responsiveTemplate:t.template(e("text!ev-script/templates/quiz-embed-responsive.html")),initialize:function(e){t.bindAll(this,"render","getUrl"),r.prototype.initialize.call(this,e)},getUrl:function(e,t,r){var i=this.model.get("content").key,o=n(this.config.ensembleUrl);return o.path("/hapi/v1/quiz/"+i+(r?"/preview":"/plugin")),o.addQuery({displayTitle:this.model.get("showtitle"),displayAttachments:this.model.get("attachments"),displayLinks:this.model.get("links"),displayMetaData:this.model.get("metadata"),displayCredits:this.model.get("metadata"),showCaptions:this.model.get("showcaptions")}),o.toString()},getMediaWidth:function(){return parseInt(this.model.get("width"),10)||848},getMediaHeight:function(){return parseInt(this.model.get("height"),10)||480},getFrameWidth:function(){return this.getMediaWidth()},getFrameHeight:function(){return this.getMediaHeight()},scale:function(e,t){return i.prototype.scale.call(this,e,t)},render:function(e){return i.prototype.render.call(this,e)}})}),define("ev-script/views/quiz-preview",["require","ev-script/views/preview","ev-script/views/quiz-embed"],function(e){"use strict";var t=e("ev-script/views/preview"),n=e("ev-script/views/quiz-embed");return t.extend({embedClass:n,render:function(){var e=new n({model:new this.model.constructor(this.model.toJSON())}),t=e.getUrl(this.model.get("width"),this.model.get("height"),!0);window.open(t)}})}),define("text!ev-script/templates/quiz-result.html",[],function(){return'<div class="<%= (index % 2 ? \'odd\' : \'even\') %> result-item">\n    <div class="content-actions">\n        <div class="thumbnail-wrap">\n            <img class="thumbnail" src="<%= item.getThumbnailUrl() %>" alt="<%= i18n.formatMessage(\'{0} preview thumbnail\', item.get(\'name\')) %>"/>\n            <span class="badge fa-stack" title="<%= i18n.formatMessage(\'Quiz\') %>">\n                <i class="fa fa-square fa-stack-2x"></i>\n                <i class="fa fa-question-circle fa-stack-1x fa-inverse"></i>\n            </span>\n        </div>\n        <div class="action-links">\n            <a class="action-add" href="#" title="<%= i18n.formatMessage(\'Click to choose {0}\', item.get(\'name\')) %>" rel="<%= item.get(\'id\') %>"><i class="fa fa-plus-circle fa-lg"></i><span><%= i18n.formatMessage(\'Choose\') %></span></a>\n            <a class="action-preview" href="#" title="<%= i18n.formatMessage(\'Click to preview {0}\', item.get(\'name\')) %>" rel="<%= item.get(\'id\') %>"><i class="fa fa-play-circle fa-lg"></i><span><%= i18n.formatMessage(\'Preview\') %></span></a>\n        </div>\n    </div>\n    <div class="content-meta">\n        <div class="title">\n            <a class="action-preview" title="<%= i18n.formatMessage(\'Click to preview {0}\', item.get(\'name\')) %>" href="#" rel="<%= item.get(\'id\') %>"><%= item.get(\'name\') %></a>\n        </div>\n        <div class="content-info">\n            <div class="info-row trunc">\n                <div class="label"><%= i18n.formatMessage(\'Comments\') %></div>\n                <div class="value"><%= item.getComments() %></div>\n            </div>\n            <div class="info-row">\n                <div class="label"><%= i18n.formatMessage(\'Created On\') %></div>\n                <div class="value">\n                    <%\n                        var createdOn = new Date(item.get(\'createdOn\')),\n                            localDate = createdOn.setMinutes(createdOn.getMinutes() - createdOn.getTimezoneOffset());\n                        print(moment(localDate).format(dateTimeFormat));\n                    %>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("ev-script/views/quiz-results",["require","underscore","jquery","urijs/URITemplate","ev-script/views/results","ev-script/models/quiz-settings","ev-script/views/quiz-preview","text!ev-script/templates/quiz-result.html"],function(e){"use strict";var t=e("underscore"),n=(e("jquery"),e("urijs/URITemplate")),r=e("ev-script/views/results"),i=(e("ev-script/models/quiz-settings"),e("ev-script/views/quiz-preview"));return r.extend({resultTemplate:t.template(e("text!ev-script/templates/quiz-result.html")),initialize:function(e){r.prototype.initialize.call(this,e)},getItemHtml:function(e,i){var o=this.root.getEmbedded("ev:Brandings/Current");return e.getThumbnailUrl=function(){var t=e.getLink("ev:Images/Thumbnail"),r=t?t.href:o.get("thumbnailImageUrlTemplate");return new n(r).expand({width:200,height:112})},e.getComments=function(){return t.unescape(e.get("comments"))},r.prototype.getItemHtml.call(this,e,i)},refreshHandler:function(e){e.preventDefault(),this.events.trigger("reload","quizzes")},getPreviewInstance:function(e){return new i(e)}})}),define("ev-script/models/quizzes",["require","ev-script/models/base"],function(e){"use strict";return e("ev-script/models/base").extend({cacheName:"quizzes",collectionKey:"quizzes"})}),define("ev-script/views/quiz-picker",["require","jquery","underscore","urijs/URITemplate","ev-script/views/picker","ev-script/views/filter","ev-script/views/quiz-results","ev-script/models/quizzes"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("urijs/URITemplate"),i=e("ev-script/views/picker"),o=e("ev-script/views/filter"),s=e("ev-script/views/quiz-results"),a=e("ev-script/models/quizzes");return i.extend({initialize:function(e){i.prototype.initialize.call(this,e),n.bindAll(this,"loadQuizzes","changeLibrary","handleSubmit","handleSearch","getSettingsModelAttributes"),this.events.off("search",this.handleSearch).on("search",this.handleSearch);var t=n.bind(function(e){"quizzes"===e&&this.loadQuizzes()},this);this.events.off("reload",t).on("reload",t),this.filter=new o({id:this.id+"-filter",el:this.$(".ev-filter-block"),picker:this,showTypeSelect:!1,requireLibrarySelection:!0}),this.resultsView=new s({el:this.$("div.ev-results"),picker:this}),this.$el.append(this.resultsView.$el)},events:{"click a.action-add":"chooseItem","change .ev-filter-block select.libraries":"changeLibrary","submit .ev-filter-block":"handleSubmit"},changeLibrary:function(e){this.loadQuizzes()},handleSubmit:function(e){this.loadQuizzes(),e.preventDefault()},handleSearch:function(e){e===this.model&&this.loadQuizzes()},showPicker:function(){i.prototype.showPicker.call(this),this.filter.loadOrgs(),this.filter.setFocus()},loadQuizzes:function(){var e=t.trim(this.model.get("search").toLowerCase()),i=this.model.get("libraryId"),o=this.filter.getLibrary(i),s=new r(o.getLink("ev:Quizzes/Search").href),l=s.expand({search:e,isArchived:!1,sortBy:"createdOn",desc:!0,pageSize:20}),u=new a({},{href:l});this.filter.disable(),u.fetch({picker:this,success:n.bind(function(e,t,n){this.resultsView.model=e,this.resultsView.collection=e.getEmbedded("quizzes"),this.resultsView.render()},this),error:n.bind(this.ajaxError,this)}).always(n.bind(function(){this.filter.enable()},this))},getSettingsModelAttributes:function(e){return n.extend(i.prototype.getSettingsModelAttributes.call(this,e),{contentId:e.get("referenceId")})}})}),define("text!ev-script/templates/quiz-settings.html",[],function(){return'<form>\n    <div role="group" aria-labelledby="quizSettingsTitle">\n        <div id="quizSettingsTitle" style="display:none;"><%= i18n.formatMessage(\'Quiz Embed Options\') %></div>\n        <% if (!model.get(\'forceembedtype\')) { %>\n        <div class="fieldWrap inline-option">\n            <label for="embedtype"><%= i18n.formatMessage(\'Type\') %></label>\n            <select class="form-select embedtype" id="embedtype" name="embedtype">\n                <option value="responsive" <% if (model.get(\'embedtype\') === \'responsive\') { print(\'selected\'); } %>><%= i18n.formatMessage(\'iFrame Responsive\') %></option>\n                <option value="fixed" <% if (model.get(\'embedtype\') === \'fixed\') { print(\'selected\'); } %>><%= i18n.formatMessage(\'iFrame\') %></option>\n            </select>\n        </div>\n        <% } %>\n        <div class="fieldWrap sizeWrap inline-option" <% if (model.get(\'embedtype\') === \'responsive\') { print(\'style="display:none;"\'); } %>>\n            <label for="size"><%= i18n.formatMessage(\'Size\') %></label>\n            <select class="form-select size" id="size" name="size">\n                <option value="original"><%= i18n.formatMessage(\'Original\') %></option>\n            </select>\n        </div>\n        <div>\n            <div class="fieldWrap checkbox-option">\n                <input id="showtitle" class="form-checkbox" <% if (model.get(\'showtitle\')) { print(\'checked="checked"\'); } %> name="showtitle" type="checkbox"/>\n                <label for="showtitle"><%= i18n.formatMessage(\'Title\') %></label>\n            </div>\n            <div class="fieldWrap checkbox-option">\n                <input id="attachments" class="form-checkbox" <% if (model.get(\'attachments\')) { print(\'checked="checked"\'); } %> name="attachments" type="checkbox"/>\n                <label for="attachments"><%= i18n.formatMessage(\'Attachments\') %></label>\n            </div>\n            <div class="fieldWrap checkbox-option">\n                <input id="links" class="form-checkbox" <% if (model.get(\'links\')) { print(\'checked="checked"\'); } %> name="links" type="checkbox"/>\n                <label for="links"><%= i18n.formatMessage(\'Links\') %></label>\n            </div>\n            <div class="fieldWrap checkbox-option">\n                <input id="metadata" class="form-checkbox" <% if (model.get(\'metadata\')) { print(\'checked="checked"\'); } %> name="metadata" type="checkbox"/>\n                <label for="metadata"><%= i18n.formatMessage(\'Meta Data\') %></label>\n            </div>\n            <div class="fieldWrap checkbox-option">\n                <input id="showcaptions" class="form-checkbox" <% if (model.get(\'showcaptions\')) { print(\'checked="checked"\'); } %>  name="showcaptions" type="checkbox"/>\n                <label for="showcaptions"><%= i18n.formatMessage(\'Captions "On" By Default\') %></label>\n            </div>\n         </div>\n        <div class="form-actions">\n            <button type="submit" class="form-submit action-submit" value="Submit"><i class="fa fa-save"></i><span><%= i18n.formatMessage(\'Save\') %></span></button>\n            <button type="button" class="form-submit action-cancel" value="Cancel"><i class="fa fa-times"></i><span><%= i18n.formatMessage(\'Cancel\') %></span></button>\n        </div>\n    </div>\n</form>\n'}),define("ev-script/views/quiz-settings",["require","jquery","underscore","ev-script/views/settings","ev-script/util/size","ev-script/models/quiz-settings","jquery-ui/ui/widgets/dialog","text!ev-script/templates/quiz-settings.html","text!ev-script/templates/sizes.html"],function(e){"use strict";var t=e("jquery"),n=e("underscore"),r=e("ev-script/views/settings"),i=e("ev-script/util/size"),o=e("ev-script/models/quiz-settings");return e("jquery-ui/ui/widgets/dialog"),r.extend({template:n.template(e("text!ev-script/templates/quiz-settings.html")),sizesTemplate:n.template(e("text!ev-script/templates/sizes.html")),initialize:function(e){r.prototype.initialize.call(this,e),this.encoding=e.encoding,this.encoding.on("change:id",n.bind(function(){this.render()},this))},updateModel:function(){var e={showtitle:this.$("#showtitle").is(":checked"),showcaptions:this.$("#showcaptions").is(":checked"),attachments:this.$("#attachments").is(":checked"),links:this.$("#links").is(":checked"),metadata:this.$("#metadata").is(":checked"),embedtype:this.$("#embedtype").val()},t=this.$("#size").val(),r="original"===t;if(!t||r)this.encoding&&!this.encoding.isNew()&&n.extend(e,{width:this.encoding.getWidth(r),height:this.encoding.getHeight(r)});else{var i=t.split("x");n.extend(e,{width:parseInt(i[0],10),height:parseInt(i[1],10)})}this.field.model.set(e)},renderSize:function(){var e,t=this.field.model.get("width"),n=this.field.model.get("height"),r=[],s=(new o).get("width");t&&n||!this.encoding.id||(t=this.encoding.getWidth(),n=this.encoding.getHeight()),e=s<=t?s:t,r=i.getAvailableDimensions(),this.$(".size").append(this.sizesTemplate({sizes:r,target:i.findClosestDimension(e)}))},render:function(){this.$el.html(this.template({appInfo:this.info,i18n:this.i18n,model:this.field.model})),this.encoding&&this.renderSize();var e=this.field.model.get("content");this.$el.dialog({title:this.unencode(e&&e.name||this.field.model.get("id")),modal:!0,autoOpen:!1,draggable:!1,resizable:!1,dialogClass:"ev-dialog",width:Math.min(680,t(window).width()-this.config.dialogMargin),height:Math.min(300,t(window).height()-this.config.dialogMargin),closeText:this.i18n.formatMessage("Close")})}})}),define("ev-script/views/quiz-field",["require","jquery","underscore","urijs/URITemplate","ev-script/views/field","ev-script/models/video","ev-script/models/video-encoding","ev-script/views/video-field","ev-script/models/quiz-settings","ev-script/views/quiz-picker","ev-script/views/quiz-settings","ev-script/views/quiz-preview"],function(e){"use strict";var t=(e("jquery"),e("underscore")),n=e("urijs/URITemplate"),r=e("ev-script/views/field"),i=e("ev-script/models/video"),o=e("ev-script/models/video-encoding"),s=e("ev-script/views/video-field"),a=e("ev-script/models/quiz-settings"),l=e("ev-script/views/quiz-picker"),u=e("ev-script/views/quiz-settings"),c=e("ev-script/views/quiz-preview");return r.extend({initialize:function(e){r.prototype.initialize.call(this,e)},initCallback:function(){this.encoding=new o({},{}),this.root.promise.done(t.bind(function(){var e,r,o=this.root.getLink("ev:Contents/Get"),s=o&&new n(o.href);!this.model.isNew()&&s&&this.model.get("contentId")&&(e=new i({},{href:s.expand({id:this.model.get("contentId")})}),e.fetch().done(t.bind(function(t){r=e.getEmbedded("ev:Encodings/Default"),this.encoding.set(r.attributes)},this)))},this)),this.model.on("change",t.bind(function(){this.root.promise.done(t.bind(function(){var e,r,o=this.root.getLink("ev:Contents/Get"),s=o&&new n(o.href);this.model.changed.contentId?(this.encoding.clear(),!this.model.isNew()&&s&&(e=new i({},{href:s.expand({id:this.model.get("contentId")})}),e.fetch().always(t.bind(function(t){r=e.getEmbedded("ev:Encodings/Default"),this.encoding.set(r&&r.attributes||{}),this.encoding.updateSettingsModel(this.model),this.encoding.updateSettingsModel(this.picker.model),this.updateField()},this)))):this.model.isNew()||this.updateField()},this))},this))},getPickerInstance:function(e){return new l(t.extend({},e,{model:new a(this.model.toJSON())}))},getSettingsInstance:function(e){return new u(t.extend(e,{encoding:this.encoding}))},getPreviewInstance:function(e){return new c(e)},getFieldType:function(){return"quiz"},getFieldLabel:function(){return this.i18n.formatMessage("Quiz")},getActionsHtml:function(e){return s.prototype.getActionsHtml.call(this,e)}})}),define("ev-script/models/root",["require","underscore","ev-script/models/base"],function(e){"use strict";e("underscore");return e("ev-script/models/base").extend({getUser:function(){var e=this.getEmbedded("ev:Users/Current");return e&&e.get("isProvisioned")?e:null}})}),function(e,t){"function"==typeof define&&define.amd?define("compare-versions",[],t):"object"==typeof exports?module.exports=t():e.compareVersions=t()}(this,function(){function e(e,t){return-1===e.indexOf(t)?e.length:e.indexOf(t)}function t(t){var n=t.replace(/^v/,"").replace(/\+.*$/,""),r=e(n,"-"),i=n.substring(0,r).split(".");return i.push(n.substring(r+1)),i}function n(e){return isNaN(Number(e))?e:Number(e)}function r(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");if(!s.test(e))throw new Error("Invalid argument not valid semver ('"+e+"' received)")}function i(e,i){[e,i].forEach(r);for(var o=t(e),s=t(i),a=0;a<Math.max(o.length-1,s.length-1);a++){var l=parseInt(o[a]||0,10),u=parseInt(s[a]||0,10);if(l>u)return 1;if(u>l)return-1}var c=o[o.length-1],d=s[s.length-1];if(c&&d){var h=c.split(".").map(n),p=d.split(".").map(n);for(a=0;a<Math.max(h.length,p.length);a++){if(void 0===h[a]||"string"==typeof p[a]&&"number"==typeof h[a])return-1;if(void 0===p[a]||"string"==typeof h[a]&&"number"==typeof p[a])return 1;if(h[a]>p[a])return 1;if(p[a]>h[a])return-1}}else if(c||d)return c?-1:1;return 0}function o(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===a.indexOf(e))throw new TypeError("Invalid operator, expected one of "+a.join("|"))}var s=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,a=[">",">=","=","<","<="],l={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.validate=function(e){return"string"==typeof e&&s.test(e)},i.compare=function(e,t,n){o(n);var r=i(e,t);return l[n].indexOf(r)>-1},i}),define("ev-script/models/info",["require","underscore","compare-versions","ev-script/models/base"],function(e){"use strict";var t=(e("underscore"),e("compare-versions"));return e("ev-script/models/base").extend({checkVersion:function(e,n){var r=this.get("applicationVersion");return r&&t.compare(r,e,n)}})}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("oidc",[],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./index.js")}({"./index.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0})
;var r=n("./src/Log.js"),i=n("./src/OidcClient.js"),o=n("./src/OidcClientSettings.js"),s=n("./src/WebStorageStateStore.js"),a=n("./src/InMemoryWebStorage.js"),l=n("./src/UserManager.js"),u=n("./src/AccessTokenEvents.js"),c=n("./src/MetadataService.js"),d=n("./src/CordovaPopupNavigator.js"),h=n("./src/CordovaIFrameNavigator.js"),p=n("./src/CheckSessionIFrame.js"),f=n("./src/TokenRevocationClient.js"),m=n("./src/SessionMonitor.js"),g=n("./src/Global.js"),v=n("./src/User.js"),y=n("./version.js");t.default={Version:y.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:s.WebStorageStateStore,InMemoryWebStorage:a.InMemoryWebStorage,UserManager:l.UserManager,AccessTokenEvents:u.AccessTokenEvents,MetadataService:c.MetadataService,CordovaPopupNavigator:d.CordovaPopupNavigator,CordovaIFrameNavigator:h.CordovaIFrameNavigator,CheckSessionIFrame:p.CheckSessionIFrame,TokenRevocationClient:f.TokenRevocationClient,SessionMonitor:m.SessionMonitor,Global:g.Global,User:v.User},e.exports=t.default},"./jsrsasign/dist/jsrsasign.js":function(e,t,n){(function(e){function n(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=Zn.charAt(n>>6)+Zn.charAt(63&n);if(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=Zn.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=Zn.charAt(n>>2)+Zn.charAt((3&n)<<4)),qn)for(;(3&r.length)>0;)r+=qn;return r}function r(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&e.charAt(t)!=qn;++t)(r=Zn.indexOf(e.charAt(t)))<0||(0==o?(i+=c(r>>2),n=3&r,o=1):1==o?(i+=c(n<<2|r>>4),n=15&r,o=2):2==o?(i+=c(n),i+=c(r>>2),n=3&r,o=3):(i+=c(n<<2|r>>4),i+=c(15&r),o=0));return 1==o&&(i+=c(n<<2)),i}function i(e){var t,n=r(e),i=new Array;for(t=0;2*t<n.length;++t)i[t]=parseInt(n.substring(2*t,2*t+2),16);return i}function o(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function s(){return new o(null)}function a(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i}function l(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var l=32767&this[e],u=this[e++]>>15,c=a*l+u*s;l=s*l+((32767&c)<<15)+n[r]+(1073741823&i),i=(l>>>30)+(c>>>15)+a*u+(i>>>30),n[r++]=1073741823&l}return i}function u(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=a*l+u*s;l=s*l+((16383&c)<<14)+n[r]+i,i=(l>>28)+(c>>14)+a*u,n[r++]=268435455&l}return i}function c(e){return $n.charAt(e)}function d(e,t){var n=Kn[e.charCodeAt(t)];return null==n?-1:n}function h(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function p(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function f(e){var t=s();return t.fromInt(e),t}function m(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,s=0;--r>=0;){var a=8==n?255&e[r]:d(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&o.ZERO.subTo(this,this)}function g(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function v(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=c(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=c(n));return i?o:"0"}function y(){var e=s();return o.ZERO.subTo(this,e),e}function _(){return this.s<0?this.negate():this}function b(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function w(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function k(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)}function L(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function M(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function S(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}function x(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}function T(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function D(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)}function F(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function A(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=s());var a=s(),l=this.s,u=e.s,c=this.DB-w(r[r.t-1]);c>0?(r.lShiftTo(c,a),i.lShiftTo(c,n)):(r.copyTo(a),i.copyTo(n));var d=a.t,h=a[d-1];if(0!=h){var p=h*(1<<this.F1)+(d>1?a[d-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=n.t,y=v-d,_=null==t?s():t;for(a.dlShiftTo(y,_),n.compareTo(_)>=0&&(n[n.t++]=1,n.subTo(_,n)),o.ONE.dlShiftTo(d,_),_.subTo(a,a);a.t<d;)a[a.t++]=0;for(;--y>=0;){var b=n[--v]==h?this.DM:Math.floor(n[v]*f+(n[v-1]+g)*m);if((n[v]+=a.am(0,b,n,y,0,d))<b)for(a.dlShiftTo(y,_),n.subTo(_,n);n[v]<--b;)n.subTo(_,n)}null!=t&&(n.drShiftTo(d,t),l!=u&&o.ZERO.subTo(t,t)),n.t=d,n.clamp(),c>0&&n.rShiftTo(c,n),l<0&&o.ZERO.subTo(n,n)}}}function E(e){var t=s();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t}function P(e){this.m=e}function C(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function Y(e){return e}function j(e){e.divRemTo(this.m,null,e)}function O(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function R(e,t){e.squareTo(t),this.reduce(t)}function I(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function U(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function H(e){var t=s();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t}function N(e){var t=s();return e.copyTo(t),this.reduce(t),t}function z(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function B(e,t){e.squareTo(t),this.reduce(t)}function Z(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function q(){return 0==(this.t>0?1&this[0]:this.s)}function W(e,t){if(e>4294967295||e<1)return o.ONE;var n=s(),r=s(),i=t.convert(this),a=w(e)-1;for(i.copyTo(n);--a>=0;)if(t.sqrTo(n,r),(e&1<<a)>0)t.mulTo(r,i,n);else{var l=n;n=r,r=l}return t.revert(n)}function V(e,t){var n;return n=e<256||t.isEven()?new P(t):new U(t),this.exp(e,n)}function $(){var e=s();return this.copyTo(e),e}function K(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function G(){return 0==this.t?this.s:this[0]<<24>>24}function J(){return 0==this.t?this.s:this[0]<<16>>16}function X(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Q(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function ee(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=f(n),i=s(),o=s(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(e)+a}function te(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,s=0,a=0,l=0;l<e.length;++l){var u=d(e,l);u<0?"-"==e.charAt(l)&&0==this.signum()&&(i=!0):(a=t*a+u,++s>=n&&(this.dMultiply(r),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&o.ZERO.subTo(this,this)}function ne(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(o.ONE.shiftLeft(e-1),ce,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(o.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function re(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function ie(e){return 0==this.compareTo(e)}function oe(e){return this.compareTo(e)<0?this:e}function se(e){return this.compareTo(e)>0?this:e}function ae(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function le(e,t){return e&t}function ue(e){var t=s();return this.bitwiseTo(e,le,t),t}function ce(e,t){return e|t}function de(e){var t=s();return this.bitwiseTo(e,ce,t),t}function he(e,t){return e^t}function pe(e){var t=s();return this.bitwiseTo(e,he,t),t}function fe(e,t){return e&~t}function me(e){var t=s();return this.bitwiseTo(e,fe,t),t}function ge(){for(var e=s(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function ve(e){var t=s();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function ye(e){var t=s();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function _e(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function be(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+_e(this[e]);return this.s<0?this.t*this.DB:-1}function we(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function ke(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=we(this[n]^t);return e}function Le(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function Me(e,t){var n=o.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function Se(e){return this.changeBit(e,ce)}function xe(e){return this.changeBit(e,fe)}function Te(e){return this.changeBit(e,he)}function De(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function Fe(e){var t=s();return this.addTo(e,t),t}function Ae(e){var t=s();return this.subTo(e,t),t}function Ee(e){var t=s();return this.multiplyTo(e,t),t}function Pe(){var e=s();return this.squareTo(e),e}function Ce(e){var t=s();return this.divRemTo(e,t,null),t}function Ye(e){var t=s();return this.divRemTo(e,null,t),t}function je(e){var t=s(),n=s();return this.divRemTo(e,t,n),new Array(t,n)}function Oe(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Re(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function Ie(){}function Ue(e){return e}function He(e,t,n){e.multiplyTo(t,n)}function Ne(e,t){e.squareTo(t)}function ze(e){return this.exp(e,new Ie)}function Be(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Ze(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function qe(e){this.r2=s(),this.q3=s(),o.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function We(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=s();return e.copyTo(t),this.reduce(t),t}function Ve(e){return e}function $e(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Ke(e,t){e.squareTo(t),this.reduce(t)}function Ge(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Je(e,t){var n,r,i=e.bitLength(),o=f(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new P(t):t.isEven()?new qe(t):new U(t);var a=new Array,l=3,u=n-1,c=(1<<n)-1;if(a[1]=r.convert(this),n>1){var d=s();for(r.sqrTo(a[1],d);l<=c;)a[l]=s(),r.mulTo(d,a[l-2],a[l]),l+=2}var h,p,m=e.t-1,g=!0,v=s();for(i=w(e[m])-1;m>=0;){for(i>=u?h=e[m]>>i-u&c:(h=(e[m]&(1<<i+1)-1)<<u-i,m>0&&(h|=e[m-1]>>this.DB+i-u)),l=n;0==(1&h);)h>>=1,--l;if((i-=l)<0&&(i+=this.DB,--m),g)a[h].copyTo(o),g=!1;else{for(;l>1;)r.sqrTo(o,v),r.sqrTo(v,o),l-=2;l>0?r.sqrTo(o,v):(p=o,o=v,v=p),r.mulTo(v,a[h],o)}for(;m>=0&&0==(e[m]&1<<i);)r.sqrTo(o,v),p=o,o=v,v=p,--i<0&&(i=this.DB-1,--m)}return r.revert(o)}function Xe(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function Qe(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function et(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return o.ZERO;for(var n=e.clone(),r=this.clone(),i=f(1),s=f(0),a=f(0),l=f(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&l.isEven()||(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(a,i),s.subTo(l,s)):(r.subTo(n,r),t&&a.subTo(i,a),l.subTo(s,l))}return 0!=r.compareTo(o.ONE)?o.ZERO:l.compareTo(e)>=0?l.subtract(e):l.signum()<0?(l.addTo(e,l),l.signum()<0?l.add(e):l):l}function tt(e){var t,n=this.abs();if(1==n.t&&n[0]<=Gn[Gn.length-1]){for(t=0;t<Gn.length;++t)if(n[0]==Gn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<Gn.length;){for(var r=Gn[t],i=t+1;i<Gn.length&&r<Jn;)r*=Gn[i++];for(r=n.modInt(r);t<i;)if(r%Gn[t++]==0)return!1}return n.millerRabin(e)}function nt(e){var t=this.subtract(o.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>Gn.length&&(e=Gn.length);for(var i=s(),a=0;a<e;++a){i.fromInt(Gn[Math.floor(Math.random()*Gn.length)]);var l=i.modPow(r,this);if(0!=l.compareTo(o.ONE)&&0!=l.compareTo(t)){for(var u=1;u++<n&&0!=l.compareTo(t);)if(l=l.modPowInt(2,this),0==l.compareTo(o.ONE))return!1;if(0!=l.compareTo(t))return!1}}return!0}function rt(){this.i=0,this.j=0,this.S=new Array}function it(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function ot(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function st(){return new rt}function at(e){Qn[er++]^=255&e,Qn[er++]^=e>>8&255,Qn[er++]^=e>>16&255,Qn[er++]^=e>>24&255,er>=tr&&(er-=tr)}function lt(){at((new Date).getTime())}function ut(){if(null==Xn){for(lt(),Xn=st(),Xn.init(Qn),er=0;er<Qn.length;++er)Qn[er]=0;er=0}return Xn.next()}function ct(e){var t;for(t=0;t<e.length;++t)e[t]=ut()}function dt(){}function ht(e,t){return new o(e,t)}function pt(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var s=new dt,a=new Array;t>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new o(n)}function ft(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function mt(e,t,n,r){var i=lr.crypto.MessageDigest,s=lr.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return cn(s.hashHex(dn(e),a))}),e.length+2*r+2>t)throw"Message too long for RSA";var l,u="";for(l=0;l<t-e.length-2*r-2;l+=1)u+="\0";var c=n("")+u+""+e,d=new Array(r);(new dt).nextBytes(d);var h=ft(d,c.length,n),p=[];for(l=0;l<c.length;l+=1)p[l]=c.charCodeAt(l)^h.charCodeAt(l);var f=ft(p,d.length,n),m=[0];for(l=0;l<d.length;l+=1)m[l+1]=d[l]^f.charCodeAt(l);return new o(m.concat(p))}function gt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function vt(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=ht(e,16),this.e=parseInt(t,16)}}function yt(e){return e.modPowInt(this.e,this.n)}function _t(e){var t=pt(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r}function bt(e,t,n){var r=mt(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o}function wt(e,t){this.x=t,this.q=e}function kt(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)}function Lt(){return this.x}function Mt(){return new wt(this.q,this.x.negate().mod(this.q))}function St(e){return new wt(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function xt(e){return new wt(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function Tt(e){return new wt(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function Dt(){return new wt(this.q,this.x.square().mod(this.q))}function Ft(e){return new wt(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}function At(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?o.ONE:r,this.zinv=null}function Et(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Pt(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Ct(e){if(e==this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var t,n;return t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),!!t.equals(o.ZERO)&&(n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q),n.equals(o.ZERO))}function Yt(){return null==this.x&&null==this.y||this.z.equals(o.ZERO)&&!this.y.toBigInteger().equals(o.ZERO)}function jt(){return new At(this.curve,this.x,this.y.negate(),this.z)}function Ot(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(o.ZERO.equals(n))return o.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new o("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),l=a.multiply(n),u=i.multiply(a),c=t.square().multiply(this.z),d=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(l).multiply(n).mod(this.curve.q),h=u.multiply(r).multiply(t).subtract(s.multiply(l)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(l)).mod(this.curve.q),p=l.multiply(this.z).multiply(e.z).mod(this.curve.q);return new At(this.curve,this.curve.fromBigInteger(d),this.curve.fromBigInteger(h),p)}function Rt(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new o("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=t.square().multiply(e);o.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s))),a=a.mod(this.curve.q);var l=a.square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new At(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(u),c)}function It(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new o("3")),i=this.negate(),s=this;for(t=r.bitLength()-2;t>0;--t){s=s.twice();var a=r.testBit(t);a!=n.testBit(t)&&(s=s.add(a?this:i))}return s}function Ut(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i}function Ht(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new At(this,null,null)}function Nt(){return this.q}function zt(){return this.a}function Bt(){return this.b}function Zt(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function qt(){return this.infinity}function Wt(e){return new wt(this.q,e)}function Vt(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new At(this,this.fromBigInteger(new o(n,16)),this.fromBigInteger(new o(r,16)));default:return null}}function $t(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function Kt(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function Gt(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function Jt(e){return Gt($t(e))}function Xt(e){return n(Jt(e))}function Qt(e){return tn(n(Jt(e)))}function en(e){return Kt(i(nn(e)))}function tn(e){return e=e.replace(/\=/g,""),e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_")}function nn(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=e.replace(/-/g,"+"),e=e.replace(/_/g,"/")}function rn(e){return e.length%2==1&&(e="0"+e),tn(n(e))}function on(e){return r(nn(e))}function sn(e){return n(Ln(Fn(e)))}function an(e){return decodeURIComponent(Mn(r(e)))}function ln(e){return Ln(Fn(e))}function un(e){return decodeURIComponent(Mn(e))}function cn(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function dn(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function hn(e){return n(e)}function pn(e){var t=hn(e),n=t.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,"")}function fn(e){return r(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function mn(e,t){return"-----BEGIN "+t+"-----\r\n"+pn(e)+"\r\n-----END "+t+"-----\r\n"}function gn(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return void 0!==t?(e=e.replace("-----BEGIN "+t+"-----",""),e=e.replace("-----END "+t+"-----","")):(e=e.replace(/-----BEGIN [^-]+-----/,""),e=e.replace(/-----END [^-]+-----/,"")),fn(e)}function vn(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t}function yn(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t}function _n(e){var t,n,r,i,o,s,a,l,u,c,d;if(d=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=d[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(d[2])-1,r=parseInt(d[3]),i=parseInt(d[4]),o=parseInt(d[5]),s=parseInt(d[6]),a=0,u=d[7],""!==u&&(c=(u.substr(1)+"00").substr(0,3),a=parseInt(c)),Date.UTC(t,n,r,i,o,s,a);throw"unsupported zulu format: "+e}function bn(e){return~~(_n(e)/1e3)}function wn(e){return new Date(_n(e))}function kn(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(o=("00"+o).slice(-3),o=o.replace(/0+$/g,""),r+="."+o)}return r+="Z"}function Ln(e){return e.replace(/%/g,"")}function Mn(e){return e.replace(/(..)/g,"%$1")}function Sn(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;e=e.toLowerCase();var n=e.split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2);e=e.replace("::",r);var i=e.split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function xn(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";e=e.toLowerCase();for(var t=e.match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");e=":"+t.join(":")+":";var r=e.match(/:(0:){2,}/g);if(null===r)return e.slice(1,-1);for(var i="",n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return e=e.replace(i,"::"),e.slice(1,-1)}function Tn(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?xn(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Dn(e){var t="malformed IP address";if(e=e.toLowerCase(e),!e.match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Sn(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var r="";try{for(var i=0;i<4;i++){r+=("0"+parseInt(n[i]).toString(16)).slice(-2)}return r}catch(e){throw t}}function Fn(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+Jt(t[r]);return n}function An(e){return e=e.replace(/\r\n/gm,"\n")}function En(e){return e=e.replace(/\r\n/gm,"\n"),e=e.replace(/\n/gm,"\r\n")}function Pn(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function Cn(e){e=e.replace(/^\s*\[\s*/,""),e=e.replace(/\s*\]\s*$/,""),e=e.replace(/\s*/g,"");try{return e.split(/,/).map(function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)}).join("")}catch(e){throw"malformed integer array string: "+e}}function Yn(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function jn(e,t,n){for(var r="",i=0;r.length<t;)r+=cn(n(dn(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function On(e){for(var t in lr.crypto.Util.DIGESTINFOHEAD){var n=lr.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n){return[t,e.substring(r)]}}return[]}function Rn(){var e=ar,t=e.getChildIdx,n=e.getV,r=e.getTLV,i=e.getVbyList,o=e.getTLVbyList,s=e.getIdxbyList,a=e.getVidx,l=e.oidname,u=Rn,c=gn;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==o(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return l(i(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return o(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return u.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return o(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return u.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=i(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getNotAfter=function(){var e=i(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getPublicKeyHex=function(){return e.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return s(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return s(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return hr.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return l(i(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return i(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmName(),n=this.getSignatureValueHex(),r=o(this.hex,0,[0],"30"),i=new lr.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(){if(3!==this.version)return-1;var n=s(this.hex,0,[0,7,0],"30"),r=t(this.hex,n);this.aExtInfo=new Array;for(var o=0;o<r.length;o++){var l={};l.critical=!1;var u=t(this.hex,r[o]),c=0;3===u.length&&(l.critical=!0,c=1),l.oid=e.hextooidstr(i(this.hex,r[o],[0],"06"));var d=s(this.hex,r[o],[1+c]);l.vidx=a(this.hex,d),this.aExtInfo.push(l)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=lr.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=n(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var r=n(t,6);return{cA:!0,pathLen:parseInt(r,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=n(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw"malformed key usage value";var r=parseInt(t.substr(0,2)),i=parseInt(t.substr(2),16).toString(2);return i.substr(0,i.length-r)},this.getExtKeyUsageString=function(){
for(var e=this.getExtKeyUsageBin(),t=new Array,n=0;n<e.length;n++)"1"==e.substr(n,1)&&t.push(Rn.KEYUSAGE_NAME[n]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:n(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var i={},o=r(this.hex,e.vidx),s=t(o,0),a=0;a<s.length;a++)"80"===o.substr(s[a],2)&&(i.kid=n(o,s[a]));return i},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var i=new Array,o=r(this.hex,e.vidx);if(""===o)return i;for(var s=t(o,0),a=0;a<s.length;a++)i.push(l(n(o,s[a])));return i},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,n=0;n<e.length;n++)"DNS"===e[n][0]&&t.push(e[n][1]);return t},this.getExtSubjectAltName2=function(){var e,i,o,s=this.getExtInfo("subjectAltName");if(void 0===s)return s;for(var a=new Array,l=r(this.hex,s.vidx),u=t(l,0),c=0;c<u.length;c++)o=l.substr(u[c],2),e=n(l,u[c]),"81"===o&&(i=un(e),a.push(["MAIL",i])),"82"===o&&(i=un(e),a.push(["DNS",i])),"84"===o&&(i=Rn.hex2dn(e,0),a.push(["DN",i])),"86"===o&&(i=un(e),a.push(["URI",i])),"87"===o&&(i=Tn(e),a.push(["IP",i]));return a},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var n=new Array,r=t(this.hex,e.vidx),o=0;o<r.length;o++)try{var s=i(this.hex,r[o],[0,0,0],"86"),a=un(s);n.push(a)}catch(e){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var n={ocsp:[],caissuer:[]},r=t(this.hex,e.vidx),o=0;o<r.length;o++){var s=i(this.hex,r[o],[0],"06"),a=i(this.hex,r[o],[1],"86");"2b06010505073001"===s&&n.ocsp.push(un(a)),"2b06010505073002"===s&&n.caissuer.push(un(a))}return n},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var o=r(this.hex,e.vidx),s=[],a=t(o,0),u=0;u<a.length;u++){var c={},d=t(o,a[u]);if(c.id=l(n(o,d[0])),2===d.length)for(var h=t(o,d[1]),p=0;p<h.length;p++){var f=i(o,h[p],[0],"06");"2b06010505070201"===f?c.cps=un(i(o,h[p],[1])):"2b06010505070202"===f&&(c.unotice=un(i(o,h[p],[1,0])))}s.push(c)}return s},this.readCertPEM=function(e){this.readCertHex(c(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{s(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getInfo=function(){var e,t,n;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",t=this.getPublicKey(),e+="    key algorithm: "+t.type+"\n","RSA"===t.type&&(e+="    n="+Pn(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Pn(t.e.toString(16))+"\n"),void 0!==(n=this.aExtInfo)&&null!==n){e+="X509v3 Extensions:\n";for(var r=0;r<n.length;r++){var i=n[r],o=lr.asn1.x509.OID.oid2name(i.oid);""===o&&(o=i.oid);var s="";if(!0===i.critical&&(s="CRITICAL"),e+="  "+o+" "+s+":\n","basicConstraints"===o){var a=this.getExtBasicConstraints();void 0===a.cA?e+="    {}\n":(e+="    cA=true",void 0!==a.pathLen&&(e+=", pathLen="+a.pathLen),e+="\n")}else if("keyUsage"===o)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===o)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===o){var l=this.getExtAuthorityKeyIdentifier();void 0!==l.kid&&(e+="    kid="+l.kid+"\n")}else if("extKeyUsage"===o){var u=this.getExtExtKeyUsageName();e+="    "+u.join(", ")+"\n"}else if("subjectAltName"===o){var c=this.getExtSubjectAltName2();e+="    "+c+"\n"}else if("cRLDistributionPoints"===o){var d=this.getExtCRLDistributionPointsURI();e+="    "+d+"\n"}else if("authorityInfoAccess"===o){var h=this.getExtAIAInfo();void 0!==h.ocsp&&(e+="    ocsp: "+h.ocsp.join(",")+"\n"),void 0!==h.caissuer&&(e+="    caissuer: "+h.caissuer.join(",")+"\n")}else if("certificatePolicies"===o)for(var p=this.getExtCertificatePolicies(),f=0;f<p.length;f++)void 0!==p[f].id&&(e+="    policy oid: "+p[f].id+"\n"),void 0!==p[f].cps&&(e+="    cps: "+p[f].cps+"\n")}}return e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",e+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}Object.defineProperty(t,"__esModule",{value:!0});var In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un={};Un.userAgent=!1;var Hn={};if(void 0===Nn)var Nn={};Nn.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var i;for(i in n)e.prototype[i]=n[i];var o=function(){},s=["toString","valueOf"];try{/MSIE/.test(Un.userAgent)&&(o=function(e,t){for(i=0;i<s.length;i+=1){var n=s[i],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(e){}o(e.prototype,n)}}};var zn=zn||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},a=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},c=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,a=4*s,l=i/a;l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0);var u=l*s,c=e.min(4*u,i);if(u){for(var d=0;d<u;d+=s)this._doProcessBlock(r,d);var h=r.splice(0,u);n.sigBytes-=c}return new o.init(h,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(r.Hasher=c.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);!function(e){var t=zn,n=t.lib,r=n.Base,i=n.WordArray,t=t.x64={};t.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(){var e=zn,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)e.push(r.charAt(o>>>6*(3-s)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map,i=r.charAt(64);i&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(e.charAt(s-1))<<s%4*2,l=r.indexOf(e.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|l)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=zn,n=t.lib,r=n.WordArray,i=n.Hasher,n=t.algo,o=[],s=[],a=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var c;e:{c=l;for(var d=e.sqrt(c),h=2;h<=d;h++)if(!(c%h)){c=!1;break e}c=!0}c&&(8>u&&(o[u]=a(e.pow(l,.5))),s[u]=a(e.pow(l,1/3)),u++),l++}var p=[],n=n.SHA256=i.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],u=n[5],c=n[6],d=n[7],h=0;64>h;h++){if(16>h)p[h]=0|e[t+h];else{var f=p[h-15],m=p[h-2];p[h]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[h-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+p[h-16]}f=d+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+s[h]+p[h],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),d=c,c=u,u=l,l=a+f|0,a=o,o=i,i=r,r=f+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(n),t.HmacSHA256=i._createHmacHelper(n)}(Math),function(){function e(){return i.create.apply(i,arguments)}for(var t=zn,n=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,r=t.algo,s=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],l=0;80>l;l++)a[l]=e();r=r.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],l=n[3],u=n[4],c=n[5],d=n[6],n=n[7],h=r.high,p=r.low,f=i.high,m=i.low,g=o.high,v=o.low,y=l.high,_=l.low,b=u.high,w=u.low,k=c.high,L=c.low,M=d.high,S=d.low,x=n.high,T=n.low,D=h,F=p,A=f,E=m,P=g,C=v,Y=y,j=_,O=b,R=w,I=k,U=L,H=M,N=S,z=x,B=T,Z=0;80>Z;Z++){var q=a[Z];if(16>Z)var W=q.high=0|e[t+2*Z],V=q.low=0|e[t+2*Z+1];else{var W=a[Z-15],V=W.high,$=W.low,W=(V>>>1|$<<31)^(V>>>8|$<<24)^V>>>7,$=($>>>1|V<<31)^($>>>8|V<<24)^($>>>7|V<<25),K=a[Z-2],V=K.high,G=K.low,K=(V>>>19|G<<13)^(V<<3|G>>>29)^V>>>6,G=(G>>>19|V<<13)^(G<<3|V>>>29)^(G>>>6|V<<26),V=a[Z-7],J=V.high,X=a[Z-16],Q=X.high,X=X.low,V=$+V.low,W=W+J+(V>>>0<$>>>0?1:0),V=V+G,W=W+K+(V>>>0<G>>>0?1:0),V=V+X,W=W+Q+(V>>>0<X>>>0?1:0);q.high=W,q.low=V}var J=O&I^~O&H,X=R&U^~R&N,q=D&A^D&P^A&P,ee=F&E^F&C^E&C,$=(D>>>28|F<<4)^(D<<30|F>>>2)^(D<<25|F>>>7),K=(F>>>28|D<<4)^(F<<30|D>>>2)^(F<<25|D>>>7),G=s[Z],te=G.high,ne=G.low,G=B+((R>>>14|O<<18)^(R>>>18|O<<14)^(R<<23|O>>>9)),Q=z+((O>>>14|R<<18)^(O>>>18|R<<14)^(O<<23|R>>>9))+(G>>>0<B>>>0?1:0),G=G+X,Q=Q+J+(G>>>0<X>>>0?1:0),G=G+ne,Q=Q+te+(G>>>0<ne>>>0?1:0),G=G+V,Q=Q+W+(G>>>0<V>>>0?1:0),V=K+ee,q=$+q+(V>>>0<K>>>0?1:0),z=H,B=N,H=I,N=U,I=O,U=R,R=j+G|0,O=Y+Q+(R>>>0<j>>>0?1:0)|0,Y=P,j=C,P=A,C=E,A=D,E=F,F=G+V|0,D=Q+q+(F>>>0<G>>>0?1:0)|0}p=r.low=p+F,r.high=h+D+(p>>>0<F>>>0?1:0),m=i.low=m+E,i.high=f+A+(m>>>0<E>>>0?1:0),v=o.low=v+C,o.high=g+P+(v>>>0<C>>>0?1:0),_=l.low=_+j,l.high=y+Y+(_>>>0<j>>>0?1:0),w=u.low=w+R,u.high=b+O+(w>>>0<R>>>0?1:0),L=c.low=L+U,c.high=k+I+(L>>>0<U>>>0?1:0),S=d.low=S+N,d.high=M+H+(S>>>0<N>>>0?1:0),T=n.low=T+B,n.high=x+z+(T>>>0<B>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(r),t.HmacSHA512=n._createHmacHelper(r)}(),function(){var e=zn,t=e.x64,n=t.Word,r=t.WordArray,t=e.algo,i=t.SHA512,t=t.SHA384=i.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=i._createHelper(t),e.HmacSHA384=i._createHmacHelper(t)}();var Bn,Zn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qn="=";"Microsoft Internet Explorer"==Un.appName?(o.prototype.am=l,Bn=30):"Netscape"!=Un.appName?(o.prototype.am=a,Bn=26):(o.prototype.am=u,Bn=28),o.prototype.DB=Bn,o.prototype.DM=(1<<Bn)-1,o.prototype.DV=1<<Bn;o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-Bn,o.prototype.F2=2*Bn-52;var Wn,Vn,$n="0123456789abcdefghijklmnopqrstuvwxyz",Kn=new Array;for(Wn="0".charCodeAt(0),Vn=0;Vn<=9;++Vn)Kn[Wn++]=Vn;for(Wn="a".charCodeAt(0),Vn=10;Vn<36;++Vn)Kn[Wn++]=Vn;for(Wn="A".charCodeAt(0),Vn=10;Vn<36;++Vn)Kn[Wn++]=Vn;P.prototype.convert=C,P.prototype.revert=Y,P.prototype.reduce=j,P.prototype.mulTo=O,P.prototype.sqrTo=R,U.prototype.convert=H,U.prototype.revert=N,U.prototype.reduce=z,U.prototype.mulTo=Z,U.prototype.sqrTo=B,o.prototype.copyTo=h,o.prototype.fromInt=p,o.prototype.fromString=m,o.prototype.clamp=g,o.prototype.dlShiftTo=L,o.prototype.drShiftTo=M,o.prototype.lShiftTo=S,o.prototype.rShiftTo=x,o.prototype.subTo=T,o.prototype.multiplyTo=D,o.prototype.squareTo=F,o.prototype.divRemTo=A,o.prototype.invDigit=I,o.prototype.isEven=q,o.prototype.exp=W,o.prototype.toString=v,o.prototype.negate=y,o.prototype.abs=_,o.prototype.compareTo=b,o.prototype.bitLength=k,o.prototype.mod=E,o.prototype.modPowInt=V,o.ZERO=f(0),o.ONE=f(1),Ie.prototype.convert=Ue,Ie.prototype.revert=Ue,Ie.prototype.mulTo=He,Ie.prototype.sqrTo=Ne,qe.prototype.convert=We,qe.prototype.revert=Ve,qe.prototype.reduce=$e,qe.prototype.mulTo=Ge,qe.prototype.sqrTo=Ke;var Gn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Jn=(1<<26)/Gn[Gn.length-1];o.prototype.chunkSize=X,o.prototype.toRadix=ee,o.prototype.fromRadix=te,o.prototype.fromNumber=ne,o.prototype.bitwiseTo=ae,o.prototype.changeBit=Me,o.prototype.addTo=De,o.prototype.dMultiply=Oe,o.prototype.dAddOffset=Re,o.prototype.multiplyLowerTo=Be,o.prototype.multiplyUpperTo=Ze,o.prototype.modInt=Qe,o.prototype.millerRabin=nt,o.prototype.clone=$,o.prototype.intValue=K,o.prototype.byteValue=G,o.prototype.shortValue=J,o.prototype.signum=Q,o.prototype.toByteArray=re,o.prototype.equals=ie,o.prototype.min=oe,o.prototype.max=se,o.prototype.and=ue,o.prototype.or=de,o.prototype.xor=pe,o.prototype.andNot=me,o.prototype.not=ge,o.prototype.shiftLeft=ve,o.prototype.shiftRight=ye,o.prototype.getLowestSetBit=be,o.prototype.bitCount=ke,o.prototype.testBit=Le,o.prototype.setBit=Se,o.prototype.clearBit=xe,o.prototype.flipBit=Te,o.prototype.add=Fe,o.prototype.subtract=Ae,o.prototype.multiply=Ee,o.prototype.divide=Ce,o.prototype.remainder=Ye,o.prototype.divideAndRemainder=je,o.prototype.modPow=Je,o.prototype.modInverse=et,o.prototype.pow=ze,o.prototype.gcd=Xe,o.prototype.isProbablePrime=tt,o.prototype.square=Pe,rt.prototype.init=it,rt.prototype.next=ot;var Xn,Qn,er,tr=256;if(null==Qn){Qn=new Array,er=0;var nr;if(void 0!==Hn&&(void 0!==Hn.crypto||void 0!==Hn.msCrypto)){var rr=Hn.crypto||Hn.msCrypto;if(rr.getRandomValues){var ir=new Uint8Array(32);for(rr.getRandomValues(ir),nr=0;nr<32;++nr)Qn[er++]=ir[nr]}else if("Netscape"==Un.appName&&Un.appVersion<"5"){var or=Hn.crypto.random(32);for(nr=0;nr<or.length;++nr)Qn[er++]=255&or.charCodeAt(nr)}}for(;er<tr;)nr=Math.floor(65536*Math.random()),Qn[er++]=nr>>>8,Qn[er++]=255&nr;er=0,lt()}dt.prototype.nextBytes=ct,gt.prototype.doPublic=yt,gt.prototype.setPublic=vt,gt.prototype.encrypt=_t,gt.prototype.encryptOAEP=bt,gt.prototype.type="RSA",wt.prototype.equals=kt,wt.prototype.toBigInteger=Lt,wt.prototype.negate=Mt,wt.prototype.add=St,wt.prototype.subtract=xt,wt.prototype.multiply=Tt,wt.prototype.square=Dt,wt.prototype.divide=Ft,At.prototype.getX=Et,At.prototype.getY=Pt,At.prototype.equals=Ct,At.prototype.isInfinity=Yt,At.prototype.negate=jt,At.prototype.add=Ot,At.prototype.twice=Rt,At.prototype.multiply=It,At.prototype.multiplyTwo=Ut,Ht.prototype.getQ=Nt,Ht.prototype.getA=zt,Ht.prototype.getB=Bt,Ht.prototype.equals=Zt,Ht.prototype.getInfinity=qt,Ht.prototype.fromBigInteger=Wt,Ht.prototype.decodePointHex=Vt,wt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},At.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},At.decodeFrom=function(e,t){var n=(t[0],t.length-1),r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var s=new o(r),a=new o(i);return new At(e,e.fromBigInteger(s),e.fromBigInteger(a))},At.decodeFromHex=function(e,t){var n=(t.substr(0,2),t.length-2),r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),s=new o(r,16),a=new o(i,16);return new At(e,e.fromBigInteger(s),e.fromBigInteger(a))},At.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y),r=n.divide(t),i=r.square().subtract(this.x).subtract(e.x),o=r.multiply(this.x.subtract(i)).subtract(this.y);return new At(this.curve,i,o)},At.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(o.valueOf(2)),t=this.curve.fromBigInteger(o.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new At(this.curve,r,i)},At.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new o("3")),i=this.negate(),s=this;for(t=r.bitLength()-2;t>0;--t){s=s.twice();var a=r.testBit(t);a!=n.testBit(t)&&(s=s.add2D(a?this:i))}return s},At.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),s=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(s)},At.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},At.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(o.ONE)<0||t.compareTo(e.subtract(o.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(o.ONE)<0||n.compareTo(e.subtract(o.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var sr=function(){function e(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),n=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},i=new String(""),o=(Object,Array,Object.hasOwnProperty);return function(r,s){var a,l=r.match(t),u=l[0],c=!1;"{"===u?a={}:"["===u?a=[]:(a=[],c=!0);for(var d,h=[a],p=1-c,f=l.length;p<f;++p){u=l[p];var m;switch(u.charCodeAt(0)){default:m=h[0],m[d||m.length]=+u,d=void 0;break;case 34:if(u=u.substring(1,u.length-1),-1!==u.indexOf("\\")&&(u=u.replace(n,e)),m=h[0],!d){if(!(m instanceof Array)){d=u||i;break}d=m.length}m[d]=u,d=void 0;break;case 91:m=h[0],h.unshift(m[d||m.length]=[]),d=void 0;break;case 93:h.shift();break;case 102:m=h[0],m[d||m.length]=!1,d=void 0;break;case 110:m=h[0],m[d||m.length]=null,d=void 0;break;case 116:m=h[0],m[d||m.length]=!0,d=void 0;break;case 123:m=h[0],h.unshift(m[d||m.length]={}),d=void 0;break;case 125:h.shift()}}if(c){if(1!==h.length)throw new Error;a=a[0]}else if(h.length)throw new Error;if(s){a=function e(t,n){var r=t[n];if(r&&"object"===(void 0===r?"undefined":In(r))){var i=null;for(var a in r)if(o.call(r,a)&&r!==t){var l=e(r,a);void 0!==l?r[a]=l:(i||(i=[]),i.push(a))}if(i)for(var u=i.length;--u>=0;)delete r[i[u]]}return s.call(t,n,r)}({"":a},"")}return a}}();void 0!==lr&&lr||(t.KJUR=lr={}),void 0!==lr.asn1&&lr.asn1||(lr.asn1={}),lr.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1),r=n.length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var i="",s=0;s<r;s++)i+="f";t=new o(i,16).xor(e).add(o.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return mn(e,t)},this.newObject=function(e){var t=lr,n=t.asn1,r=n.DERBoolean,i=n.DERInteger,o=n.DERBitString,s=n.DEROctetString,a=n.DERNull,l=n.DERObjectIdentifier,u=n.DEREnumerated,c=n.DERUTF8String,d=n.DERNumericString,h=n.DERPrintableString,p=n.DERTeletexString,f=n.DERIA5String,m=n.DERUTCTime,g=n.DERGeneralizedTime,v=n.DERSequence,y=n.DERSet,_=n.DERTaggedObject,b=n.ASN1Util.newObject,w=Object.keys(e);if(1!=w.length)throw"key of param shall be only one.";var k=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+k+":"))throw"undefined key: "+k;if("bool"==k)return new r(e[k]);if("int"==k)return new i(e[k]);if("bitstr"==k)return new o(e[k]);if("octstr"==k)return new s(e[k]);if("null"==k)return new a(e[k]);if("oid"==k)return new l(e[k]);if("enum"==k)return new u(e[k]);if("utf8str"==k)return new c(e[k]);if("numstr"==k)return new d(e[k]);if("prnstr"==k)return new h(e[k]);if("telstr"==k)return new p(e[k]);if("ia5str"==k)return new f(e[k]);if("utctime"==k)return new m(e[k]);if("gentime"==k)return new g(e[k]);if("seq"==k){for(var L=e[k],M=[],S=0;S<L.length;S++){var x=b(L[S]);M.push(x)}return new v({array:M})}if("set"==k){for(var L=e[k],M=[],S=0;S<L.length;S++){var x=b(L[S]);M.push(x)}return new y({array:M})}if("tag"==k){var T=e[k];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var D=b(T[2]);return new _({tag:T[0],explicit:T[1],obj:D})}var F={};if(void 0!==T.explicit&&(F.explicit=T.explicit),void 0!==T.tag&&(F.tag=T.tag),void 0===T.obj)throw"obj shall be specified for 'tag'.";return F.obj=b(T.obj),new _(F)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},lr.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=Math.floor(n/40),i=n%40,t=r+"."+i,s="",a=2;a<e.length;a+=2){var l=parseInt(e.substr(a,2),16),u=("00000000"+l.toString(2)).slice(-8);if(s+=u.substr(1,7),"0"==u.substr(0,1)){t=t+"."+new o(s,2).toString(10),s=""}}return t},lr.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",r=e.split("."),i=40*parseInt(r[0])+parseInt(r[1]);n+=t(i),r.splice(0,2);for(var s=0;s<r.length;s++)n+=function(e){var n="",r=new o(e,10),i=r.toString(2),s=7-i.length%7;7==s&&(s=0);for(var a="",l=0;l<s;l++)a+="0";i=a+i;for(var l=0;l<i.length-1;l+=7){var u=i.substr(l,7);l!=i.length-7&&(u="1"+u),n+=t(parseInt(u,2))}return n}(r[s]);return n},lr.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},lr.asn1.DERAbstractString=function(e){lr.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ln(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Nn.lang.extend(lr.asn1.DERAbstractString,lr.asn1.ASN1Object),lr.asn1.DERAbstractTime=function(e){lr.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=r(String(i.getMonth()+1),2),a=r(String(i.getDate()),2),l=r(String(i.getHours()),2),u=r(String(i.getMinutes()),2),c=r(String(i.getSeconds()),2),d=o+s+a+l+u+c;if(!0===n){var h=i.getMilliseconds();if(0!=h){var p=r(String(h),3);p=p.replace(/[0]+$/,""),d=d+"."+p}}return d+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Jt(e)},this.setByDateValue=function(e,t,n,r,i,o){var s=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},Nn.lang.extend(lr.asn1.DERAbstractTime,lr.asn1.ASN1Object),lr.asn1.DERAbstractStructured=function(e){lr.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Nn.lang.extend(lr.asn1.DERAbstractStructured,lr.asn1.ASN1Object),lr.asn1.DERBoolean=function(){lr.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Nn.lang.extend(lr.asn1.DERBoolean,lr.asn1.ASN1Object),lr.asn1.DERInteger=function(e){lr.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=lr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new o(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Nn.lang.extend(lr.asn1.DERInteger,lr.asn1.ASN1Object),lr.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=lr.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}lr.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){
if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";for(var r="",n=0;n<e.length-1;n+=8){var i=e.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Nn.lang.extend(lr.asn1.DERBitString,lr.asn1.ASN1Object),lr.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=lr.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}lr.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Nn.lang.extend(lr.asn1.DEROctetString,lr.asn1.DERAbstractString),lr.asn1.DERNull=function(){lr.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Nn.lang.extend(lr.asn1.DERNull,lr.asn1.ASN1Object),lr.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new o(e,10),i=r.toString(2),s=7-i.length%7;7==s&&(s=0);for(var a="",l=0;l<s;l++)a+="0";i=a+i;for(var l=0;l<i.length-1;l+=7){var u=i.substr(l,7);l!=i.length-7&&(u="1"+u),n+=t(parseInt(u,2))}return n};lr.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(e){var t=lr.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},Nn.lang.extend(lr.asn1.DERObjectIdentifier,lr.asn1.ASN1Object),lr.asn1.DEREnumerated=function(e){lr.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=lr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new o(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Nn.lang.extend(lr.asn1.DEREnumerated,lr.asn1.ASN1Object),lr.asn1.DERUTF8String=function(e){lr.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Nn.lang.extend(lr.asn1.DERUTF8String,lr.asn1.DERAbstractString),lr.asn1.DERNumericString=function(e){lr.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Nn.lang.extend(lr.asn1.DERNumericString,lr.asn1.DERAbstractString),lr.asn1.DERPrintableString=function(e){lr.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Nn.lang.extend(lr.asn1.DERPrintableString,lr.asn1.DERAbstractString),lr.asn1.DERTeletexString=function(e){lr.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Nn.lang.extend(lr.asn1.DERTeletexString,lr.asn1.DERAbstractString),lr.asn1.DERIA5String=function(e){lr.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Nn.lang.extend(lr.asn1.DERIA5String,lr.asn1.DERAbstractString),lr.asn1.DERUTCTime=function(e){lr.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=Jt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Jt(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},Nn.lang.extend(lr.asn1.DERUTCTime,lr.asn1.DERAbstractTime),lr.asn1.DERGeneralizedTime=function(e){lr.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Jt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Jt(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},Nn.lang.extend(lr.asn1.DERGeneralizedTime,lr.asn1.DERAbstractTime),lr.asn1.DERSequence=function(e){lr.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){e+=this.asn1Array[t].getEncodedHex()}return this.hV=e,this.hV}},Nn.lang.extend(lr.asn1.DERSequence,lr.asn1.DERAbstractStructured),lr.asn1.DERSet=function(e){lr.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Nn.lang.extend(lr.asn1.DERSet,lr.asn1.DERAbstractStructured),lr.asn1.DERTaggedObject=function(e){lr.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Nn.lang.extend(lr.asn1.DERTaggedObject,lr.asn1.ASN1Object);var ar=new function(){};ar.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},ar.getL=function(e,t){var n=ar.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},ar.getVblen=function(e,t){var n,r;return""==(n=ar.getL(e,t))?-1:(r="8"===n.substr(0,1)?new o(n.substr(2),16):new o(n,16),r.intValue())},ar.getVidx=function(e,t){var n=ar.getLblen(e,t);return n<0?n:t+2*(n+1)},ar.getV=function(e,t){var n=ar.getVidx(e,t),r=ar.getVblen(e,t);return e.substr(n,2*r)},ar.getTLV=function(e,t){return e.substr(t,2)+ar.getL(e,t)+ar.getV(e,t)},ar.getNextSiblingIdx=function(e,t){return ar.getVidx(e,t)+2*ar.getVblen(e,t)},ar.getChildIdx=function(e,t){var n=ar,r=new Array,i=n.getVidx(e,t);"03"==e.substr(t,2)?r.push(i+2):r.push(i);for(var o=n.getVblen(e,t),s=i,a=0;;){var l=n.getNextSiblingIdx(e,s);if(null==l||l-i>=2*o)break;if(a>=200)break;r.push(l),s=l,a++}return r},ar.getNthChildIdx=function(e,t,n){return ar.getChildIdx(e,t)[n]},ar.getIdxbyList=function(e,t,n,r){var i,o,s=ar;if(0==n.length){if(void 0!==r&&e.substr(t,2)!==r)throw"checking tag doesn't match: "+e.substr(t,2)+"!="+r;return t}return i=n.shift(),o=s.getChildIdx(e,t),s.getIdxbyList(e,o[i],n,r)},ar.getTLVbyList=function(e,t,n,r){var i=ar,o=i.getIdxbyList(e,t,n);if(void 0===o)throw"can't find nthList object";if(void 0!==r&&e.substr(o,2)!=r)throw"checking tag doesn't match: "+e.substr(o,2)+"!="+r;return i.getTLV(e,o)},ar.getVbyList=function(e,t,n,r,i){var o,s,a=ar;if(void 0===(o=a.getIdxbyList(e,t,n,r)))throw"can't find nthList object";return s=a.getV(e,o),!0===i&&(s=s.substr(2)),s},ar.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));for(var l=[],u="",a=0;a<s.length;a++)128&s[a]?u+=t((127&s[a]).toString(2),7):(u+=t((127&s[a]).toString(2),7),l.push(new String(parseInt(u,2))),u="");var c=n.join(".");return l.length>0&&(c=c+"."+l.join(".")),c},ar.dump=function(e,t,n,r){var i=ar,o=i.getV,s=i.dump,a=i.getChildIdx,l=e;e instanceof lr.asn1.ASN1Object&&(l=e.getEncodedHex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var c=t.ommit_long_octet;if("01"==l.substr(n,2)){var d=o(l,n);return"00"==d?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n"}if("02"==l.substr(n,2)){var d=o(l,n);return r+"INTEGER "+u(d,c)+"\n"}if("03"==l.substr(n,2)){var d=o(l,n);return r+"BITSTRING "+u(d,c)+"\n"}if("04"==l.substr(n,2)){var d=o(l,n);if(i.isASN1HEX(d)){var h=r+"OCTETSTRING, encapsulates\n";return h+=s(d,t,0,r+"  ")}return r+"OCTETSTRING "+u(d,c)+"\n"}if("05"==l.substr(n,2))return r+"NULL\n";if("06"==l.substr(n,2)){var p=o(l,n),f=lr.asn1.ASN1Util.oidHexToInt(p),m=lr.asn1.x509.OID.oid2name(f),g=f.replace(/\./g," ");return""!=m?r+"ObjectIdentifier "+m+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0c"==l.substr(n,2))return r+"UTF8String '"+un(o(l,n))+"'\n";if("13"==l.substr(n,2))return r+"PrintableString '"+un(o(l,n))+"'\n";if("14"==l.substr(n,2))return r+"TeletexString '"+un(o(l,n))+"'\n";if("16"==l.substr(n,2))return r+"IA5String '"+un(o(l,n))+"'\n";if("17"==l.substr(n,2))return r+"UTCTime "+un(o(l,n))+"\n";if("18"==l.substr(n,2))return r+"GeneralizedTime "+un(o(l,n))+"\n";if("30"==l.substr(n,2)){if("3000"==l.substr(n,4))return r+"SEQUENCE {}\n";var h=r+"SEQUENCE\n",v=a(l,n),y=t;if((2==v.length||3==v.length)&&"06"==l.substr(v[0],2)&&"04"==l.substr(v[v.length-1],2)){var m=i.oidname(o(l,v[0])),_=JSON.parse(JSON.stringify(t));_.x509ExtName=m,y=_}for(var b=0;b<v.length;b++)h+=s(l,y,v[b],r+"  ");return h}if("31"==l.substr(n,2)){for(var h=r+"SET\n",v=a(l,n),b=0;b<v.length;b++)h+=s(l,t,v[b],r+"  ");return h}var w=parseInt(l.substr(n,2),16);if(0!=(128&w)){var k=31&w;if(0!=(32&w)){for(var h=r+"["+k+"]\n",v=a(l,n),b=0;b<v.length;b++)h+=s(l,t,v[b],r+"  ");return h}var d=o(l,n);"68747470"==d.substr(0,8)&&(d=un(d)),"subjectAltName"===t.x509ExtName&&2==k&&(d=un(d));var h=r+"["+k+"] "+d+"\n";return h}return r+"UNKNOWN("+l.substr(n,2)+") "+o(l,n)+"\n"},ar.isASN1HEX=function(e){var t=ar;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},ar.oidname=function(e){var t=lr.asn1;lr.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n};var lr;void 0!==lr&&lr||(t.KJUR=lr={}),void 0!==lr.lang&&lr.lang||(lr.lang={}),lr.lang.String=function(){};var ur,cr;"function"==typeof e?(t.utf8tob64u=ur=function(t){return tn(new e(t,"utf8").toString("base64"))},t.b64utoutf8=cr=function(t){return new e(nn(t),"base64").toString("utf8")}):(t.utf8tob64u=ur=function(e){return rn(Ln(Fn(e)))},t.b64utoutf8=cr=function(e){return decodeURIComponent(Mn(on(e)))}),lr.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},lr.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},lr.lang.String.isBase64=function(e){return e=e.replace(/\s+/g,""),!(!e.match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},lr.lang.String.isBase64URL=function(e){return!e.match(/[+\/=]/)&&(e=nn(e),lr.lang.String.isBase64(e))},lr.lang.String.isIntegerArray=function(e){return e=e.replace(/\s+/g,""),!!e.match(/^\[[0-9,]+\]$/)};var dr=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1};void 0!==lr&&lr||(t.KJUR=lr={}),void 0!==lr.crypto&&lr.crypto||(lr.crypto={}),lr.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:zn.algo.MD5,sha1:zn.algo.SHA1,sha224:zn.algo.SHA224,sha256:zn.algo.SHA256,sha384:zn.algo.SHA384,sha512:zn.algo.SHA512,ripemd160:zn.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="0001",s="00"+r,a="",l=i-o.length-s.length,u=0;u<l;u+=2)a+="ff";return o+a+s},this.hashString=function(e,t){return new lr.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new lr.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return new lr.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(e)},this.sha256=function(e){return new lr.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(e)},this.sha256Hex=function(e){return new lr.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(e)},this.sha512=function(e){return new lr.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(e)},this.sha512Hex=function(e){return new lr.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(e)}},lr.crypto.Util.md5=function(e){return new lr.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},lr.crypto.Util.ripemd160=function(e){return new lr.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},lr.crypto.Util.SECURERANDOMGEN=new dt,lr.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return lr.crypto.Util.SECURERANDOMGEN.nextBytes(t),Gt(t)},lr.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new o(lr.crypto.Util.getRandomHexOfNbytes(e),16)},lr.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=(e-t)/8,r=new Array(n+1);return lr.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],Gt(r)},lr.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new o(lr.crypto.Util.getRandomHexOfNbits(e),16)},lr.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=lr.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},lr.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return lr.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},lr.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(e=lr.crypto.MessageDigest.getCanonicalAlgName(e),null!==e&&void 0===t&&(t=lr.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=lr.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=zn.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(zn.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=lr.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},lr.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=e.toLowerCase(),e=e.replace(/-/,"")),e},lr.crypto.MessageDigest.getHashLength=function(e){var t=lr.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},lr.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},lr.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(e=e.toLowerCase(),null==e&&(e="hmacsha1"),e=e.toLowerCase(),"hmac"!=e.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=lr.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=lr.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=zn.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=zn.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(zn.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=dn(e)),void(this.pass=zn.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":In(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;var t=null;if(void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=ln(e.utf8)),void 0!==e.rstr&&(t=dn(e.rstr)),void 0!==e.b64&&(t=r(e.b64)),void 0!==e.b64u&&(t=on(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=zn.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=lr.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},lr.crypto.Signature=function(e){if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase())},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new lr.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e}this.init=function(e,t){var n=null;try{n=void 0===t?hr.getKey(e):hr.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var e=new lr.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof gt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof gt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof lr.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof lr.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new lr.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,e,this.ecpubhex);if(this.pubKey instanceof gt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof gt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==lr.crypto.ECDSA&&this.pubKey instanceof lr.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==lr.crypto.DSA&&this.pubKey instanceof lr.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=lr.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{hr.getKey(e.prvkeypem),this.init(null)}catch(e){throw"fatal error to load pem private key: "+e}}},lr.crypto.Cipher=function(e){},lr.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof gt&&t.isPublic){var r=lr.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},lr.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof gt&&t.isPrivate){var r=lr.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},lr.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof gt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null===t||void 0===t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},lr.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==lr&&lr||(t.KJUR=lr={}),void 0!==lr.crypto&&lr.crypto||(lr.crypto={}),lr.crypto.ECDSA=function(e){var t=new dt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new o(e.bitLength(),t).mod(e.subtract(o.ONE)).add(o.ONE)},this.setNamedCurve=function(e){this.ecparams=lr.crypto.ECParameterDB.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.G.multiply(t),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),o=this.ecparams.keylen/4,s=("0000000000"+t.toString(16)).slice(-o),a=("0000000000"+r.toString(16)).slice(-o),l=("0000000000"+i.toString(16)).slice(-o),u="04"+a+l;return this.setPrivateKeyHex(s),this.setPublicKeyHex(u),{ecprvhex:s,ecpubhex:u}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new o(t,16),r=this.ecparams.n,i=new o(e,16);do{var s=this.getBigRandom(r),a=this.ecparams.G,l=a.multiply(s),u=l.getX().toBigInteger().mod(r)}while(u.compareTo(o.ZERO)<=0);var c=s.modInverse(r).multiply(i.add(n.multiply(u))).mod(r);return lr.crypto.ECDSA.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var n=t,r=this.ecparams.n,i=o.fromByteArrayUnsigned(e);do{var s=this.getBigRandom(r),a=this.ecparams.G,l=a.multiply(s),u=l.getX().toBigInteger().mod(r)}while(u.compareTo(o.ZERO)<=0);var c=s.modInverse(r).multiply(i.add(n.multiply(u))).mod(r);return this.serializeSig(u,c)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,n){var r,i,s=lr.crypto.ECDSA.parseSigHex(t);r=s.r,i=s.s;var a;a=At.decodeFromHex(this.ecparams.curve,n);var l=new o(e,16);return this.verifyRaw(l,r,i,a)},this.verify=function(e,t,n){var r,i;if(Bitcoin.Util.isArray(t)){var s=this.parseSig(t);r=s.r,i=s.s}else{if("object"!==(void 0===t?"undefined":In(t))||!t.r||!t.s)throw"Invalid value for signature";r=t.r,i=t.s}var a;if(n instanceof At)a=n;else{if(!Bitcoin.Util.isArray(n))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=At.decodeFrom(this.ecparams.curve,n)}var l=o.fromByteArrayUnsigned(e);return this.verifyRaw(l,r,i,a)},this.verifyRaw=function(e,t,n,r){var i=this.ecparams.n,s=this.ecparams.G;if(t.compareTo(o.ONE)<0||t.compareTo(i)>=0)return!1;if(n.compareTo(o.ONE)<0||n.compareTo(i)>=0)return!1;var a=n.modInverse(i),l=e.multiply(a).mod(i),u=t.multiply(a).mod(i);return s.multiply(l).add(r.multiply(u)).getX().toBigInteger().mod(i).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),i=i.concat(n),i.push(2),i.push(r.length),i=i.concat(r),i.unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(t=2,2!=e[t])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(t+=2+e[t+1],2!=e[t])throw new Error("Second element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:o.fromByteArrayUnsigned(n),s:o.fromByteArrayUnsigned(r)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:o.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:o.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){var t=ar,n=lr.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,o,s;try{i=r(e,0,[2,0],"06"),o=r(e,0,[1],"04");try{s=r(e,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=n(i),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(s),this.setPrivateKeyHex(o),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){var t=ar,n=lr.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,o,s;try{r(e,0,[1,0],"06"),i=r(e,0,[1,1],"06"),o=r(e,0,[2,0,1],"04");try{s=r(e,0,[2,0,2,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=n(i),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(s),this.setPrivateKeyHex(o),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){var t=ar,n=lr.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,o;try{r(e,0,[0,0],"06"),i=r(e,0,[0,1],"06"),
o=r(e,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}if(this.curveName=n(i),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(o)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var n=ar,r=lr.crypto.ECDSA.getName,i=n.getVbyList;if(!1===n.isASN1HEX(e))throw"not ASN.1 hex string";var o,s;try{o=i(e,0,[0,t,0,1],"06"),s=i(e,0,[0,t,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}if(this.curveName=r(o),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(s)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},lr.crypto.ECDSA.parseSigHex=function(e){var t=lr.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new o(t.r,16),s:new o(t.s,16)}},lr.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=ar,n=t.getChildIdx,r=t.getV;if("30"!=e.substr(0,2))throw"signature is not a ASN.1 sequence";var i=n(e,0);if(2!=i.length)throw"number of signature ASN.1 sequence elements seem wrong";var o=i[0],s=i[1];if("02"!=e.substr(o,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=e.substr(s,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:r(e,o),s:r(e,s)}},lr.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=lr.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},lr.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return lr.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},lr.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new o(e,16),r=new o(t,16);return lr.crypto.ECDSA.biRSSigToASN1Sig(n,r)},lr.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=lr.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},lr.crypto.ECDSA.getName=function(e){return"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==lr&&lr||(t.KJUR=lr={}),void 0!==lr.crypto&&lr.crypto||(lr.crypto={}),lr.crypto.ECParameterDB=new function(){function e(e){return new o(e,16)}var t={},n={};this.getByName=function(e){var r=e;if(void 0!==n[r]&&(r=n[e]),void 0!==t[r])return t[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,a,l,u,c,d,h,p,f){t[r]={};var m=e(o),g=e(s),v=e(a),y=e(l),_=e(u),b=new Ht(m,g,v),w=b.decodePointHex("04"+c+d);t[r].name=r,t[r].keylen=i,t[r].curve=b,t[r].G=w,t[r].n=y,t[r].h=_,t[r].oid=p,t[r].info=f;for(var k=0;k<h.length;k++)n[h[k]]=r}},lr.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),lr.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),lr.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),lr.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),lr.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),lr.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),lr.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),lr.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),lr.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),lr.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var hr=function(){var e=function(e,t,n){return r(zn.AES,e,t,n)},t=function(e,t,n){return r(zn.TripleDES,e,t,n)},n=function(e,t,n){return r(zn.DES,e,t,n)},r=function(e,t,n,r){var i=zn.enc.Hex.parse(t),o=zn.enc.Hex.parse(n),s=zn.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var l=e.decrypt(a,o,{iv:s});return zn.enc.Hex.stringify(l)},i=function(e,t,n){return a(zn.AES,e,t,n)},o=function(e,t,n){return a(zn.TripleDES,e,t,n)},s=function(e,t,n){return a(zn.DES,e,t,n)},a=function(e,t,n,r){var i=zn.enc.Hex.parse(t),o=zn.enc.Hex.parse(n),s=zn.enc.Hex.parse(r),a=e.encrypt(i,o,{iv:s}),l=zn.enc.Hex.parse(a.toString());return zn.enc.Base64.stringify(l)},l={"AES-256-CBC":{proc:e,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:t,eproc:o,keylen:24,ivlen:8},"DES-CBC":{proc:n,eproc:s,keylen:8,ivlen:8}},u=function(e){var t=zn.lib.WordArray.random(e);return zn.enc.Hex.stringify(t)},c=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var s=e.indexOf("-----END");if(-1!=i&&-1!=s){var a=e.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),t.data=a}return t},d=function(e,t,n){for(var r=n.substring(0,16),i=zn.enc.Hex.parse(r),o=zn.enc.Utf8.parse(t),s=l[e].keylen+l[e].ivlen,a="",u=null;;){var c=zn.algo.MD5.create();if(null!=u&&c.update(u),c.update(o),c.update(i),u=c.finalize(),a+=zn.enc.Hex.stringify(u),a.length>=2*s)break}var d={};return d.keyhex=a.substr(0,2*l[e].keylen),d.ivhex=a.substr(2*l[e].keylen,2*l[e].ivlen),d},h=function(e,t,n,r){var i=zn.enc.Base64.parse(e),o=zn.enc.Hex.stringify(i);return(0,l[t].proc)(o,n,r)},p=function(e,t,n,r){return(0,l[t].eproc)(e,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return c(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return d(e,t,n)},decryptKeyB64:function(e,t,n,r){return h(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=c(e),r=(n.type,n.cipher),i=n.ivsalt,o=n.data,s=d(r,t,i),a=s.keyhex;return h(o,r,a,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,i){var o="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===l[r])throw"KEYUTIL unsupported algorithm: "+r;if(void 0===i||null==i){var s=l[r].ivlen;i=u(s).toUpperCase()}var a=d(r,n,i),c=a.keyhex,h=p(t,r,c,i),f=h.replace(/(.{64})/g,"$1\r\n"),o="-----BEGIN "+e+" PRIVATE KEY-----\r\n";return o+="Proc-Type: 4,ENCRYPTED\r\n",o+="DEK-Info: "+r+","+i+"\r\n",o+="\r\n",o+=f,o+="\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=ar,n=t.getChildIdx,r=t.getV,i={},o=n(e,0);if(2!=o.length)throw"malformed format: SEQUENCE(0).items != 2: "+o.length;i.ciphertext=r(e,o[1]);var s=n(e,o[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=r(e,s[0]))throw"this only supports pkcs5PBES2";var a=n(e,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var l=n(e,a[1]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length;if("2a864886f70d0307"!=r(e,l[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,l[1]);var u=n(e,a[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=r(e,u[0]))throw"this only supports pkcs5PBKDF2";var c=n(e,u[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;i.pbkdf2Salt=r(e,c[0]);var d=r(e,c[1]);try{i.pbkdf2Iter=parseInt(d,16)}catch(e){throw"malformed format pbkdf2Iter: "+d}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=zn.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=zn.PBKDF2(t,n,{keySize:6,iterations:r});return zn.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=gn(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=hr.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=zn.enc.Hex.parse(r.ciphertext);var s=zn.enc.Hex.parse(i),a=zn.enc.Hex.parse(r.encryptionSchemeIV),l=zn.TripleDES.decrypt(o,s,{iv:a});return zn.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=ar,n=t.getChildIdx,r=t.getV,i={};if(i.algparam=null,"30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=n(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var s=n(e,o[1]);if(2!=s.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)&&(i.algparam=r(e,s[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=gn(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new gt;else if("2a8648ce380401"==n.algoid)t=new lr.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new lr.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=ar.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new gt;else if("2a8648ce380401"===n)t=new lr.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new lr.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=ar,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var o=n(e,0);if(2!=o.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(o[0],2))throw"malformed RSA key(code:003)";if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw"malformed RSA key(code:004)";return i.e=r(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=ar,n=t.getChildIdx,r=t.getV,i={};i.algparam=null;var o=n(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var s=o[0];if("30"!=e.substr(s,2))throw"malformed PKCS8 public key(code:001)";var a=n(e,s);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=r(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(e,o[1]).substr(2),i}}}();hr.getKey=function(e,t,n){var r=ar,i=r.getChildIdx,s=(r.getV,r.getVbyList),a=lr.crypto,l=a.ECDSA,u=a.DSA,c=gt,d=gn,h=hr;if(void 0!==c&&e instanceof c)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new l({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new l({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d){var p=new c;return p.setPublic(e.n,e.e),p}if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi){var p=new c;return p.setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),p}if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p){var p=new c;return p.setPrivate(e.n,e.e,e.d),p}if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x){var p=new u;return p.setPublic(e.p,e.q,e.g,e.y),p}if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x){var p=new u;return p.setPrivate(e.p,e.q,e.g,e.y,e.x),p}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d){var p=new c;return p.setPublic(on(e.n),on(e.e)),p}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi){var p=new c;return p.setPrivateEx(on(e.n),on(e.e),on(e.d),on(e.p),on(e.q),on(e.dp),on(e.dq),on(e.qi)),p}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d){var p=new c;return p.setPrivate(on(e.n),on(e.e),on(e.d)),p}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var f=new l({curve:e.crv}),m=f.ecparams.keylen/4,g=("0000000000"+on(e.x)).slice(-m),v=("0000000000"+on(e.y)).slice(-m),y="04"+g+v;return f.setPublicKeyHex(y),f}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){var f=new l({curve:e.crv}),m=f.ecparams.keylen/4,g=("0000000000"+on(e.x)).slice(-m),v=("0000000000"+on(e.y)).slice(-m),y="04"+g+v,_=("0000000000"+on(e.d)).slice(-m);return f.setPublicKeyHex(y),f.setPrivateKeyHex(_),f}if("pkcs5prv"===n){var b,p,w=e,r=ar;if(b=i(w,0),9===b.length)p=new c,p.readPKCS5PrvKeyHex(w);else if(6===b.length)p=new u,p.readPKCS5PrvKeyHex(w);else{if(!(b.length>2&&"04"===w.substr(b[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";p=new l,p.readPKCS5PrvKeyHex(w)}return p}if("pkcs8prv"===n){var p=h.getKeyFromPlainPrivatePKCS8Hex(e);return p}if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return Rn.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Rn.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var k=gn(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(k)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var L=d(e,"RSA PRIVATE KEY");return h.getKey(L,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var M=d(e,"DSA PRIVATE KEY"),S=s(M,0,[1],"02"),x=s(M,0,[2],"02"),T=s(M,0,[3],"02"),D=s(M,0,[4],"02"),F=s(M,0,[5],"02"),p=new u;return p.setPrivate(new o(S,16),new o(x,16),new o(T,16),new o(D,16),new o(F,16)),p}if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A=h.getDecryptedKeyHex(e,t),E=new gt;return E.readPKCS5PrvKeyHex(A),E}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var M=h.getDecryptedKeyHex(e,t),p=s(M,0,[1],"04"),P=s(M,0,[2,0],"06"),C=s(M,0,[3,0],"03").substr(2),Y="";if(void 0===lr.crypto.OID.oidhex2name[P])throw"undefined OID(hex) in KJUR.crypto.OID: "+P;Y=lr.crypto.OID.oidhex2name[P];var f=new l({curve:Y});return f.setPublicKeyHex(C),f.setPrivateKeyHex(p),f.isPublic=!1,f}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var M=h.getDecryptedKeyHex(e,t),S=s(M,0,[1],"02"),x=s(M,0,[2],"02"),T=s(M,0,[3],"02"),D=s(M,0,[4],"02"),F=s(M,0,[5],"02"),p=new u;return p.setPrivate(new o(S,16),new o(x,16),new o(T,16),new o(D,16),new o(F,16)),p}if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw"not supported argument"},hr.generateKeypair=function(e,t){if("RSA"==e){var n=t,r=new gt;r.generate(n,"10001"),r.isPrivate=!0,r.isPublic=!0;var i=new gt,o=r.n.toString(16),s=r.e.toString(16);i.setPublic(o,s),i.isPrivate=!1,i.isPublic=!0;var a={};return a.prvKeyObj=r,a.pubKeyObj=i,a}if("EC"==e){var l=t,u=new lr.crypto.ECDSA({curve:l}),c=u.generateKeyPairHex(),r=new lr.crypto.ECDSA({curve:l});r.setPublicKeyHex(c.ecpubhex),r.setPrivateKeyHex(c.ecprvhex),r.isPrivate=!0,r.isPublic=!1;var i=new lr.crypto.ECDSA({curve:l});i.setPublicKeyHex(c.ecpubhex),i.isPrivate=!1,i.isPublic=!0;var a={};return a.prvKeyObj=r,a.pubKeyObj=i,a}throw"unknown algorithm: "+e},hr.getPEM=function(e,t,n,r,i,o){function s(e){return p({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function a(e){return p({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function l(e){return p({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}var u=lr,c=u.asn1,d=c.DERObjectIdentifier,h=c.DERInteger,p=c.ASN1Util.newObject,f=c.x509,m=f.SubjectPublicKeyInfo,g=u.crypto,v=g.DSA,y=g.ECDSA,_=gt;if((void 0!==_&&e instanceof _||void 0!==v&&e instanceof v||void 0!==y&&e instanceof y)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t)){var b=new m(e),w=b.getEncodedHex();return mn(w,"PUBLIC KEY")}if("PKCS1PRV"==t&&void 0!==_&&e instanceof _&&(void 0===n||null==n)&&1==e.isPrivate){var b=s(e),w=b.getEncodedHex();return mn(w,"RSA PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==y&&e instanceof y&&(void 0===n||null==n)&&1==e.isPrivate){var k=new d({name:e.curveName}),L=k.getEncodedHex(),M=a(e),S=M.getEncodedHex(),x="";return x+=mn(L,"EC PARAMETERS"),x+=mn(S,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==v&&e instanceof v&&(void 0===n||null==n)&&1==e.isPrivate){var b=l(e),w=b.getEncodedHex();return mn(w,"DSA PRIVATE KEY")}if("PKCS5PRV"==t&&void 0!==_&&e instanceof _&&void 0!==n&&null!=n&&1==e.isPrivate){var b=s(e),w=b.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",w,n,r,o)}if("PKCS5PRV"==t&&void 0!==y&&e instanceof y&&void 0!==n&&null!=n&&1==e.isPrivate){var b=a(e),w=b.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",w,n,r,o)}if("PKCS5PRV"==t&&void 0!==v&&e instanceof v&&void 0!==n&&null!=n&&1==e.isPrivate){var b=l(e),w=b.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",w,n,r,o)}var T=function(e,t){var n=D(e,t);return new p({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},D=function(e,t){var n=zn.lib.WordArray.random(8),r=zn.lib.WordArray.random(8),i=zn.PBKDF2(t,n,{keySize:6,iterations:100}),o=zn.enc.Hex.parse(e),s=zn.TripleDES.encrypt(o,i,{iv:r})+"",a={};return a.ciphertext=s,a.pbkdf2Salt=zn.enc.Hex.stringify(n),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=zn.enc.Hex.stringify(r),a};if("PKCS8PRV"==t&&void 0!=_&&e instanceof _&&1==e.isPrivate){var F=s(e),A=F.getEncodedHex(),b=p({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:A}}]}),w=b.getEncodedHex();if(void 0===n||null==n)return mn(w,"PRIVATE KEY");var S=T(w,n);return mn(S,"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==y&&e instanceof y&&1==e.isPrivate){var F=new p({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}),A=F.getEncodedHex(),b=p({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:A}}]}),w=b.getEncodedHex();if(void 0===n||null==n)return mn(w,"PRIVATE KEY");var S=T(w,n);return mn(S,"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==v&&e instanceof v&&1==e.isPrivate){var F=new h({bigint:e.x}),A=F.getEncodedHex(),b=p({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:A}}]}),w=b.getEncodedHex();if(void 0===n||null==n)return mn(w,"PRIVATE KEY");var S=T(w,n);return mn(S,"ENCRYPTED PRIVATE KEY")}throw"unsupported object nor format"},hr.getKeyFromCSRPEM=function(e){var t=gn(e,"CERTIFICATE REQUEST");return hr.getKeyFromCSRHex(t)},hr.getKeyFromCSRHex=function(e){var t=hr.parseCSRHex(e);return hr.getKey(t.p8pubkeyhex,null,"pkcs8pub")},hr.parseCSRHex=function(e){var t=ar,n=t.getChildIdx,r=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw"malformed CSR(code:001)";var s=n(o,0);if(s.length<1)throw"malformed CSR(code:002)";if("30"!=o.substr(s[0],2))throw"malformed CSR(code:003)";var a=n(o,s[0]);if(a.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=r(o,a[2]),i},hr.getJWKFromKey=function(e){var t={};if(e instanceof gt&&e.isPrivate)return t.kty="RSA",t.n=rn(e.n.toString(16)),t.e=rn(e.e.toString(16)),t.d=rn(e.d.toString(16)),t.p=rn(e.p.toString(16)),t.q=rn(e.q.toString(16)),t.dp=rn(e.dmp1.toString(16)),t.dq=rn(e.dmq1.toString(16)),t.qi=rn(e.coeff.toString(16)),t;if(e instanceof gt&&e.isPublic)return t.kty="RSA",t.n=rn(e.n.toString(16)),t.e=rn(e.e.toString(16)),t;if(e instanceof lr.crypto.ECDSA&&e.isPrivate){var n=e.getShortNISTPCurveName();if("P-256"!==n&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=rn(r.x),t.y=rn(r.y),t.d=rn(e.prvKeyHex),t}if(e instanceof lr.crypto.ECDSA&&e.isPublic){var n=e.getShortNISTPCurveName();if("P-256"!==n&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=rn(r.x),t.y=rn(r.y),t}throw"not supported key object"},gt.getPosArrayOfChildrenFromHex=function(e){return ar.getChildIdx(e,0)},gt.getHexValueArrayOfChildrenFromHex=function(e){var t=ar,n=t.getV,r=gt.getPosArrayOfChildrenFromHex(e),i=n(e,r[0]),o=n(e,r[1]),s=n(e,r[2]),a=n(e,r[3]),l=n(e,r[4]),u=n(e,r[5]),c=n(e,r[6]),d=n(e,r[7]),h=n(e,r[8]),r=new Array;return r.push(i,o,s,a,l,u,c,d,h),r},gt.prototype.readPrivateKeyFromPEMString=function(e){var t=gn(e),n=gt.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},gt.prototype.readPKCS5PrvKeyHex=function(e){var t=gt.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},gt.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,s,a,l,u=ar,c=u.getVbyList;if(!1===u.isASN1HEX(e))throw"not ASN.1 hex string";try{t=c(e,0,[2,0,1],"02"),n=c(e,0,[2,0,2],"02"),r=c(e,0,[2,0,3],"02"),i=c(e,0,[2,0,4],"02"),o=c(e,0,[2,0,5],"02"),s=c(e,0,[2,0,6],"02"),a=c(e,0,[2,0,7],"02"),l=c(e,0,[2,0,8],"02")}catch(e){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(t,n,r,i,o,s,a,l)},gt.prototype.readPKCS5PubKeyHex=function(e){var t=ar,n=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw"wrong hex for PKCS#5 public key";var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},gt.prototype.readPKCS8PubKeyHex=function(e){var t=ar;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==t.getTLVbyList(e,0,[0,0]))throw"not PKCS8 RSA public key";var n=t.getTLVbyList(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},gt.prototype.readCertPubKeyHex=function(e,t){var n,r;n=new Rn,n.readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var pr=new RegExp("");pr.compile("[^0-9a-f]","gi"),gt.prototype.sign=function(e,t){var n=function(e){return lr.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},gt.prototype.signWithMessageHash=function(e,t){var n=lr.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),r=ht(n,16);return Yn(this.doPrivate(r).toString(16),this.n.bitLength())},gt.prototype.signPSS=function(e,t,n){var r=function(e){return lr.crypto.Util.hashHex(e,t)}(dn(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},gt.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=cn(e),s=i.length,a=this.n.bitLength()-1,l=Math.ceil(a/8),u=function(e){return lr.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=s;else if(-2===n)n=l-s-2;else if(n<-2)throw"invalid salt length";if(l<s+n+2)throw"data too long";var c="";n>0&&(c=new Array(n),(new dt).nextBytes(c),c=String.fromCharCode.apply(String,c));var d=cn(u(dn("\0\0\0\0\0\0\0\0"+i+c))),h=[];for(r=0;r<l-n-s-2;r+=1)h[r]=0;var p=String.fromCharCode.apply(String,h)+""+c,f=jn(d,p.length,u),m=[];for(r=0;r<p.length;r+=1)m[r]=p.charCodeAt(r)^f.charCodeAt(r);var g=65280>>8*l-a&255;for(m[0]&=~g,r=0;r<s;r++)m.push(d.charCodeAt(r));return m.push(188),Yn(this.doPrivate(new o(m)).toString(16),this.n.bitLength())},gt.prototype.verify=function(e,t){t=t.replace(pr,""),t=t.replace(/[ \n]+/g,"");var n=ht(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,""),o=On(i);if(0==o.length)return!1;var s=o[0],a=o[1];return a==function(e){return lr.crypto.Util.hashString(e,s)}(e)},gt.prototype.verifyWithMessageHash=function(e,t){t=t.replace(pr,""),t=t.replace(/[ \n]+/g,"");var n=ht(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,""),o=On(i);if(0==o.length)return!1;o[0];return o[1]==e},gt.prototype.verifyPSS=function(e,t,n,r){var i=function(e){return lr.crypto.Util.hashHex(e,n)}(dn(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)},gt.prototype.verifyWithMessageHashPSS=function(e,t,n,r){var i=new o(t,16);if(i.bitLength()>this.n.bitLength())return!1;var s,a=function(e){return lr.crypto.Util.hashHex(e,n)},l=cn(e),u=l.length,c=this.n.bitLength()-1,d=Math.ceil(c/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=d-u-2;else if(r<-2)throw"invalid salt length";if(d<u+r+2)throw"data too long";var h=this.doPublic(i).toByteArray();for(s=0;s<h.length;s+=1)h[s]&=255;for(;h.length<d;)h.unshift(0);if(188!==h[d-1])throw"encoded message does not end in 0xbc";h=String.fromCharCode.apply(String,h);var p=h.substr(0,d-u-1),f=h.substr(p.length,u),m=65280>>8*d-c&255;if(0!=(p.charCodeAt(0)&m))throw"bits beyond keysize not zero";var g=jn(f,p.length,a),v=[];for(s=0;s<p.length;s+=1)v[s]=p.charCodeAt(s)^g.charCodeAt(s);v[0]&=~m;var y=d-u-r-2;for(s=0;s<y;s+=1)if(0!==v[s])throw"leftmost octets not zero";if(1!==v[y])throw"0x01 marker not found";return f===cn(a(dn("\0\0\0\0\0\0\0\0"+l+String.fromCharCode.apply(String,v.slice(-r)))))},gt.SALT_LEN_HLEN=-1,gt.SALT_LEN_MAX=-2,gt.SALT_LEN_RECOVER=-2,Rn.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var n=new Array,r=ar.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Rn.hex2rdn(e,r[i]));return n=n.map(function(e){return e.replace("/","\\/")}),"/"+n.join("/")},Rn.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var n=new Array,r=ar.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Rn.hex2attrTypeValue(e,r[i]));return n=n.map(function(e){return e.replace("+","\\+")}),n.join("+")},Rn.hex2attrTypeValue=function(e,t){var n=ar,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),s=lr.asn1.ASN1Util.oidHexToInt(o);return lr.asn1.x509.OID.oid2atype(s)+"="+cn(r(e,i[1]))},Rn.getPublicKeyFromCertHex=function(e){var t=new Rn;return t.readCertHex(e),t.getPublicKey()},Rn.getPublicKeyFromCertPEM=function(e){var t=new Rn;return t.readCertPEM(e),t.getPublicKey()},Rn.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=ar,i=r.getVbyList,o={};return o.algparam=null,t=new Rn,t.readCertPEM(e),n=t.getPublicKeyHex(),o.keyhex=i(n,0,[1],"03").substr(2),o.algoid=i(n,0,[0,0],"06"),"2a8648ce3d0201"===o.algoid&&(o.algparam=i(n,0,[0,1],"06")),o},Rn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==lr&&lr||(t.KJUR=lr={}),void 0!==lr.jws&&lr.jws||(lr.jws={}),lr.jws.JWS=function(){var e=lr,t=e.jws.JWS,n=t.isSafeJSONString;this.parseJWS=function(e,t){if(void 0===this.parsedJWS||!t&&void 0===this.parsedJWS.sigvalH){var r=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],a=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!t){var l=on(s),u=ht(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=u}var c=cr(i),d=cr(o);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=d,!n(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},lr.jws.JWS.sign=function(e,t,n,r,i){var o,s,a,l=lr,u=l.jws,c=u.JWS,d=c.readSafeJSONString,h=c.isSafeJSONString,p=l.crypto,f=(p.ECDSA,p.Mac),m=p.Signature,g=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":In(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":In(t))&&(s=t,o=g.stringify(s)),"string"==typeof t){if(o=t,!h(o))throw"JWS Head is not safe JSON string: "+o;s=d(o)}if(a=n,
"object"==(void 0===n?"undefined":In(n))&&(a=g.stringify(n)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,o=g.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var v=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;v=c.jwsalg2sigalg[e];var y=ur(o),_=ur(a),b=y+"."+_,w="";if("Hmac"==v.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var k=new f({alg:v,prov:"cryptojs",pass:r});k.updateString(b),w=k.doFinal()}else if(-1!=v.indexOf("withECDSA")){var L=new m({alg:v});L.init(r,i),L.updateString(b),hASN1Sig=L.sign(),w=lr.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)}else if("none"!=v){var L=new m({alg:v});L.init(r,i),L.updateString(b),w=L.sign()}return b+"."+rn(w)},lr.jws.JWS.verify=function(e,t,n){var r,i=lr,o=i.jws,s=o.JWS,a=s.readSafeJSONString,l=i.crypto,u=l.ECDSA,c=l.Mac,d=l.Signature;void 0!==(void 0===gt?"undefined":In(gt))&&(r=gt);var h=e.split(".");if(3!==h.length)return!1;var p=h[0],f=h[1],m=p+"."+f,g=on(h[2]),v=a(cr(h[0])),y=null,_=null;if(void 0===v.alg)throw"algorithm not specified in header";if(y=v.alg,_=y.substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0){if(-1==(":"+n.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list"}if("none"!=y&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=hr.getKey(t)),!("RS"!=_&&"PS"!=_||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==_&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var b=null;if(void 0===s.jwsalg2sigalg[v.alg])throw"unsupported alg name: "+y;if("none"==(b=s.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==b.substr(0,4)){var w=null;if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var k=new c({alg:b,pass:t});return k.updateString(m),w=k.doFinal(),g==w}if(-1!=b.indexOf("withECDSA")){var L=null;try{L=u.concatSigToASN1Sig(g)}catch(e){return!1}var M=new d({alg:b});return M.init(t),M.updateString(m),M.verify(L)}var M=new d({alg:b});return M.init(t),M.updateString(m),M.verify(g)},lr.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=lr.jws.JWS.readSafeJSONString(cr(t)),o.payloadObj=lr.jws.JWS.readSafeJSONString(cr(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=cr(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=on(r)),o},lr.jws.JWS.verifyJWT=function(e,t,n){var r=lr,i=r.jws,o=i.JWS,s=o.readSafeJSONString,a=o.inArray,l=o.includedArray,u=e.split("."),c=u[0],d=u[1],h=(on(u[2]),s(cr(c))),p=s(cr(d));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(h.alg,n.alg))return!1;if(void 0!==p.iss&&"object"===In(n.iss)&&!a(p.iss,n.iss))return!1;if(void 0!==p.sub&&"object"===In(n.sub)&&!a(p.sub,n.sub))return!1;if(void 0!==p.aud&&"object"===In(n.aud))if("string"==typeof p.aud){if(!a(p.aud,n.aud))return!1}else if("object"==In(p.aud)&&!l(p.aud,n.aud))return!1;var f=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(f=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+n.gracePeriod<f)&&(!(void 0!==p.nbf&&"number"==typeof p.nbf&&f<p.nbf-n.gracePeriod)&&(!(void 0!==p.iat&&"number"==typeof p.iat&&f<p.iat-n.gracePeriod)&&((void 0===p.jti||void 0===n.jti||p.jti===n.jti)&&!!o.verify(e,t,n.alg))))},lr.jws.JWS.includedArray=function(e,t){var n=lr.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":In(e)))return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},lr.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":In(t)))return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},lr.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},lr.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return r=sr(e),"object"!=(void 0===r?"undefined":In(r))?0:r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},lr.jws.JWS.readSafeJSONString=function(e){var t=null;try{return t=sr(e),"object"!=(void 0===t?"undefined":In(t))?null:t.constructor===Array?null:t}catch(e){return null}},lr.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},lr.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=dn(t);return rn(lr.crypto.Util.hashHex(n,"sha256"))},lr.jws.IntDate={},lr.jws.IntDate.get=function(e){var t=lr.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},lr.jws.IntDate.getZulu=function(e){return bn(e)},lr.jws.IntDate.getNow=function(){return~~(new Date/1e3)},lr.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},lr.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=dt,t.rng_seed_time=lt,t.BigInteger=o,t.RSAKey=gt;var fr=lr.crypto.EDSA;t.EDSA=fr;var mr=lr.crypto.DSA;t.DSA=mr;var gr=lr.crypto.Signature;t.Signature=gr;var vr=lr.crypto.MessageDigest;t.MessageDigest=vr;var yr=lr.crypto.Mac;t.Mac=yr;var _r=lr.crypto.Cipher;t.Cipher=_r,t.KEYUTIL=hr,t.ASN1HEX=ar,t.X509=Rn,t.CryptoJS=zn,t.b64tohex=r,t.b64toBA=i,t.stoBA=$t,t.BAtos=Kt,t.BAtohex=Gt,t.stohex=Jt,t.stob64=Xt,t.stob64u=Qt,t.b64utos=en,t.b64tob64u=tn,t.b64utob64=nn,t.hex2b64=n,t.hextob64u=rn,t.b64utohex=on,t.utf8tob64u=ur,t.b64utoutf8=cr,t.utf8tob64=sn,t.b64toutf8=an,t.utf8tohex=ln,t.hextoutf8=un,t.hextorstr=cn,t.rstrtohex=dn,t.hextob64=hn,t.hextob64nl=pn,t.b64nltohex=fn,t.hextopem=mn,t.pemtohex=gn,t.hextoArrayBuffer=vn,t.ArrayBuffertohex=yn,t.zulutomsec=_n,t.zulutosec=bn,t.zulutodate=wn,t.datetozulu=kn,t.uricmptohex=Ln,t.hextouricmp=Mn,t.ipv6tohex=Sn,t.hextoipv6=xn,t.hextoip=Tn,t.iptohex=Dn,t.encodeURIComponentAll=Fn,t.newline_toUnix=An,t.newline_toDos=En,t.hextoposhex=Pn,t.intarystrtohex=Cn,t.strdiffidx=dr,t.KJUR=lr;var br=lr.crypto;t.crypto=br;var wr=lr,kr=wr.asn1;t.asn1=kr;var Lr=lr,Mr=Lr.jws;t.jws=Mr;var Sr=lr,xr=Sr.lang;t.lang=xr}).call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/base64-js/index.js":function(e,t,n){function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function i(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function o(e,t,n){return 3*(t+n)/4-n}function s(e){for(var t,n=r(e),i=n[0],s=n[1],a=new h(o(e,i,s)),l=0,u=s>0?i-4:i,c=0;c<u;c+=4)t=d[e.charCodeAt(c)]<<18|d[e.charCodeAt(c+1)]<<12|d[e.charCodeAt(c+2)]<<6|d[e.charCodeAt(c+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;return 2===s&&(t=d[e.charCodeAt(c)]<<2|d[e.charCodeAt(c+1)]>>4,a[l++]=255&t),1===s&&(t=d[e.charCodeAt(c)]<<10|d[e.charCodeAt(c+1)]<<4|d[e.charCodeAt(c+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t),a}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function l(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(l(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}t.byteLength=i,t.toByteArray=s,t.fromByteArray=u;for(var c=[],d=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,m=p.length;f<m;++f)c[f]=p[f],d[p.charCodeAt(f)]=f;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,n){(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?c(e,t,n):p(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return a(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(a(t),e=i(e,t<0?0:0|f(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var s=e.write(t,n);return s!==r&&(e=e.slice(0,s)),e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=d(e,t),e}function p(e,t){if(o.isBuffer(t)){var n=0|f(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?i(e,0):d(e,t);if("Buffer"===t.type&&X(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return Z(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return D(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<a;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*s}else-1!==c&&(u-=u-c),c=-1}else for(n+l>a&&(n=a-l),u=n;u>=0;u--){for(var d=!0,h=0;h<l;h++)if(o(e,u+h)!==o(t,h)){d=!1;break}if(d)return u}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function k(e,t,n,r){return $(Z(t,e.length-n),e,n,r)}function L(e,t,n,r){return $(q(t),e,n,r)}function M(e,t,n,r){return L(e,t,n,r)}function S(e,t,n,r){return $(V(t),e,n,r)}function x(e,t,n,r){return $(W(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,n))}function D(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var l,u,c,d;switch(a){case 1:o<128&&(s=o);break;case 2:l=e[i+1],128==(192&l)&&(d=(31&o)<<6|63&l)>127&&(s=d);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(d=(15&o)<<12|(63&l)<<6|63&u)>2047&&(d<55296||d>57343)&&(s=d);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(d=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&d<1114112&&(s=d)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return F(r)}function F(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function C(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function Y(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function I(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return i||I(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,i){return i||I(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function N(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function Z(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function V(e){return G.toByteArray(N(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e){return e!==e}var G=n("./node_modules/base64-js/index.js"),J=n("./node_modules/ieee754/index.js"),X=n("./node_modules/buffer/node_modules/isarray/index.js");t.Buffer=o,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return s(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):v.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,l=Math.min(s,a),u=this.slice(r,i),c=e.slice(t,n),d=0;d<l;++d)if(u[d]!==c[d]){s=u[d],a=c[d];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return L(this,e,t,n);case"latin1":case"binary":return M(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||Y(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||Y(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||Y(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||Y(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||Y(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||Y(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||Y(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||Y(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||Y(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||Y(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||Y(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||Y(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||Y(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||Y(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||Y(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||Y(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||Y(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||Y(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){j(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){j(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=o.isBuffer(e)?e:Z(new o(e,r).toString()),l=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/buffer/node_modules/isarray/index.js":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+d>=1?h/l:h*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+p]=255&s,p+=f,s/=256,u-=8);e[n+p-f]|=128*m}},"./node_modules/uuid/lib/bytesToUuid.js":function(e,t){function n(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=n},"./node_modules/uuid/lib/rng-browser.js":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},"./node_modules/uuid/v4.js":function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[r+a]=s[a];return t||o(s)}var i=n("./node_modules/uuid/lib/rng-browser.js"),o=n("./node_modules/uuid/lib/bytesToUuid.js");e.exports=r},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./src/AccessTokenEvents.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var i=n("./src/Log.js"),o=n("./src/Timer.js"),s=60;t.AccessTokenEvents=function(){function e(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.accessTokenExpiringNotificationTime,i=void 0===n?s:n,a=t.accessTokenExpiringTimer,l=void 0===a?new o.Timer("Access token expiring"):a,u=t.accessTokenExpiredTimer,c=void 0===u?new o.Timer("Access token expired"):u;r(this,e),this._accessTokenExpiringNotificationTime=i,this._accessTokenExpiring=l,this._accessTokenExpired=c}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(i.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var n=t-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),i.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else i.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var r=t+1;i.Log.debug("AccessTokenEvents.load: registering expired timer in:",r),this._accessTokenExpired.init(r)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){i.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},"./src/CheckSessionIFrame.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var i=n("./src/Log.js"),o=2e3;t.CheckSessionIFrame=function(){function e(t,n,i,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];r(this,e),this._callback=t,this._client_id=n,this._url=i,this._interval=s||o,this._stopOnError=a;var l=i.indexOf("/",i.indexOf("//")+2);this._frame_origin=i.substr(0,l),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,this._frame.src=i}return e.prototype.load=function(){var e=this;return new Promise(function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)})},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(i.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(i.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):i.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){i.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var n=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(i.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},"./src/CordovaIFrameNavigator.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var i=n("./src/CordovaPopupWindow.js");t.CordovaIFrameNavigator=function(){function e(){r(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new i.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},"./src/CordovaPopupNavigator.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var i=n("./src/CordovaPopupWindow.js");t.CordovaPopupNavigator=function(){function e(){r(this,e)}return e.prototype.prepare=function(e){var t=new i.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},"./src/CordovaPopupWindow.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js"),s="location=no,toolbar=no,zoom=no",a="_blank";t.CordovaPopupWindow=function(){function e(t){var n=this;r(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t}),this.features=t.popupWindowFeatures||s,this.target=t.popupWindowTarget||a,this.redirect_uri=t.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(t){return e.hasOwnProperty(t)})},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),o.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},i(e,[{key:"promise",get:function(){return this._promise}}]),e}()},"./src/ErrorResponse.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var s=n("./src/Log.js");t.ErrorResponse=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.error,a=n.error_description,l=n.error_uri,u=n.state,c=n.session_state;if(r(this,t),!o)throw s.Log.error("No error passed to ErrorResponse"),new Error("error");var d=i(this,e.call(this,a||o));return d.name="ErrorResponse",d.error=o,d.error_description=a,d.error_uri=l,d.state=u,d.session_state=c,d}return o(t,e),t}(Error)},"./src/Event.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var i=n("./src/Log.js");t.Event=function(){function e(t){r(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex(function(t){return t===e});t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){i.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},"./src/Global.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return setInterval(e,t)}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return clearInterval(e)})},s=!1,a=null;t.Global=function(){function e(){r(this,e)}return e._testing=function(){s=!0},e.setXMLHttpRequest=function(e){a=e},i(e,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!s&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return o}}]),e}()},"./src/IFrameNavigator.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var i=n("./src/Log.js"),o=n("./src/IFrameWindow.js");t.IFrameNavigator=function(){function e(){r(this,e)}return e.prototype.prepare=function(e){var t=new o.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function(e){i.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(e),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},"./src/IFrameWindow.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js");t.IFrameWindow=function(){function e(t){var n=this;r(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),o.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(o.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){o.Log.debug("IFrameWindow.notifyParent"),window.frameElement&&(e=e||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},i(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},"./src/InMemoryWebStorage.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js");t.InMemoryWebStorage=function(){function e(){r(this,e),this._data={}}return e.prototype.getItem=function(e){return o.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){o.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){o.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},i(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},"./src/JoseUtil.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var r=n("./src/crypto/jsrsasign.js"),i=n("./src/JoseUtilImpl.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.JoseUtil=(0,o.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},"./src/JoseUtilImpl.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=e.jws,n=e.KeyUtil,i=e.X509,s=e.crypto,a=e.hextob64u,l=e.b64tohex,u=e.AllowedSigningAlgs;return function(){function e(){r(this,e)}return e.parseJwt=function(e){o.Log.debug("JoseUtil.parseJwt");try{var n=t.JWS.parse(e);return{header:n.headerObj,payload:n.payloadObj}}catch(e){o.Log.error(e)}},e.validateJwt=function(t,r,s,a,u,c,d){o.Log.debug("JoseUtil.validateJwt");try{if("RSA"===r.kty)if(r.e&&r.n)r=n.getKey(r);else{if(!r.x5c||!r.x5c.length)return o.Log.error("JoseUtil.validateJwt: RSA key missing key material",r),Promise.reject(new Error("RSA key missing key material"));var h=l(r.x5c[0]);r=i.getPublicKeyFromCertHex(h)}else{if("EC"!==r.kty)return o.Log.error("JoseUtil.validateJwt: Unsupported key type",r&&r.kty),Promise.reject(new Error(r.kty));if(!(r.crv&&r.x&&r.y))return o.Log.error("JoseUtil.validateJwt: EC key missing key material",r),Promise.reject(new Error("EC key missing key material"));r=n.getKey(r)}return e._validateJwt(t,r,s,a,u,c,d)}catch(e){return o.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,n,r,i,s,a){i||(i=0),s||(s=parseInt(Date.now()/1e3));var l=e.parseJwt(t).payload;if(!l.iss)return o.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(l.iss!==n)return o.Log.error("JoseUtil._validateJwt: Invalid issuer in token",l.iss),Promise.reject(new Error("Invalid issuer in token: "+l.iss));if(!l.aud)return o.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(l.aud===r||Array.isArray(l.aud)&&l.aud.indexOf(r)>=0))return o.Log.error("JoseUtil._validateJwt: Invalid audience in token",l.aud),Promise.reject(new Error("Invalid audience in token: "+l.aud));if(l.azp&&l.azp!==r)return o.Log.error("JoseUtil._validateJwt: Invalid azp in token",l.azp),Promise.reject(new Error("Invalid azp in token: "+l.azp));if(!a){var u=s+i,c=s-i;if(!l.iat)return o.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(u<l.iat)return o.Log.error("JoseUtil._validateJwt: iat is in the future",l.iat),Promise.reject(new Error("iat is in the future: "+l.iat));if(l.nbf&&u<l.nbf)return o.Log.error("JoseUtil._validateJwt: nbf is in the future",l.nbf),Promise.reject(new Error("nbf is in the future: "+l.nbf));if(!l.exp)return o.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(l.exp<c)return o.Log.error("JoseUtil._validateJwt: exp is in the past",l.exp),Promise.reject(new Error("exp is in the past:"+l.exp))}return Promise.resolve(l)},e._validateJwt=function(n,r,i,s,a,l,c){return e.validateJwtAttributes(n,i,s,a,l,c).then(function(e){try{return t.JWS.verify(n,r,u)?e:(o.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return o.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}})},e.hashString=function(e,t){try{return s.Util.hashString(e,t)}catch(e){o.Log.error(e)}},e.hexToBase64Url=function(e){try{return a(e)}catch(e){o.Log.error(e)}},e}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n("./src/Log.js");e.exports=t.default},"./src/JsonService.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var i=n("./src/Log.js"),o=n("./src/Global.js");t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),i&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=i}return e.prototype.getJson=function(e,t){var n=this;if(!e)throw i.Log.error("JsonService.getJson: No url passed"),new Error("url");return i.Log.debug("JsonService.getJson, url: ",e),new Promise(function(r,o){var s=new n._XMLHttpRequest;s.open("GET",e);var a=n._contentTypes,l=n._jwtHandler;s.onload=function(){if(i.Log.debug("JsonService.getJson: HTTP response received, status",s.status),200===s.status){var t=s.getResponseHeader("Content-Type");if(t){var n=a.find(function(e){if(t.startsWith(e))return!0});if("application/jwt"==n)return void l(s).then(r,o);if(n)try{return void r(JSON.parse(s.responseText))}catch(e){return i.Log.error("JsonService.getJson: Error parsing JSON response",e.message),void o(e)}}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(s.statusText+" ("+s.status+")"))},s.onerror=function(){i.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(i.Log.debug("JsonService.getJson: token passed, setting Authorization header"),s.setRequestHeader("Authorization","Bearer "+t)),s.send()})},e.prototype.postForm=function(e,t){var n=this;if(!e)throw i.Log.error("JsonService.postForm: No url passed"),new Error("url");return i.Log.debug("JsonService.postForm, url: ",e),new Promise(function(r,o){var s=new n._XMLHttpRequest;s.open("POST",e);var a=n._contentTypes;s.onload=function(){if(i.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200===s.status){var t=s.getResponseHeader("Content-Type");if(t){var n=a.find(function(e){if(t.startsWith(e))return!0});if(n)try{return void r(JSON.parse(s.responseText))}catch(e){return i.Log.error("JsonService.postForm: Error parsing JSON response",e.message),void o(e)}}return void o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}if(400===s.status){var t=s.getResponseHeader("Content-Type");if(t){var n=a.find(function(e){if(t.startsWith(e))return!0});if(n)try{var l=JSON.parse(s.responseText);if(l&&l.error)return i.Log.error("JsonService.postForm: Error from server: ",l.error),void o(new Error(l.error))}catch(e){return i.Log.error("JsonService.postForm: Error parsing JSON response",e.message),void o(e)}}}o(Error(s.statusText+" ("+s.status+")"))},s.onerror=function(){i.Log.error("JsonService.postForm: network error"),o(Error("Network Error"))};var l="";for(var u in t){var c=t[u];c&&(l.length>0&&(l+="&"),l+=encodeURIComponent(u),l+="=",l+=encodeURIComponent(c))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(l)})},e}()},"./src/Log.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,a=void 0;(t.Log=function(){function e(){r(this,e)}return e.reset=function(){a=3,s=o},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.debug.apply(s,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.info.apply(s,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.warn.apply(s,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.error.apply(s,Array.from(t))}},i(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return s},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");s=e}}]),e}()).reset()},"./src/MetadataService.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js"),s=n("./src/JsonService.js");t.MetadataService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.JsonService;if(r(this,e),!t)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new n(["application/jwk-set+json"])}return e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(t){return o.Log.debug("MetadataService.getMetadata: json received"),e._settings.metadata=t,t})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then(function(n){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[e]){if(!0===t)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return n[e]})},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(t){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then(function(t){if(o.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys})})},i(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration"))),this._metadataUrl}}]),e}()},"./src/OidcClient.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js"),s=n("./src/OidcClientSettings.js"),a=n("./src/ErrorResponse.js"),l=n("./src/SigninRequest.js"),u=n("./src/SigninResponse.js"),c=n("./src/SignoutRequest.js"),d=n("./src/SignoutResponse.js"),h=n("./src/SigninState.js"),p=n("./src/State.js");t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t instanceof s.OidcClientSettings?this._settings=t:this._settings=new s.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.response_type,r=t.scope,i=t.redirect_uri,s=t.data,a=t.state,u=t.prompt,c=t.display,d=t.max_age,h=t.ui_locales,p=t.id_token_hint,f=t.login_hint,m=t.acr_values,g=t.resource,v=t.request,y=t.request_uri,_=t.response_mode,b=t.extraQueryParams,w=t.extraTokenParams,k=t.request_type,L=t.skipUserInfo,M=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var S=this._settings.client_id;n=n||this._settings.response_type,r=r||this._settings.scope,i=i||this._settings.redirect_uri,u=u||this._settings.prompt,c=c||this._settings.display,d=d||this._settings.max_age,h=h||this._settings.ui_locales,m=m||this._settings.acr_values,g=g||this._settings.resource,_=_||this._settings.response_mode,b=b||this._settings.extraQueryParams,w=w||this._settings.extraTokenParams;var x=this._settings.authority;return l.SigninRequest.isCode(n)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(t){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var T=new l.SigninRequest({url:t,client_id:S,redirect_uri:i,response_type:n,scope:r,data:s||a,authority:x,prompt:u,display:c,max_age:d,ui_locales:h,id_token_hint:p,login_hint:f,acr_values:m,resource:g,request:v,request_uri:y,extraQueryParams:b,extraTokenParams:w,request_type:k,response_mode:_,client_secret:e._settings.client_secret,skipUserInfo:L}),D=T.state;return M=M||e._stateStore,M.set(D.id,D.toStorageString()).then(function(){return T})})},e.prototype.readSigninResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&l.SigninRequest.isCode(this._settings.response_type),i=r?"?":"#",s=new u.SigninResponse(e,i);return s.state?(t=t||this._stateStore,(n?t.remove.bind(t):t.get.bind(t))(s.state).then(function(e){if(!e)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:h.SigninState.fromStorageString(e),response:s}})):(o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},e.prototype.processSigninResponse=function(e,t){var n=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then(function(e){var t=e.state,r=e.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(t,r)})},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_token_hint,r=t.data,i=t.state,s=t.post_logout_redirect_uri,a=t.extraQueryParams,l=t.request_type,u=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),s=s||this._settings.post_logout_redirect_uri,a=a||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(t){if(!t)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var d=new c.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:s,data:r||i,extraQueryParams:a,request_type:l}),h=d.state;return h&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),u=u||e._stateStore,u.set(h.id,h.toStorageString())),d})},e.prototype.readSignoutResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var r=new d.SignoutResponse(e);if(!r.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new a.ErrorResponse(r))):Promise.resolve({undefined:void 0,response:r});var i=r.state
;return t=t||this._stateStore,(n?t.remove.bind(t):t.get.bind(t))(i).then(function(e){if(!e)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:p.State.fromStorageString(e),response:r}})},e.prototype.processSignoutResponse=function(e,t){var n=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then(function(e){var t=e.state,r=e.response;return t?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(t,r)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),r)})},e.prototype.clearStaleState=function(e){return o.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,p.State.clearStaleState(e,this.settings.staleStateAge)},i(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},"./src/OidcClientSettings.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("./src/Log.js"),a=n("./src/WebStorageStateStore.js"),l=n("./src/ResponseValidator.js"),u=n("./src/MetadataService.js"),c="id_token",d="openid",h=900,p=300;t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.authority,o=t.metadataUrl,s=t.metadata,f=t.signingKeys,m=t.client_id,g=t.client_secret,v=t.response_type,y=void 0===v?c:v,_=t.scope,b=void 0===_?d:_,w=t.redirect_uri,k=t.post_logout_redirect_uri,L=t.prompt,M=t.display,S=t.max_age,x=t.ui_locales,T=t.acr_values,D=t.resource,F=t.response_mode,A=t.filterProtocolClaims,E=void 0===A||A,P=t.loadUserInfo,C=void 0===P||P,Y=t.staleStateAge,j=void 0===Y?h:Y,O=t.clockSkew,R=void 0===O?p:O,I=t.userInfoJwtIssuer,U=void 0===I?"OP":I,H=t.stateStore,N=void 0===H?new a.WebStorageStateStore:H,z=t.ResponseValidatorCtor,B=void 0===z?l.ResponseValidator:z,Z=t.MetadataServiceCtor,q=void 0===Z?u.MetadataService:Z,W=t.extraQueryParams,V=void 0===W?{}:W,$=t.extraTokenParams,K=void 0===$?{}:$;r(this,e),this._authority=n,this._metadataUrl=o,this._metadata=s,this._signingKeys=f,this._client_id=m,this._client_secret=g,this._response_type=y,this._scope=b,this._redirect_uri=w,this._post_logout_redirect_uri=k,this._prompt=L,this._display=M,this._max_age=S,this._ui_locales=x,this._acr_values=T,this._resource=D,this._response_mode=F,this._filterProtocolClaims=!!E,this._loadUserInfo=!!C,this._staleStateAge=j,this._clockSkew=R,this._userInfoJwtIssuer=U,this._stateStore=N,this._validator=new B(this),this._metadataService=new q(this),this._extraQueryParams="object"===(void 0===V?"undefined":i(V))?V:{},this._extraTokenParams="object"===(void 0===K?"undefined":i(K))?K:{}}return o(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration")),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":i(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":i(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},"./src/PopupNavigator.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var i=n("./src/Log.js"),o=n("./src/PopupWindow.js");t.PopupNavigator=function(){function e(){r(this,e)}return e.prototype.prepare=function(e){var t=new o.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function(e,t,n){i.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(e,t,n),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},"./src/PopupWindow.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js"),s=n("./src/UrlUtility.js"),a=500,l="location=no,toolbar=no,width=500,height=500,left=100,top=100;",u="_blank";t.PopupWindow=function(){function e(t){var n=this;r(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t});var i=t.popupWindowTarget||u,s=t.popupWindowFeatures||l;this._popup=window.open("",i,s),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),a))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){o.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(o.Log.debug("PopupWindow.callback success"),this._success({url:e})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,n){if(window.opener){if(e=e||window.location.href){var r=s.UrlUtility.parseUrlFragment(e,n);if(r.state){var i="popupCallback_"+r.state,a=window.opener[i];a?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),a(e,t)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},i(e,[{key:"promise",get:function(){return this._promise}}]),e}()},"./src/RedirectNavigator.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js");t.RedirectNavigator=function(){function e(){r(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},i(e,[{key:"url",get:function(){return window.location.href}}]),e}()},"./src/ResponseValidator.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n("./src/Log.js"),s=n("./src/MetadataService.js"),a=n("./src/UserInfoService.js"),l=n("./src/TokenClient.js"),u=n("./src/ErrorResponse.js"),c=n("./src/JoseUtil.js"),d=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.MetadataService,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.TokenClient;if(r(this,e),!t)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new n(this._settings),this._userInfoService=new i(this._settings),this._joseUtil=u,this._tokenClient=new d(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var n=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then(function(t){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(e,t).then(function(t){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(e,t).then(function(e){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e})})})},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):e.nonce&&!t.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var n=this;if(t.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then(function(e){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in access_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in access_token"))):(t.profile=n._mergeClaims(t.profile,e),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var n=Object.assign({},e);for(var r in t){var o=t[r];Array.isArray(o)||(o=[o]);for(var s=0;s<o.length;s++){var a=o[s];n[r]?Array.isArray(n[r])?n[r].indexOf(a)<0&&n[r].push(a):n[r]!==a&&("object"===(void 0===a?"undefined":i(a))?n[r]=this._mergeClaims(n[r],a):n[r]=[n[r],a]):n[r]=a}}return n},e.prototype._filterProtocolClaims=function(e){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(d.forEach(function(e){delete t[e]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var n=this,r={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===i(e.extraTokenParams)&&Object.assign(r,e.extraTokenParams),this._tokenClient.exchangeCode(r).then(function(r){for(var i in r)t[i]=r[i];return t.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(e,t)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)})},e.prototype._validateIdTokenAttributes=function(e,t){var n=this;return this._metadataService.getIssuer().then(function(r){var i=e.client_id,s=n._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",s),n._joseUtil.validateJwtAttributes(t.id_token,r,i,s).then(function(n){return e.nonce&&e.nonce!==n.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(t.profile=n,t):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})},e.prototype._validateIdTokenAndAccessToken=function(e,t){var n=this;return this._validateIdToken(e,t).then(function(e){return n._validateAccessToken(e)})},e.prototype._validateIdToken=function(e,t){var n=this;if(!e.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(t.id_token);if(!r||!r.header||!r.payload)return o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token"));if(e.nonce!==r.payload.nonce)return o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"));var i=r.header.kid;return this._metadataService.getIssuer().then(function(s){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._metadataService.getSigningKeys().then(function(a){if(!a)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var l=void 0;if(i)l=a.filter(function(e){return e.kid===i})[0];else{if(a=n._filterByAlg(a,r.header.alg),a.length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));l=a[0]}if(!l)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=e.client_id,c=n._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(t.id_token,l,s,u,c).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(t.profile=r.payload,t):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];n="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),e=e.filter(function(e){return e.kty===n}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var n=t.header.alg;if(!n||5!==n.length)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var i="sha"+r,s=this._joseUtil.hashString(e.access_token,i);if(!s)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",i),Promise.reject(new Error("Failed to validate at_hash"));var a=s.substr(0,s.length/2),l=this._joseUtil.hexToBase64Url(a);return l!==e.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",l,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},"./src/SessionMonitor.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js"),s=n("./src/CheckSessionIFrame.js"),a=n("./src/Global.js");t.SessionMonitor=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.CheckSessionIFrame,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(r(this,e),!t)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=i,this._timer=l,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),this._userManager.getUser().then(function(e){e?n._start(e):n._settings.monitorAnonymousSession&&n._userManager.querySessionStatus().then(function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),n._start(t)}).catch(function(e){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)})}).catch(function(e){o.Log.error("SessionMonitor ctor: error from getUser:",e.message)})}return e.prototype._start=function(e){var t=this,n=e.session_state;n&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",n,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then(function(e){if(e){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=t._client_id,i=t._checkSessionInterval,s=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),r,e,i,s),t._checkSessionIFrame.load().then(function(){t._checkSessionIFrame.start(n)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(e){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)}))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval(function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then(function(t){var n={session_state:t.session_state};t.sub&&t.sid&&(n.profile={sub:t.sub,sid:t.sid}),e._start(n)}).catch(function(e){o.Log.error("SessionMonitor: error from querySessionStatus:",e.message)})},1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then(function(t){var n=!0;t?t.sub===e._sub?(n=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(e._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))}).catch(function(t){e._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())})},i(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},"./src/SigninRequest.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var i=n("./src/Log.js"),o=n("./src/UrlUtility.js"),s=n("./src/SigninState.js");t.SigninRequest=function(){function e(t){var n=t.url,a=t.client_id,l=t.redirect_uri,u=t.response_type,c=t.scope,d=t.authority,h=t.data,p=t.prompt,f=t.display,m=t.max_age,g=t.ui_locales,v=t.id_token_hint,y=t.login_hint,_=t.acr_values,b=t.resource,w=t.response_mode,k=t.request,L=t.request_uri,M=t.extraQueryParams,S=t.request_type,x=t.client_secret,T=t.extraTokenParams,D=t.skipUserInfo;if(r(this,e),!n)throw i.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw i.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!l)throw i.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!u)throw i.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw i.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!d)throw i.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var F=e.isOidc(u),A=e.isCode(u);w||(w=e.isCode(u)?"query":null),this.state=new s.SigninState({nonce:F,data:h,client_id:a,authority:d,redirect_uri:l,code_verifier:A,request_type:S,response_mode:w,client_secret:x,scope:c,extraTokenParams:T,skipUserInfo:D}),n=o.UrlUtility.addQueryParam(n,"client_id",a),n=o.UrlUtility.addQueryParam(n,"redirect_uri",l),n=o.UrlUtility.addQueryParam(n,"response_type",u),n=o.UrlUtility.addQueryParam(n,"scope",c),n=o.UrlUtility.addQueryParam(n,"state",this.state.id),F&&(n=o.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),A&&(n=o.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=o.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var E={prompt:p,display:f,max_age:m,ui_locales:g,id_token_hint:v,login_hint:y,acr_values:_,resource:b,request:k,request_uri:L,response_mode:w};for(var P in E)E[P]&&(n=o.UrlUtility.addQueryParam(n,P,E[P]));for(var C in M)n=o.UrlUtility.addQueryParam(n,C,M[C]);this.url=n}return e.isOidc=function(e){return!!e.split(/\s+/g).filter(function(e){return"id_token"===e})[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter(function(e){return"token"===e})[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter(function(e){return"code"===e})[0]},e}()},"./src/SigninResponse.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/UrlUtility.js");t.SigninResponse=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";r(this,e);var i=o.UrlUtility.parseUrlFragment(t,n);this.error=i.error,this.error_description=i.error_description,this.error_uri=i.error_uri,this.code=i.code,this.state=i.state,this.id_token=i.id_token,this.session_state=i.session_state,this.access_token=i.access_token,this.token_type=i.token_type,this.scope=i.scope,this.profile=void 0,this.expires_in=i.expires_in}return i(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},"./src/SigninState.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}
}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("./src/Log.js"),l=n("./src/State.js"),u=n("./src/JoseUtil.js"),c=n("./src/random.js"),d=function(e){return e&&e.__esModule?e:{default:e}}(c);t.SigninState=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.nonce,s=n.authority,a=n.client_id,l=n.redirect_uri,c=n.code_verifier,h=n.response_mode,p=n.client_secret,f=n.scope,m=n.extraTokenParams,g=n.skipUserInfo;r(this,t);var v=i(this,e.call(this,arguments[0]));if(!0===o?v._nonce=(0,d.default)():o&&(v._nonce=o),!0===c?v._code_verifier=(0,d.default)()+(0,d.default)()+(0,d.default)():c&&(v._code_verifier=c),v.code_verifier){var y=u.JoseUtil.hashString(v.code_verifier,"SHA256");v._code_challenge=u.JoseUtil.hexToBase64Url(y)}return v._redirect_uri=l,v._authority=s,v._client_id=a,v._response_mode=h,v._client_secret=p,v._scope=f,v._extraTokenParams=m,v._skipUserInfo=g,v}return o(t,e),t.prototype.toStorageString=function(){return a.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return a.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},s(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(l.State)},"./src/SignoutRequest.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var i=n("./src/Log.js"),o=n("./src/UrlUtility.js"),s=n("./src/State.js");t.SignoutRequest=function e(t){var n=t.url,a=t.id_token_hint,l=t.post_logout_redirect_uri,u=t.data,c=t.extraQueryParams,d=t.request_type;if(r(this,e),!n)throw i.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");a&&(n=o.UrlUtility.addQueryParam(n,"id_token_hint",a)),l&&(n=o.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",l),u&&(this.state=new s.State({data:u,request_type:d}),n=o.UrlUtility.addQueryParam(n,"state",this.state.id)));for(var h in c)n=o.UrlUtility.addQueryParam(n,h,c[h]);this.url=n}},"./src/SignoutResponse.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var i=n("./src/UrlUtility.js");t.SignoutResponse=function e(t){r(this,e);var n=i.UrlUtility.parseUrlFragment(t,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},"./src/SilentRenewService.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var i=n("./src/Log.js");t.SilentRenewService=function(){function e(t){r(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(e){}).catch(function(e){i.Log.error("SilentRenewService.start: Error from getUser:",e.message)}))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then(function(e){i.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(t){i.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)})},e}()},"./src/State.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js"),s=n("./src/random.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(s);t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,i=t.data,o=t.created,s=t.request_type;r(this,e),this._id=n||(0,a.default)(),this._data=i,this._created="number"==typeof o&&o>0?o:parseInt(Date.now()/1e3),this._request_type=s}return e.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return o.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,n){var r=Date.now()/1e3-n;return t.getAllKeys().then(function(n){o.Log.debug("State.clearStaleState: got keys",n);for(var i=[],s=0;s<n.length;s++){var a;!function(s){var l=n[s];a=t.get(l).then(function(n){var i=!1;if(n)try{var s=e.fromStorageString(n);o.Log.debug("State.clearStaleState: got item from key: ",l,s.created),s.created<=r&&(i=!0)}catch(e){o.Log.error("State.clearStaleState: Error parsing state for key",l,e.message),i=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",l),i=!0;if(i)return o.Log.debug("State.clearStaleState: removed item for key: ",l),t.remove(l)}),i.push(a)}(s)}return o.Log.debug("State.clearStaleState: waiting on promise count:",i.length),Promise.all(i)})},i(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},"./src/Timer.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("./src/Log.js"),l=n("./src/Global.js"),u=n("./src/Event.js");t.Timer=function(e){function t(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Global.timer,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;r(this,t);var a=i(this,e.call(this,n));return a._timer=o,a._nowFunc=s||function(){return Date.now()/1e3},a}return o(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)return void a.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);this.cancel(),a.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)},t.prototype.cancel=function(){this._timerHandle&&(a.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;a.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},s(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(u.Event)},"./src/TokenClient.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var i=n("./src/JsonService.js"),o=n("./src/MetadataService.js"),s=n("./src/Log.js");t.TokenClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.JsonService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.MetadataService;if(r(this,e),!t)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n,this._metadataService=new a(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),t.grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri,t.code?t.redirect_uri?t.code_verifier?t.client_id?this._metadataService.getTokenEndpoint(!1).then(function(n){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(n,t).then(function(e){return s.Log.debug("TokenClient.exchangeCode: response received"),e})}):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),t.grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.refresh_token?t.client_id?this._metadataService.getTokenEndpoint(!1).then(function(n){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(n,t).then(function(e){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),e})}):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},"./src/TokenRevocationClient.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var i=n("./src/Log.js"),o=n("./src/MetadataService.js"),s=n("./src/Global.js");t.TokenRevocationClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Global.XMLHttpRequest,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.MetadataService;if(r(this,e),!t)throw i.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=n,this._metadataService=new a(this._settings)}return e.prototype.revoke=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw i.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==r&&"refresh_token"!=r)throw i.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(o){if(o){i.Log.debug("TokenRevocationClient.revoke: Revoking "+r);var s=n._settings.client_id,a=n._settings.client_secret;return n._revoke(o,s,a,e,r)}if(t)throw i.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},e.prototype._revoke=function(e,t,n,r,o){var s=this;return new Promise(function(a,l){var u=new s._XMLHttpRequestCtor;u.open("POST",e),u.onload=function(){i.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",u.status),200===u.status?a():l(Error(u.statusText+" ("+u.status+")"))},u.onerror=function(){i.Log.debug("TokenRevocationClient.revoke: Network Error."),l("Network Error")};var c="client_id="+encodeURIComponent(t);n&&(c+="&client_secret="+encodeURIComponent(n)),c+="&token_type_hint="+encodeURIComponent(o),c+="&token="+encodeURIComponent(r),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(c)})},e}()},"./src/UrlUtility.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var i=n("./src/Log.js"),o=n("./src/Global.js");t.UrlUtility=function(){function e(){r(this,e)}return e.addQueryParam=function(e,t,n){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),e+="=",e+=encodeURIComponent(n)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Global;"string"!=typeof e&&(e=n.location.href);var r=e.lastIndexOf(t);r>=0&&(e=e.substr(r+1)),"?"===t&&(r=e.indexOf("#"))>=0&&(e=e.substr(0,r));for(var s,a={},l=/([^&=]+)=([^&]*)/g,u=0;s=l.exec(e);)if(a[decodeURIComponent(s[1])]=decodeURIComponent(s[2]),u++>50)return i.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var c in a)return a;return{}},e}()},"./src/User.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./src/Log.js");t.User=function(){function e(t){var n=t.id_token,i=t.session_state,o=t.access_token,s=t.refresh_token,a=t.token_type,l=t.scope,u=t.profile,c=t.expires_at,d=t.state;r(this,e),this.id_token=n,this.session_state=i,this.access_token=o,this.refresh_token=s,this.token_type=a,this.scope=l,this.profile=u,this.expires_at=c,this.state=d}return e.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return o.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},i(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},"./src/UserInfoService.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var i=n("./src/JsonService.js"),o=n("./src/MetadataService.js"),s=n("./src/Log.js"),a=n("./src/JoseUtil.js");t.UserInfoService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.JsonService,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.MetadataService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(r(this,e),!t)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new l(this._settings),this._joseUtil=u}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then(function(n){return s.Log.debug("UserInfoService.getClaims: received userinfo url",n),t._jsonService.getJson(n,e).then(function(e){return s.Log.debug("UserInfoService.getClaims: claims received",e),e})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function(e){var t=this;try{var n=this._joseUtil.parseJwt(e.responseText);if(!n||!n.header||!n.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",n),Promise.reject(new Error("Failed to parse id_token"));var r=n.header.kid,i=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":i=this._metadataService.getIssuer();break;case"ANY":i=Promise.resolve(n.payload.iss);break;default:i=Promise.resolve(this._settings.userInfoJwtIssuer)}return i.then(function(i){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+i),t._metadataService.getSigningKeys().then(function(o){if(!o)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var a=void 0;if(r)a=o.filter(function(e){return e.kid===r})[0];else{if(o=t._filterByAlg(o,n.header.alg),o.length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));a=o[0]}if(!a)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var l=t._settings.client_id,u=t._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",u),t._joseUtil.validateJwt(e.responseText,a,i,l,u,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),n.payload})})})}catch(e){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];n="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),e=e.filter(function(e){return e.kty===n}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,e.length),e},e}()},"./src/UserManager.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("./src/Log.js"),l=n("./src/OidcClient.js"),u=n("./src/UserManagerSettings.js"),c=n("./src/User.js"),d=n("./src/UserManagerEvents.js"),h=n("./src/SilentRenewService.js"),p=n("./src/SessionMonitor.js"),f=n("./src/TokenRevocationClient.js"),m=n("./src/TokenClient.js"),g=n("./src/JoseUtil.js");t.UserManager=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.SilentRenewService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.SessionMonitor,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.TokenRevocationClient,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m.TokenClient,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:g.JoseUtil;r(this,t),n instanceof u.UserManagerSettings||(n=new u.UserManagerSettings(n));var y=i(this,e.call(this,n));return y._events=new d.UserManagerEvents(n),y._silentRenewService=new o(y),y.settings.automaticSilentRenew&&(a.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),y.startSilentRenew()),y.settings.monitorSession&&(a.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),y._sessionMonitor=new s(y)),y._tokenRevocationClient=new l(y._settings),y._tokenClient=new c(y._settings),y._joseUtil=v,y}return o(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then(function(t){return t?(a.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(a.Log.info("UserManager.getUser: user not found in storage"),null)})},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then(function(){a.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()})},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},e),e.request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then(function(){a.Log.info("UserManager.signinRedirect: successful")})},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then(function(e){return e.profile&&e.profile.sub?a.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):a.Log.info("UserManager.signinRedirectCallback: no sub"),e})},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},e),e.request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(e){return e&&(e.profile&&e.profile.sub?a.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):a.Log.info("UserManager.signinPopup: no sub")),e})):(a.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then(function(e){return e&&(e.profile&&e.profile.sub?a.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):a.Log.info("UserManager.signinPopupCallback: no sub")),e}).catch(function(e){a.Log.error(e.message)})},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),t.request_type="si:s",this._loadUser().then(function(n){return n&&n.refresh_token?(t.refresh_token=n.refresh_token,e._useRefreshToken(t)):(t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&e._settings.validateSubOnSilentRenew&&(a.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),t.current_sub=n.profile.sub),e._signinSilentIframe(t))})},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then(function(t){return t?t.access_token?e._loadUser().then(function(n){if(n){var r=Promise.resolve();return t.id_token&&(r=e._validateIdTokenFromTokenRefreshToken(n.profile,t.id_token)),r.then(function(){return a.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=t.id_token,n.access_token=t.access_token,n.refresh_token=t.refresh_token||n.refresh_token,n.expires_in=t.expires_in,e.storeUser(n).then(function(){return e._events.load(n),n})})}return null}):(a.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(a.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var n=this;return this._metadataService.getIssuer().then(function(r){return n._joseUtil.validateJwtAttributes(t,r,n._settings.client_id,n._settings.clockSkew).then(function(t){return t?t.sub!==e.sub?(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(e){return e&&(e.profile&&e.profile.sub?a.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):a.Log.info("UserManager.signinSilent: no sub")),e})):(a.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then(function(e){return e&&(e.profile&&e.profile.sub?a.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):a.Log.info("UserManager.signinSilentCallback: no sub")),e})},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then(function(n){var r=n.state;n.response;return"si:r"===r.request_type?t.signinRedirectCallback(e):"si:p"===r.request_type?t.signinPopupCallback(e):"si:s"===r.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))})},t.prototype.signoutCallback=function(e,t){var n=this;return this.readSignoutResponseState(e).then(function(r){var i=r.state,o=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(e):"so:p"===i.request_type?n.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):o})},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({},t),t.request_type="si:s";var n=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(t.redirect_uri=n,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:n,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(t){return e.processSigninResponse(t.url).then(function(e){if(a.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return a.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};a.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return a.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t})})):(a.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,r).then(function(t){return n._signinEnd(t.url,e)})},t.prototype._signinStart=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(r).then(function(t){return a.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(e).then(function(e){return a.Log.debug("UserManager._signinStart: got signin request"),r.url=e.url,r.id=e.state.id,t.navigate(r)}).catch(function(e){throw t.close&&(a.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e})})},t.prototype._signinEnd=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then(function(e){a.Log.debug("UserManager._signinEnd: got signin response");var r=new c.User(e);if(n.current_sub){if(n.current_sub!==r.profile.sub)return a.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));a.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(r).then(function(){return a.Log.debug("UserManager._signinEnd: user stored"),t._events.load(r),r})})},t.prototype._signinCallback=function(e,t){return a.Log.debug("UserManager._signinCallback"),t.callback(e)},
t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},e),e.request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then(function(){a.Log.info("UserManager.signoutRedirect: successful")})},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then(function(e){return a.Log.info("UserManager.signoutRedirectCallback: successful"),e})},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({},e),e.request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){a.Log.info("UserManager.signoutPopup: successful")})},t.prototype.signoutPopupCallback=function(e,t){void 0===t&&"boolean"==typeof e&&(t=e,e=null);return this._popupNavigator.callback(e,t,"?").then(function(){a.Log.info("UserManager.signoutPopupCallback: successful")})},t.prototype._signout=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,r).then(function(e){return n._signoutEnd(e.url)})},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(r).then(function(n){return a.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then(function(i){return a.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(i):Promise.resolve()).then(function(){var o=e.id_token_hint||i&&i.id_token;return o&&(a.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=o),t.removeUser().then(function(){return a.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then(function(e){return a.Log.debug("UserManager._signoutStart: got signout request"),r.url=e.url,e.state&&(r.id=e.state.id),n.navigate(r)})})})}).catch(function(e){throw n.close&&(a.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),n.close()),e})})},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then(function(e){return a.Log.debug("UserManager._signoutEnd: got signout response"),e})},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then(function(t){return e._revokeInternal(t,!0).then(function(n){if(n)return a.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then(function(){a.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)})})}).then(function(){a.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},t.prototype._revokeInternal=function(e,t){var n=this;if(e){var r=e.access_token,i=e.refresh_token;return this._revokeAccessTokenInternal(r,t).then(function(e){return n._revokeRefreshTokenInternal(i,t).then(function(t){return e||t||a.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t})})}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then(function(){return!0})},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(e){return e?(a.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(e)):(a.Log.debug("UserManager._loadUser: no user storageString"),null)})},t.prototype.storeUser=function(e){if(e){a.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return a.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},s(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(l.OidcClient)},"./src/UserManagerEvents.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var s=n("./src/Log.js"),a=n("./src/AccessTokenEvents.js"),l=n("./src/Event.js");t.UserManagerEvents=function(e){function t(n){r(this,t);var o=i(this,e.call(this,n));return o._userLoaded=new l.Event("User loaded"),o._userUnloaded=new l.Event("User unloaded"),o._silentRenewError=new l.Event("Silent renew error"),o._userSignedIn=new l.Event("User signed in"),o._userSignedOut=new l.Event("User signed out"),o._userSessionChanged=new l.Event("User session changed"),o}return o(t,e),t.prototype.load=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),n&&this._userLoaded.raise(t)},t.prototype.unload=function(){s.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){s.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){s.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){s.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){s.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(a.AccessTokenEvents)},"./src/UserManagerSettings.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n("./src/Log.js"),n("./src/OidcClientSettings.js")),l=n("./src/RedirectNavigator.js"),u=n("./src/PopupNavigator.js"),c=n("./src/IFrameNavigator.js"),d=n("./src/WebStorageStateStore.js"),h=n("./src/Global.js"),p=n("./src/SigninRequest.js"),f=60,m=2e3;t.UserManagerSettings=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.popup_redirect_uri,s=n.popup_post_logout_redirect_uri,a=n.popupWindowFeatures,g=n.popupWindowTarget,v=n.silent_redirect_uri,y=n.silentRequestTimeout,_=n.automaticSilentRenew,b=void 0!==_&&_,w=n.validateSubOnSilentRenew,k=void 0!==w&&w,L=n.includeIdTokenInSilentRenew,M=void 0===L||L,S=n.monitorSession,x=void 0===S||S,T=n.monitorAnonymousSession,D=void 0!==T&&T,F=n.checkSessionInterval,A=void 0===F?m:F,E=n.stopCheckSessionOnError,P=void 0===E||E,C=n.query_status_response_type,Y=n.revokeAccessTokenOnSignout,j=void 0!==Y&&Y,O=n.accessTokenExpiringNotificationTime,R=void 0===O?f:O,I=n.redirectNavigator,U=void 0===I?new l.RedirectNavigator:I,H=n.popupNavigator,N=void 0===H?new u.PopupNavigator:H,z=n.iframeNavigator,B=void 0===z?new c.IFrameNavigator:z,Z=n.userStore,q=void 0===Z?new d.WebStorageStateStore({store:h.Global.sessionStorage}):Z;r(this,t);var W=i(this,e.call(this,arguments[0]));return W._popup_redirect_uri=o,W._popup_post_logout_redirect_uri=s,W._popupWindowFeatures=a,W._popupWindowTarget=g,W._silent_redirect_uri=v,W._silentRequestTimeout=y,W._automaticSilentRenew=b,W._validateSubOnSilentRenew=k,W._includeIdTokenInSilentRenew=M,W._accessTokenExpiringNotificationTime=R,W._monitorSession=x,W._monitorAnonymousSession=D,W._checkSessionInterval=A,W._stopCheckSessionOnError=P,C?W._query_status_response_type=C:arguments[0]&&arguments[0].response_type?W._query_status_response_type=p.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=j,W._redirectNavigator=U,W._popupNavigator=N,W._iframeNavigator=B,W._userStore=q,W}return o(t,e),s(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(a.OidcClientSettings)},"./src/WebStorageStateStore.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var i=n("./src/Log.js"),o=n("./src/Global.js");t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,i=void 0===n?"oidc.":n,s=t.store,a=void 0===s?o.Global.localStorage:s;r(this,e),this._store=a,this._prefix=i}return e.prototype.set=function(e,t){return i.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){i.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){i.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){i.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var n=this._store.key(t);0===n.indexOf(this._prefix)&&e.push(n.substr(this._prefix.length))}return Promise.resolve(e)},e}()},"./src/crypto/jsrsasign.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var r=n("./jsrsasign/dist/jsrsasign.js"),i=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];t.jws=r.jws,t.KeyUtil=r.KEYUTIL,t.X509=r.X509,t.crypto=r.crypto,t.hextob64u=r.hextob64u,t.b64tohex=r.b64tohex,t.AllowedSigningAlgs=i},"./src/random.js":function(e,t,n){function r(){return(0,o.default)().replace(/-/g,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("./node_modules/uuid/v4.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=t.default},"./version.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.Version="1.10.1"}})}),define("ev-script/routers/auth",["require","underscore","loglevel","urijs/URI","backbone"],function(e){"use strict";var t=e("underscore"),n=e("loglevel"),r=e("urijs/URI");return e("backbone").Router.extend({initialize:function(e){t.bindAll(this,"default","popupCallback","silentCallback","logoutCallback"),this.userManager=e.userManager,this.defaultCallback=e.defaultCallback||function(){},this.config=e.config},routes:{"":"default","auth/popupCallback":"popupCallback","auth/silentCallback":"silentCallback","auth/redirectCallback":"redirectCallback","auth/logoutCallback":"logoutCallback"},default:function(){n.info("[routers/auth] default route"),this.defaultCallback()},popupCallback:function(){n.info("[routers/auth] popupCallback route"),this.userManager.signinPopupCallback()},silentCallback:function(){n.info("[routers/auth] silentCallback route"),this.userManager.signinSilentCallback()},redirectCallback:function(){n.info("[routers/auth] redirectCallback route"),this.userManager.signinRedirectCallback().then(t.bind(function(e){var t=r("").search(e.state).toString();this.navigate(t),this.config.redirectCallback&&this.config.redirectCallback(e.state),this.config.currentUserId=e.profile.sub,this.default()},this))},logoutCallback:function(){n.info("[routers/auth] logoutCallback route"),this.config.useAuthRedirect?this.userManager.signoutRedirectCallback().then(t.bind(function(e){var t=r("").search(e.state).toString();this.navigate(t),this.config.redirectCallback&&this.config.redirectCallback(e.state),this.config.currentUserId=void 0,this.default()},this)):this.userManager.signoutPopupCallback()}})}),define("ev-script/util/auth",["require","jquery","underscore","loglevel","oidc","urijs/URI","ev-script/routers/auth"],function(e){"use strict";var t,n,r=e("jquery"),i=e("underscore"),o=e("loglevel"),s=e("oidc"),a=e("urijs/URI"),l=e("ev-script/routers/auth"),u=function(e){this.config=e.config,this.events=e.events,s.Log.logger=console,"debug"===this.config.logLevel.toLowerCase()&&(s.Log.level=s.Log.DEBUG);try{t=new s.WebStorageStateStore({store:window.localStorage})}catch(e){o.warn(e.message),t=n=new s.WebStorageStateStore({store:new s.InMemoryWebStorage})}this.userManager=new s.UserManager({client_id:this.config.clientId,authority:this.config.ensembleUrl+this.config.apiPath,redirect_uri:window.location.origin+a.joinPaths(this.config.appRoot,"auth/redirectCallback"),popup_redirect_uri:window.location.origin+a.joinPaths(this.config.appRoot,"auth/popupCallback"),silent_redirect_uri:window.location.origin+a.joinPaths(this.config.appRoot,"auth/silentCallback"),post_logout_redirect_uri:window.location.origin+a.joinPaths(this.config.appRoot,"auth/logoutCallback"),response_type:"code",scope:"openid email profile all offline_access",loadUserInfo:!0,automaticSilentRenew:!1,filterProtocolClaims:!0,userStore:t,stateStore:n,silentRequestTimeout:3e3}),this.userManager.clearStaleState(),this.userManager.events.addUserLoaded(function(e){console.log(e)}),this.userManager.startSilentRenew(),this.authRouter=new l({userManager:this.userManager,defaultCallback:e.callback,config:this.config})};return u.prototype.doAuthenticate=function(e,t){var n=i.bind(function(t,n){o.debug("[doAuthenticate] Found user"),o.debug(t),this.config.currentUserId=t.profile.sub,this.events.trigger("loggedIn",e,n),this.deferred.resolve()},this),s=i.bind(function(e){o.debug("[doAuthenticate] No user found...triggering loggedOut"),this.config.currentUserId=null,this.events.trigger("loggedOut"),this.deferred.reject()},this),l=i.bind(function(e){var t=parseInt(screen.availHeight/2-250,10),r=parseInt(screen.availWidth/2-250,10),u="location=no,toolbar=no,width=500,height=500,left="+r+",top="+t+",screenX="+r+",screenY="+t+",chrome=yes;centerscreen=yes;",c=this.config.useAuthRedirect;e?(o.debug("[doAuthenticate] Forcing login prompt"),c?this.userManager.signinRedirect({prompt:"login",extraQueryParams:{ev_institution_id:this.config.institutionId,ev_allow_non_provisioned:!1},state:a(window.location.href).search(!0)}):this.userManager.signinPopup({popupWindowFeatures:u,prompt:"login",extraQueryParams:{ev_institution_id:this.config.institutionId,ev_allow_non_provisioned:!1}}).then(n).catch(s)):(o.debug("[doAuthenticate] No user found...attempting silent sign-in"),this.userManager.signinSilent().then(i.bind(function(e){JSON.parse(e.profile["http://ensemblevideo.com/claims/provisioned"].toLowerCase())?n(e,!0):(o.debug("[doAuthenticate] User not provisioned"),this.userManager.removeUser().then(function(){l(!0)}))},this)).catch(i.bind(function(e){o.debug("[doAuthenticate] No user found...attempting interactive sign-in"),c?this.userManager.signinRedirect({extraQueryParams:{ev_institution_id:this.config.institutionId,ev_allow_non_provisioned:!1},state:a(window.location.href).search(!0)}):this.userManager.signinPopup({popupWindowFeatures:u,extraQueryParams:{ev_institution_id:this.config.institutionId,ev_allow_non_provisioned:!1}}).then(n).catch(s)},this)))},this);return this.deferred&&"pending"===this.deferred.state()||(this.deferred=r.Deferred(),o.debug("[doAuthenticate] Checking for user"),this.userManager.getUser().then(i.bind(function(e){!e||e.expired||t?l(t):n(e,!0)},this)).catch(i.bind(function(e){o.error(e)},this))),this.deferred.promise()},u.prototype.logout=function(){var e=i.bind(function(){this.config.currentUserId=null,this.events.trigger("loggedOut")},this);return this.userManager.stopSilentRenew(),this.config.useAuthRedirect?this.userManager.signoutRedirect({state:a(window.location.href).search(!0)}).then(e):this.userManager.signoutPopup().then(e)},u.prototype.getUser=function(){return this.userManager.getUser()},u}),function(e){"function"==typeof define&&define.amd?define("cldr/supplemental",["../cldr"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("../cldr")):e(Cldr)}(function(e){var t=e._alwaysArray,n=function(e){var n,r;return n=function(n){return function(r){return r=t(r),e.get([n].concat(r))}},r=n("supplemental"),r.weekData=n("supplemental/weekData"),r.weekData.firstDay=function(){return e.get("supplemental/weekData/firstDay/{territory}")||e.get("supplemental/weekData/firstDay/001")},r.weekData.minDays=function(){var t=e.get("supplemental/weekData/minDays/{territory}")||e.get("supplemental/weekData/minDays/001");return parseInt(t,10)},r.timeData=n("supplemental/timeData"),r.timeData.allowed=function(){return e.get("supplemental/timeData/{territory}/_allowed")||e.get("supplemental/timeData/001/_allowed")},r.timeData.preferred=function(){return e.get("supplemental/timeData/{territory}/_preferred")||e.get("supplemental/timeData/001/_preferred")},r},r=e.prototype.init;return e.prototype.init=function(){r.apply(this,arguments),this.supplemental=n(this)},e}),function(e){"function"==typeof define&&define.amd?define("cldr/unresolved",["../cldr"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("../cldr")):e(Cldr)}(function(e){var t=e._coreLoad,n=e._jsonMerge,r=e._pathNormalize,i=e._resourceGet,o=e._validatePresence,s=e._validateTypePath,a=function(e,t){var n,o;if("root"!==t)return n=r(["supplemental/parentLocales/parentLocale",t]),(o=i(e._resolved,n)||i(e._raw,n))?o:(o=t.substr(0,t.lastIndexOf(e.localeSep)))||"root"},l=function(e,t,n){var r,i=e,o=t.length;for(r=0;r<o-1;r++)i[t[r]]||(i[t[r]]={}),i=i[t[r]];i[t[r]]=n},u=function(){var e;return e=function(t,o,s,u,c){var d,h,p;if(void 0!==o&&o!==c)return d=r(s,u),void 0!==(p=i(t._resolved,d))&&"object"!=typeof p?p:(p=i(t._raw,d),void 0===p&&(h=a(t,o),p=e(t,h,s,n(u,{bundle:h}),o)),void 0!==p&&l(t._resolved,d,p),p)}}();return e._raw={},e.load=function(){e._raw=t(e,e._raw,arguments)},e.prototype.get=function(t){return o(t,"path"),s(t,"path"),u(e,this.attributes&&this.attributes.bundle||"",t,this.attributes)},e._eventInit&&e._eventInit(),e}),function(e,t){"function"==typeof define&&define.amd?define("globalize/message",["cldr","../globalize","cldr/event"],t):"object"==typeof exports?module.exports=t(require("cldrjs"),require("../globalize")):t(e.Cldr,e.Globalize)}(this,function(e,t){var n,r=t._alwaysArray,i=t._createError,o=t._isPlainObject,s=t._runtimeBind,a=t._validateDefaultLocale,l=t._validate,u=t._validateParameterPresence,c=t._validateParameterType,d=t._validateParameterTypePlainObject;n=function(){function e(e,t){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(e))return t?t+"."+e:e;var n=JSON.stringify(e);return t?t+"["+n+"]":n}function t(e,t,n){if(this.lc=[e],this.runtime.pluralFuncs={},this.runtime.pluralFuncs[this.lc[0]]=t,this.runtime.fmt={},n)for(var r in n)this.runtime.fmt[r]=n[r]}return t._parse=function(){function e(e,t,n,r,i,o){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}function t(t){function n(e){return We!==e&&(We>e&&(We=0,Ve={line:1,column:1,seenCR:!1}),function(e,n,r){var i,o;for(i=n;i<r;i++)o=t.charAt(i),"\n"===o?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(Ve,We,e),We=e),Ve}function r(e){Ze<$e||(Ze>$e&&($e=Ze,Ke=[]),Ke.push(e))}function i(r,i,o){var s=n(o),a=o<t.length?t.charAt(o):null;return null!==i&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(i),new e(null!==r?r:function(e,t){var n,r,i,o=new Array(e.length);for(i=0;i<e.length;i++)o[i]=e[i].description;return n=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],r=t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input","Expected "+n+" but "+r+" found."}(i,a),i,a,o,s.line,s.column)}function o(){return s()}function s(){var e,t,n;for(e=Ze,t=[],n=a(),n===T&&(n=v())===T&&(n=g());n!==T;)t.push(n),(n=a())===T&&(n=v())===T&&(n=g());return t!==T&&(qe=e,t=A(t)),e=t}function a(){var e,n,i,o,s,a,u;return e=Ze,123===t.charCodeAt(Ze)?(n=P,Ze++):(n=T,0===Ge&&r(C)),n!==T?(i=L(),i!==T?(o=y(),o!==T?(s=Ze,44===t.charCodeAt(Ze)?(a=j,Ze++):(a=T,0===Ge&&r(O)),a!==T?(u=l(),u!==T?(a=[a,u],s=a):(Ze=s,s=E)):(Ze=s,s=E),s===T&&(s=Y),s!==T?(a=L(),a!==T?(125===t.charCodeAt(Ze)?(u=R,Ze++):(u=T,0===Ge&&r(I)),u!==T?(qe=e,n=U(o,s),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E),e}function l(){var e,n,i,o,s,a,l,c;if(e=Ze,n=L(),n!==T?(t.substr(Ze,6)===H?(i=H,Ze+=6):(i=T,0===Ge&&r(N)),i!==T?(o=L(),o!==T?(44===t.charCodeAt(Ze)?(s=j,Ze++):(s=T,0===Ge&&r(O)),s!==T?(a=L(),a!==T?(l=u(),l!==T?(c=L(),c!==T?(qe=e,n=z(i,l),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E),e===T&&(e=Ze,n=L(),n!==T?(t.substr(Ze,13)===B?(i=B,Ze+=13):(i=T,0===Ge&&r(Z)),i!==T?(o=L(),o!==T?(44===t.charCodeAt(Ze)?(s=j,Ze++):(s=T,0===Ge&&r(O)),s!==T?(a=L(),a!==T?(l=u(),l!==T?(c=L(),c!==T?(qe=e,n=z(i,l),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E),e===T&&(e=Ze,n=L(),n!==T?(t.substr(Ze,6)===q?(i=q,Ze+=6):(i=T,0===Ge&&r(W)),i!==T?(o=L(),o!==T?(44===t.charCodeAt(Ze)?(s=j,Ze++):(s=T,0===Ge&&r(O)),s!==T?(a=L(),a!==T?(l=p(),l!==T?(c=L(),c!==T?(qe=e,n=z(i,l),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E),e===T)))if(e=Ze,(n=L())!==T)if((i=y())!==T){for(o=[],s=m();s!==T;)o.push(s),s=m();o!==T?(qe=e,n=V(i,o),e=n):(Ze=e,e=E)}else Ze=e,e=E;else Ze=e,e=E;return e}function u(){var e,t,n,r;if(e=Ze,t=c(),t===T&&(t=Y),t!==T){if(n=[],(r=d())!==T)for(;r!==T;)n.push(r),r=d();else n=E;n!==T?(qe=e,t=$(t,n),e=t):(Ze=e,e=E)}else Ze=e,e=E;return e}function c(){var e,n,i,o,s,a,l,u;return e=Ze,n=L(),n!==T?(t.substr(Ze,6)===K?(i=K,Ze+=6):(i=T,0===Ge&&r(G)),i!==T?(o=L(),o!==T?(58===t.charCodeAt(Ze)?(s=J,Ze++):(s=T,0===Ge&&r(X)),s!==T?(a=L(),a!==T?(l=w(),l!==T?(u=L(),u!==T?(qe=e,n=Q(l),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E),e}function d(){var e,n,i,o,a,l,u,c,d;return e=Ze,n=L(),n!==T?(i=h(),i!==T?(o=L(),o!==T?(123===t.charCodeAt(Ze)?(a=P,Ze++):(a=T,0===Ge&&r(C)),a!==T?(l=L(),l!==T?(u=s(),u!==T?(c=L(),c!==T?(125===t.charCodeAt(Ze)?(d=R,Ze++):(d=T,0===Ge&&r(I)),d!==T?(qe=e,n=ee(i,u),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E),e}function h(){var e,n,i;return e=Ze,n=y(),n!==T&&(qe=e,n=te(n)),e=n,e===T&&(e=Ze,61===t.charCodeAt(Ze)?(n=ne,Ze++):(n=T,0===Ge&&r(re)),n!==T?(i=w(),i!==T?(qe=e,n=Q(i),e=n):(Ze=e,e=E)):(Ze=e,e=E)),e}function p(){var e,t,n;if(e=Ze,t=[],(n=f())!==T)for(;n!==T;)t.push(n),n=f();else t=E;return t!==T&&(qe=e,t=ie(t)),e=t}function f(){var e,n,i,o,a,l,u,c,d;return e=Ze,n=L(),n!==T?(i=y(),i!==T?(o=L(),o!==T?(123===t.charCodeAt(Ze)?(a=P,Ze++):(a=T,0===Ge&&r(C)),a!==T?(l=L(),l!==T?(u=s(),u!==T?(c=L(),c!==T?(125===t.charCodeAt(Ze)?(d=R,Ze++):(d=T,0===Ge&&r(I)),d!==T?(qe=e,n=ee(i,u),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E),e}function m(){var e,n,i,o,s,a;return e=Ze,n=L(),n!==T?(44===t.charCodeAt(Ze)?(i=j,Ze++):(i=T,0===Ge&&r(O)),i!==T?(o=L(),o!==T?(s=y(),s!==T?(a=L(),a!==T?(qe=e,n=oe(s),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E),e}function g(){var e,n;return e=Ze,35===t.charCodeAt(Ze)?(n=se,Ze++):(n=T,0===Ge&&r(ae)),n!==T&&(qe=e,n=le()),e=n}function v(){var e,t,n;if(e=Ze,t=[],n=_(),n===T&&(n=M()),n!==T)for(;n!==T;)t.push(n),(n=_())===T&&(n=M());else t=E;return t!==T&&(qe=e,t=ue(t)),e=t}function y(){var e,n,i,o,s,a,l;if(Ge++,e=Ze,(n=L())!==T){if(i=Ze,o=Ze,de.test(t.charAt(Ze))?(s=t.charAt(Ze),Ze++):(s=T,0===Ge&&r(he)),s!==T){for(a=[],pe.test(t.charAt(Ze))?(l=t.charAt(Ze),Ze++):(l=T,0===Ge&&r(fe));l!==T;)a.push(l),pe.test(t.charAt(Ze))?(l=t.charAt(Ze),Ze++):(l=T,0===Ge&&r(fe));a!==T?(s=[s,a],o=s):(Ze=o,o=E)}else Ze=o,o=E;o!==T&&(o=t.substring(i,Ze)),i=o,i!==T?(o=L(),o!==T?(qe=e,n=me(i),e=n):(Ze=e,e=E)):(Ze=e,e=E)}else Ze=e,e=E;return Ge--,e===T&&(n=T,0===Ge&&r(ce)),e}function _(){var e,t,n;if(e=Ze,t=[],(n=b())!==T)for(;n!==T;)t.push(n),n=b();else t=E;return t!==T&&(qe=e,t=ge(t)),e=t}function b(){var e,n,i,o,s,a;return e=Ze,ve.test(t.charAt(Ze))?(n=t.charAt(Ze),Ze++):(n=T,0===Ge&&r(ye)),n!==T&&(qe=e,n=_e(n)),e=n,e===T&&(e=Ze,t.substr(Ze,2)===be?(n=be,Ze+=2):(n=T,0===Ge&&r(we)),n!==T&&(qe=e,n=ke()),(e=n)===T&&(e=Ze,t.substr(Ze,2)===Le?(n=Le,Ze+=2):(n=T,0===Ge&&r(Me)),n!==T&&(qe=e,n=Se()),(e=n)===T&&(e=Ze,t.substr(Ze,2)===xe?(n=xe,Ze+=2):(n=T,0===Ge&&r(Te)),n!==T&&(qe=e,n=De()),(e=n)===T&&(e=Ze,t.substr(Ze,2)===Fe?(n=Fe,Ze+=2):(n=T,0===Ge&&r(Ae)),n!==T&&(qe=e,n=Ee()),(e=n)===T&&(e=Ze,t.substr(Ze,2)===Pe?(n=Pe,Ze+=2):(n=T,0===Ge&&r(Ce)),n!==T?(i=k(),i!==T?(o=k(),o!==T?(s=k(),s!==T?(a=k(),a!==T?(qe=e,n=Ye(i,o,s,a),e=n):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)):(Ze=e,e=E)))))),e}function w(){var e,n,i;if(e=Ze,n=[],je.test(t.charAt(Ze))?(i=t.charAt(Ze),Ze++):(i=T,0===Ge&&r(Oe)),i!==T)for(;i!==T;)n.push(i),je.test(t.charAt(Ze))?(i=t.charAt(Ze),Ze++):(i=T,0===Ge&&r(Oe));else n=E;return n!==T&&(qe=e,n=Re(n)),e=n}function k(){var e;return Ie.test(t.charAt(Ze))?(e=t.charAt(Ze),Ze++):(e=T,0===Ge&&r(Ue)),e}function L(){var e,t,n;for(Ge++,e=Ze,t=[],n=M();n!==T;)t.push(n),n=M();return t!==T&&(qe=e,t=Ne(t)),e=t,Ge--,e===T&&(t=T,0===Ge&&r(He)),e}function M(){var e;return ze.test(t.charAt(Ze))?(e=t.charAt(Ze),Ze++):(e=T,0===Ge&&r(Be)),e}var S,x=arguments.length>1?arguments[1]:{},T={},D={start:o},F=o,A=function(e){return{type:"messageFormatPattern",statements:e}},E=T,P="{",C={type:"literal",value:"{",description:'"{"'},Y=null,j=",",O={type:"literal",value:",",description:'","'},R="}",I={type:"literal",value:"}",description:'"}"'},U=function(e,t){var n={type:"messageFormatElement",argumentIndex:e};return t&&t.length?n.elementFormat=t[1]:n.output=!0,n},H="plural",N={type:"literal",value:"plural",description:'"plural"'},z=function(e,t){return{type:"elementFormat",key:e,val:t}},B="selectordinal",Z={type:"literal",value:"selectordinal",description:'"selectordinal"'},q="select",W={type:"literal",value:"select",description:'"select"'},V=function(e,t){return{type:"elementFormat",key:e,val:t}},$=function(e,t){return{type:"pluralFormatPattern",pluralForms:t,offset:e||0}},K="offset",G={type:"literal",value:"offset",description:'"offset"'},J=":",X={type:"literal",value:":",description:'":"'},Q=function(e){return e},ee=function(e,t){return{key:e,val:t}},te=function(e){return e},ne="=",re={type:"literal",value:"=",description:'"="'},ie=function(e){return{type:"selectFormatPattern",pluralForms:e}},oe=function(e){return e},se="#",ae={type:"literal",value:"#",description:'"#"'},le=function(){return{type:"octothorpe"}},ue=function(e){return{type:"string",val:e.join("")}},ce={
type:"other",description:"identifier"},de=/^[0-9a-zA-Z$_]/,he={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},pe=/^[^ \t\n\r,.+={}]/,fe={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},me=function(e){return e},ge=function(e){return e.join("")},ve=/^[^{}#\\\0-\x1F \t\n\r]/,ye={type:"class",value:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]"},_e=function(e){return e},be="\\\\",we={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ke=function(){return"\\"},Le="\\#",Me={type:"literal",value:"\\#",description:'"\\\\#"'},Se=function(){return"#"},xe="\\{",Te={type:"literal",value:"\\{",description:'"\\\\{"'},De=function(){return"{"},Fe="\\}",Ae={type:"literal",value:"\\}",description:'"\\\\}"'},Ee=function(){return"}"},Pe="\\u",Ce={type:"literal",value:"\\u",description:'"\\\\u"'},Ye=function(e,t,n,r){return String.fromCharCode(parseInt("0x"+e+t+n+r))},je=/^[0-9]/,Oe={type:"class",value:"[0-9]",description:"[0-9]"},Re=function(e){return parseInt(e.join(""),10)},Ie=/^[0-9a-fA-F]/,Ue={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},He={type:"other",description:"whitespace"},Ne=function(e){return e.join("")},ze=/^[ \t\n\r]/,Be={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},Ze=0,qe=0,We=0,Ve={line:1,column:1,seenCR:!1},$e=0,Ke=[],Ge=0;if("startRule"in x){if(!(x.startRule in D))throw new Error("Can't start parsing from rule \""+x.startRule+'".');F=D[x.startRule]}if((S=F())!==T&&Ze===t.length)return S;throw S!==T&&Ze<t.length&&r({type:"end",description:"end of input"}),i(null,Ke,$e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:t}}().parse,t.plurals={},t.formatters={},t.prototype.runtime={number:function(e,t){if(isNaN(e))throw new Error("'"+e+"' isn't a number.");return e-(t||0)},plural:function(e,t,n,r,i){if({}.hasOwnProperty.call(r,e))return r[e]();t&&(e-=t);var o=n(e,i);return o in r?r[o]():r.other()},select:function(e,t){return{}.hasOwnProperty.call(t,e)?t[e]():t.other()},pluralFuncs:{},fmt:{},toString:function(){var t=function(n,r){if("object"!=typeof n){var i=n.toString().replace(/^(function )\w*/,"$1"),o=/([ \t]*)\S.*$/.exec(i);return o?i.replace(new RegExp("^"+o[1],"mg"),""):i}var s=[];for(var a in n)"toString"!=a&&(0==r?s.push("var "+a+" = "+t(n[a],r+1)+";\n"):s.push(e(a)+": "+t(n[a],r+1)));if(0==r)return s.join("");if(0==s.length)return"{}";for(var o="  ";--r;)o+="  ";return"{\n"+s.join(",\n").replace(/^/gm,o)+"\n}"};return t(this,0)}},t.prototype._precompile=function(n,r){r=r||{keys:{},offset:{}};var i,o,s=[],a=[];switch(n.type){case"messageFormatPattern":for(i=0;i<n.statements.length;++i)s.push(this._precompile(n.statements[i],r));return o=s.join(" + ")||'""',r.pf_count?o:"function(d) { return "+o+"; }";case"messageFormatElement":return r.pf_count=r.pf_count||0,n.output?e(n.argumentIndex,"d"):(r.keys[r.pf_count]=n.argumentIndex,this._precompile(n.elementFormat,r));case"elementFormat":switch(a=[e(r.keys[r.pf_count],"d")],n.key){case"select":return a.push(this._precompile(n.val,r)),"select("+a.join(", ")+")";case"selectordinal":return a=a.concat([0,e(this.lc[0],"pluralFuncs"),this._precompile(n.val,r),1]),"plural("+a.join(", ")+")";case"plural":return r.offset[r.pf_count||0]=n.val.offset||0,a=a.concat([r.offset[r.pf_count]||0,e(this.lc[0],"pluralFuncs"),this._precompile(n.val,r)]),"plural("+a.join(", ")+")";default:return this.withIntlSupport&&!(n.key in this.runtime.fmt)&&n.key in t.formatters&&(o=t.formatters[n.key],this.runtime.fmt[n.key]="function"==typeof o(this)?o(this):o),a.push(JSON.stringify(this.lc)),n.val&&n.val.length&&a.push(JSON.stringify(1==n.val.length?n.val[0]:n.val)),"fmt."+n.key+"("+a.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":r.pf_count=r.pf_count||0,"selectFormatPattern"==n.type&&(r.offset[r.pf_count]=0);var l=!0;for(i=0;i<n.pluralForms.length;++i){var u=n.pluralForms[i].key;"other"===u&&(l=!1);var c=JSON.parse(JSON.stringify(r));c.pf_count++,s.push(e(u)+": function() { return "+this._precompile(n.pluralForms[i].val,c)+";}")}if(l)throw new Error("No 'other' form found in "+n.type+" "+r.pf_count);return"{ "+s.join(", ")+" }";case"string":return JSON.stringify(n.val||"");case"octothorpe":return r.pf_count?(a=[e(r.keys[r.pf_count-1],"d")],r.offset[r.pf_count-1]&&a.push(r.offset[r.pf_count-1]),"number("+a.join(", ")+")"):'"#"';default:throw new Error("Bad AST type: "+n.type)}},t.prototype.compile=function(n,r){var i={},o=this.lc,s=function(e,n){try{var r=t._parse(n);return e._precompile(r)}catch(e){throw new Error((r?"Precompiler":"Parser")+" error: "+e.toString())}},a=function(t,n){if(n||(n=0),"object"!=typeof t)return t;for(var r=[],i="",o=0;o<n;++o)i+="  ";for(var s in t)r.push("\n"+i+"  "+e(s)+": "+a(t[s],n+1));return"{"+r.join(",")+"\n"+i+"}"};if("string"==typeof n){return new Function("number, plural, select, pluralFuncs, fmt","return "+s(this,n))(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt)}r=r||{};for(var l in n)if(r.locale&&(this.lc=r.locale[l]&&[].concat(r.locale[l])||o),"string"==typeof n[l])try{i[l]=s(this,n[l])}catch(e){throw e.message=e.message.replace(":"," with `"+l+"`:"),e}else{i[l]={};for(var u in n[l])try{i[l][u]=s(this,n[l][u])}catch(e){throw e.message=e.message.replace(":"," with `"+u+"` in `"+l+"`:"),e}}this.lc=o;var c=this.runtime.toString()+"\n";switch(r.global||""){case"exports":var d=[];for(var h in i)d.push(e(h,"exports")+" = "+a(i[h]));return new Function(c+d.join(";\n"));case"module.exports":return new Function(c+"module.exports = "+a(i));case"":return new Function(c+"return "+a(i));default:return new Function("G",c+e(r.global,"G")+" = "+a(i))}},t}();var h=function(){return i("E_MISSING_PLURAL_MODULE","Plural module not loaded.")},p=function(e){l("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",e.attributes.bundle&&void 0!==e.get("globalize-messages/{bundle}"),{locale:e.locale})},f=function(e,t){e=e.join("/"),l("E_MISSING_MESSAGE","Missing required message content `{path}`.",void 0!==t,{path:e})},m=function(e,t){e=e.join("/"),l("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.","string"==typeof t,{expected:"a string",path:e})},g=function(e,t){c(e,t,void 0===e||o(e)||Array.isArray(e),"Array or Plain Object")},v=function(e){return function(t){return"number"!=typeof t&&"string"!=typeof t||(t=[].slice.call(arguments,0)),g(t,"variables"),e(t)}},y=function(e,t){var n=e.locale,r=t.toString;return t.toString=function(){var e,i,o,s={};return o=r.call(t),/number\(/.test(o)&&(s.number="messageFormat.number"),/plural\(/.test(o)&&(s.plural="messageFormat.plural"),/select\(/.test(o)&&(s.select="messageFormat.select"),o.replace(/pluralFuncs(\[([^\]]+)\]|\.([a-zA-Z]+))/,function(e){return s.pluralFuncs='{"'+n+'": Globalize("'+n+'").pluralGenerator()}',e}),e=Object.keys(s).join(", "),i=Object.keys(s).map(function(e){return s[e]}).join(", "),"(function( "+e+" ) {\n  return "+o+"\n})("+i+")"},t},_=[].slice;return t.loadMessages=function(t){var n,r={"globalize-messages":t,main:{}};u(t,"json"),d(t,"json");for(n in t)t.hasOwnProperty(n)&&(r.main[n]={});e.load(r)},t.messageFormatter=t.prototype.messageFormatter=function(e){var t,i,o,l,d,g=_.call(arguments,0);return u(e,"path"),c(e,"path","string"==typeof e||Array.isArray(e),"a String nor an Array"),e=r(e),t=this.cldr,a(t),p(t),o=t.get(["globalize-messages/{bundle}"].concat(e)),f(e,o),Array.isArray(o)&&(o=o.join(" ")),m(e,o),l=void 0!==this.plural?this.pluralGenerator():h,i=new n(t.locale,l).compile(o),d=v(i),s(g,t,d,[y(t,i),l]),d},t.formatMessage=t.prototype.formatMessage=function(e){return this.messageFormatter(e).apply({},_.call(arguments,1))},t}),define("ev-script",["require","backbone","underscore","jquery","loglevel","globalize","moment","json!cldr-data/supplemental/likelySubtags.json","json!ev-script/i18n/root/messages.json","ev-script/models/video-settings","ev-script/models/playlist-settings","ev-script/models/dropbox-settings","ev-script/models/quiz-settings","ev-script/views/video-field","ev-script/views/playlist-field","ev-script/views/dropbox-field","ev-script/views/quiz-field","ev-script/views/video-embed","ev-script/views/playlist-embed","ev-script/views/dropbox-embed","ev-script/views/quiz-embed","ev-script/models/root","ev-script/models/info","ev-script/util/events","ev-script/util/cache","ev-script/util/auth","cldr/supplemental","cldr/unresolved","globalize/message"],function(e){"use strict";var t=e("backbone"),n=e("underscore"),r=e("jquery"),i=e("loglevel"),o=e("globalize"),s=e("moment"),a=e("json!cldr-data/supplemental/likelySubtags.json"),l=e("json!ev-script/i18n/root/messages.json"),u=e("ev-script/models/video-settings"),c=e("ev-script/models/playlist-settings"),d=e("ev-script/models/dropbox-settings"),h=e("ev-script/models/quiz-settings"),p=e("ev-script/views/video-field"),f=e("ev-script/views/playlist-field"),m=e("ev-script/views/dropbox-field"),g=e("ev-script/views/quiz-field"),v=e("ev-script/views/video-embed"),y=e("ev-script/views/playlist-embed"),_=e("ev-script/views/dropbox-embed"),b=e("ev-script/views/quiz-embed"),w=e("ev-script/models/root"),k=e("ev-script/models/info"),L=e("ev-script/util/events"),M=e("ev-script/util/cache"),S=e("ev-script/util/auth"),x=["en","en-US","es","es-MX","fr","fr-FR"];return e("cldr/supplemental"),e("cldr/unresolved"),e("globalize/message"),{VideoSettings:u,PlaylistSettings:c,DropboxSettings:d,QuizSettings:h,EnsembleApp:function(e){var T,D,F,A,E,P,C,Y,j,O={ensembleUrl:"",apiPath:"/hapi",pageSize:100,scrollHeight:null,hidePickers:!1,dialogMargin:40,institutionId:"",getDateFormatCallback:function(){return"MM/DD/YYYY"},getTimeFormatCallback:function(){return"hh:mmA"},getDateTimeFormat:function(){return this.getDateFormatCallback()+" "+this.getTimeFormatCallback()},i18nPath:"",imagePath:"",logLevel:"info",appRoot:window.location.pathname.replace(/\/auth.*/,""),currentUserId:"",clientId:"",tpcEnabled:!0,useAuthRedirect:!1,redirectCallback:function(){}};if(T=n.extend({},O,e),!T.clientId)throw new Error("clientId is required");T.appRoot=/\/$/.test(T.appRoot)?T.appRoot:T.appRoot+"/",o.load(a),i.setDefaultLevel(T.logLevel),i.info("[ev-script] Initializing app"),i.debug("[ev-script] Config:"),i.debug(T),P=r.Deferred(),n.extend(this,P.promise()),this.events=D=L.getEvents(),A=function(e){var t,a,u,c,d=r.Deferred();return j.promise.done(function(){if(t=j.getUser(),t?(u=t.getEmbedded("ev:LocalizationPreferences/Get"),a=u.get("language")):navigator.languages&&(c=n.intersection(navigator.languages,x),a=c[0]),u||(u=j.getEmbedded("ev:Brandings/Current").getEmbedded("ev:LocalizationPreferences/Get"),a||(a=u.get("language"))),T.getDateFormatCallback=function(){return u.get("dateFormat").toUpperCase()},T.getTimeFormatCallback=function(){return u.get("timeFormat").replace("tt","A")},i.debug("[ev-script] Locale: "+a),T.locale===a)return d.resolve(M.getI18n()),d.promise();T.locale=a,s.locale(a),i.info("[ev-script] Retrieving localized messages"),r.getJSON(T.i18nPath+"/"+a+"/messages.json").done(function(t,r,i){n.extend(l,t),o.loadMessages(l),F=new o(l[a]?a:"en-US"),M.setI18n(F),e||D.trigger("localeUpdated",F),d.resolve(F)}).fail(function(e,t,n){throw d.reject(),new Error("Failed to load i18n messages!")})}),d.promise()},E=function(){j.promise.done(function(){var e=n.extend({},F);i.debug("[ev-script] Resetting locale"),A().then(function(t){e.cldr.locale!==t.cldr.locale&&(i.debug("[ev-script] Locale reset"),D.trigger("localeReset"))})})},C=function(){if(i.info("[ev-script] Loading app"),!T.institutionId)throw new Error("institutionId is required");M.setAuth(Y),M.setConfig(T),j=new w({},{href:T.ensembleUrl+T.apiPath}),M.setRoot(j),D.on("loggedIn",E),D.on("loggedOut",E),j.fetch({}).done(function(){var e=new k({},{href:j.getLink("ev:Info/Get").href});M.setInfo(e),e.fetch({}).always(function(){e.get("applicationVersion")?A(!0).done(function(e,t,n){i.info("[ev-script] App loaded"),D.trigger("appLoaded"),P.resolve()}).fail(function(e,t,n){throw new Error("Failed to load app!")}):P.reject("Failed to retrieve application info.")})}).fail(function(){P.reject("An error occurred while connecting to the Ensemble Video API")})},Y=new S({config:T,events:D,callback:C}),t.history.start({pushState:!0,silent:!1,root:T.appRoot}),this.handleField=function(e,t,n){var o=r(n,e),s={id:e.id||"ev-field",el:e,model:t,$field:o};if(i.debug("[ev-script] handleField"),i.debug(arguments),t instanceof u)new p(s);else if(t instanceof c)new f(s);else if(t instanceof d)new m(s);else{if(!(t instanceof h))throw new Error("Unrecognized settings model type");new g(s)}},this.handleEmbed=function(e,t){if(i.debug("[ev-script] handleEmbed"),i.debug(arguments),t instanceof u){new v({el:e,model:t}).render()}else if(t instanceof c){var n=new y({el:e,model:t});n.render()}else if(t instanceof d){var r=new _({el:e,model:t});r.render()}else{if(!(t instanceof h))throw new Error("Unrecognized settings model type");var o=new b({el:e,model:t});o.render()}},this.getEmbedCode=function(e){i.debug("[ev-script] getEmbedCode"),i.debug(arguments);var t=r("<div/>");if("video"===e.type)this.handleEmbed(t[0],new u(e));else if("playlist"===e.type)this.handleEmbed(t[0],new c(e));else if("dropbox"===e.type)this.handleEmbed(t[0],new d(e));else{if("quiz"!==e.type)throw new Error("Unrecognized settings model type");this.handleEmbed(t[0],new h(e))}return t.html()},this.getI18n=function(){return F},this.getUser=function(){return Y.getUser()},this.getConfig=function(){return T}}}}),define("jquery",function(){return $||jQuery}),define("jquery-ui/ui/widgets/dialog",["jquery"],function(){}),define("jquery-ui/ui/widgets/tabs",["jquery"],function(){}),require("ev-script")});
//# sourceMappingURL=ev-script.min.js.map